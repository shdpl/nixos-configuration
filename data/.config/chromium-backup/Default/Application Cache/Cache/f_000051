define("MsPortalImpl.Controls/Controls/Controls.ContextMenuHelpers",["require","exports","f","MsPortalImpl/UI/Commands/UI.Commands.Base"],(function(n,t,i){"use strict";var r;return (function(n){function u(n,i){var u=$.Event(r.rightclick);u.clientX=i.clientX||n.clientX;u.clientY=i.clientY||n.clientY;$(n.target).trigger(u,t(i.widget,i.currentItem))}function t(n,t){var i;return i={selectableSet:n.selectableSet},n.triggerPlugins("getListDataForRightClick",t).forEach((function(n){$.extend(i,n)})),{entityType:1,listData:i,viewModel:t}}var r=i.Base.EventTypes;n.triggerRightClick=u;n.getCommandRightClickEventArgs=t})(r||(r={})),r}));define("MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Focus",["require","exports","o","./Controls.Lists.Base"],(function(n,t,i,r){"use strict";var u;return (function(n){n.Name="focus";n.HasFocusClass="fxs-has-focus";var t=(function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.dispose=function(){n.prototype.dispose.call(this)},t})(r.Plugin);n.Plugin=
t})(u||(u={})),u}));define("MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Formatters",["require","exports","f","i","o","MsPortalImpl/Base/Base.ImplUtils","MsPortalImpl/Base/Base.Sanitization","MsPortalImpl/Base/Base.KnockoutTemplateSanitizer","Viva.Controls/Util/Viva.DateUtil","MsPortalFx/Globalization"],(function(n,t,i,r,u,f,e,o,s,h){"use strict";var c;return (function(t){function it(n){return n._isSafe||n._isTrusted}function c(n){return{html:n}}function a(n){var t=ko.unwrap(n);return ei(t)}function b(n){var t=ko.unwrap(n);return p(t)}function oi(n){var t=ko.unwrap(n);return d(t)?"":t+""}function si(n,t){var i=ti.Formatters.FormatType;switch(n.type){case i.Text:return new ut(n,t);case i.HtmlTemplate:return new at(n,t);case i.CheckBox:return new vt(n,t);case i.TextBox:return new yt(n,t);case i.MultiselectDropDown:return new pt(n,t);case i.CheckBoxRowSelection:return new wt(n,t);case i.DropDown:return new bt(n,t);case i.Date:return new ft(n,t);case i.Number:return new et(n,t);case
i.TextLookup:return new nt(n,t);case i.Icon:return new st(n,t);case i.IconLookup:return new ht(n,t);case i.SvgIcon:return new ct(n,t);case i.SvgIconLookup:return new lt(n,t);case i.Html:return new rt(n,t);case i.TextLookup:return new nt(n,t);case i.Uri:return new ot(n,t);default:return null}}var kt=f.ProvenanceContainer,dt=i.Data.EditState,gt=i.Util,k=i.ViewModels,ni=k.Forms.CheckBox.ViewModel,ri=k.Forms.DropDown.ViewModel,ui=k.Forms.MultiSelectDropDown,fi=k.Forms.TextBox.ViewModel,ti=r.ViewModels.Controls.Lists.Grid2,w=r.TriggerableLifetimeManager,p=gt.encodeAttribute,ei=gt.encodeHtml,d=i.isNullOrUndefined,v=i.isUndefined,ii=o.sanitizeHTML,l=(function(){function t(n,t){this._viewModel=n;this._isSafe=!1;this._isTrusted=t}return u.defineProperty(t.prototype,"viewModel",{get:function(){return this._viewModel},enumerable:!0,configurable:!0}),t.prototype.format=function(){return c("")},t.prototype.sanitizeHtml=function(t){if(it(this))return t;var i=ii(new kt(t,n),!1);return i.sanitizedMarkup}
,t.prototype.sanitizeHtmlTemplate=function(t){if(it(this))return t;var i=ii(new kt(t,n),!0);return i.sanitizedMarkup},t.prototype.sanitizeUri=function(n){return it(this)?n:e.sanitizeUri(n)?n:""},t})(),rt,ut,ft,et,ot,g,st,ht,nt,tt,ct,lt,at,y,vt,yt,pt,wt,bt;t.BaseFormatter=l;rt=(function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),u.defineProperty(t.prototype,"viewModel",{get:function(){return this._viewModel},enumerable:!0,configurable:!0}),t.prototype.format=function(n){var t=oi(n);return c(this.sanitizeHtml(t))},t})(l);t.HtmlFormatter=rt;ut=(function(n){function t(t,i){n.call(this,t,i);this._isSafe=!0}return __extends(t,n),u.defineProperty(t.prototype,"viewModel",{get:function(){return this._viewModel},enumerable:!0,configurable:!0}),t.prototype.format=function(n){return c(a(n))},t})(l);t.TextFormatter=ut;ft=(function(n){function t(t,i){n.call(this,t,i);this._isSafe=!0;this._dateFormat=t.dateFormat}return __extends(t,n),t.prototype.convertToDate=function(n){var t,i;switch(typeof
n){case"number":t=new Date(n);break;case"string":i=s.parse(n);isNaN(i)||(t=new Date(i));break;case"object":n!==null&&n.constructor===Date&&(t=n)}return t},t.prototype.format=function(n){var i=ko.unwrap(n),t=this.convertToDate(i),r=t?t.toString(this._dateFormat):"";return c(a(r))},t})(l);t.DateTimeFormatter=ft;et=(function(n){function t(t,i){n.call(this,t,i);this._numberFormat=t.numberFormat;this._isSafe=!0}return __extends(t,n),u.defineProperty(t.prototype,"viewModel",{get:function(){return this._viewModel},enumerable:!0,configurable:!0}),t.prototype.format=function(n){var t=h.NumberFormat.create(this._numberFormat).format(n);return c(a(t))},t})(l);t.NumberFormatter=et;ot=(function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),u.defineProperty(t.prototype,"viewModel",{get:function(){return this._viewModel},enumerable:!0,configurable:!0}),t.prototype.format=function(n){var t=ko.unwrap(n),r,i,u,f,e;return t=this.sanitizeUri(t),!t||v(t.text)||v(t.uri)?(e=b(t),i=a(t),r="<a class='azc-text-primary' href='{0}'>{1}<\/a>".
format(e,i)):(u=b(t.uri),f=t.target?" target='"+b(t.target)+"'":"",i=a(t.text),r="<a class='azc-text-primary' href='{0}'{1}>{2}<\/a>".format(u,f,i)),c(r)},t})(l);t.UriFormatter=ot;g=(function(n){function t(t,i){n.call(this,t,i);this._isSafe=!0}return __extends(t,n),t.prototype.formatIcon=function(n){var t=ko.unwrap(n),i,u,r;return t&&!v(t.text)&&v(t.uri)?(i=b(t.uri),u=a(t.text),r="<img class='azc-grid-formatters-icon' src='{0}' alt='' />{1}".format(i,u)):(i=b(t),r="<img class='azc-grid-formatters-icon' src='{0}' alt='' />".format(i)),r},t})(l);t.IconBaseFormatter=g;st=(function(n){function t(t,i){n.call(this,t,i);this._isSafe=!0}return __extends(t,n),u.defineProperty(t.prototype,"viewModel",{get:function(){return this._viewModel},enumerable:!0,configurable:!0}),t.prototype.format=function(n){return c(this.formatIcon(n))},t})(g);t.IconFormatter=st;ht=(function(n){function t(t,i){n.call(this,t,i);this._isSafe=!0}return __extends(t,n),u.defineProperty(t.prototype,"viewModel",{get:function(){return this.
_viewModel},enumerable:!0,configurable:!0}),t.prototype.format=function(n){var i="",r=ko.unwrap(n),u=this.viewModel,t=u.iconLookup[r],f;return d(t)?(t=u.iconLookup["##DEFAULT##"],t&&(t.text&&(f=a(r),t={uri:t.uri,text:t.text.replace(/##DEFAULT##/g,f)}),i=this.formatIcon(t))):i=this.formatIcon(t),c(i)},t})(g);t.IconLookupFormatter=ht;nt=(function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),u.defineProperty(t.prototype,"viewModel",{get:function(){return this._viewModel},enumerable:!0,configurable:!0}),t.prototype.format=function(n){var r=ko.unwrap(n),u=this.viewModel,t=u.textLookup[r],i;return d(t)&&(t=u.textLookup["##DEFAULT##"],t||(t=r)),i=a(t),i=this.sanitizeHtml(t),c(i)},t})(l);t.TextLookupFormatter=nt;tt=(function(n){function t(t,i){n.call(this,t,i);this._isSafe=!0}return __extends(t,n),t.prototype.isSvg=function(n){return n&&!v(n.type)},t.prototype.getSvgImageString=function(n,t,i){var o="<span class='fx-grid-formatters-svgicon' data-bind=\"image: { type: "+p(n.type.toString(
)),u="",f="",e="",r;return i&&t&&(e=", style: { height: '"+p(t)+"', width: '"+p(i)+"'}"),r=n.options,r&&r.palette&&(u=", palette: "+p(r.palette.toString())),n.data&&(f=" , data: '"+p(n.data)+"'"),o+u+f+" }"+e+'"><\/span>'},t.prototype.formatSvgIcon=function(n,t,i){var r=ko.unwrap(n),u;return r&&!v(r.svg)&&this.isSvg(r.svg)?(u="",v(r.text)||(u="<span class='fx-grid-formatters-svgtext'>"+a(r.text)+"<\/span>"),"<div class='fx-grid-formatters-svg'>"+this.getSvgImageString(r.svg,r.height||t,r.width||i)+u+"<\/div>"):this.isSvg(r)?this.getSvgImageString(r,t,i):""},t})(l);t.SvgIconBaseFormatter=tt;ct=(function(n){function t(t,i){n.call(this,t,i);this._isSafe=!0}return __extends(t,n),u.defineProperty(t.prototype,"viewModel",{get:function(){return this._viewModel},enumerable:!0,configurable:!0}),t.prototype.format=function(n){var t=this.viewModel;return c(this.formatSvgIcon(n,t.height,t.width))},t})(tt);t.SvgIconFormatter=ct;lt=(function(n){function t(t,i){n.call(this,t,i);this._isSafe=!0}return __extends(
t,n),u.defineProperty(t.prototype,"viewModel",{get:function(){return this._viewModel},enumerable:!0,configurable:!0}),t.prototype.format=function(n){var r="",u=ko.unwrap(n),t=this.viewModel.svgIconLookup[u],i=this.viewModel,f;return d(t)?(t=i.svgIconLookup["##DEFAULT##"],t&&t.text&&(f=a(u),t={svg:t.svg,text:t.text.replace(/##DEFAULT##/g,f)}),r=this.formatSvgIcon(t,i.height,i.width)):r=this.formatSvgIcon(t,i.height,i.width),c(r)},t})(tt);t.SvgIconLookupFormatter=lt;at=(function(n){function t(t,i){n.call(this,t,i);this._isSafe=!0}return __extends(t,n),u.defineProperty(t.prototype,"viewModel",{get:function(){return this._viewModel},enumerable:!0,configurable:!0}),t.prototype.format=function(){return c(this.viewModel.template)},t})(l);t.HtmlTemplateFormatter=at;y=(function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),u.defineProperty(t.prototype,"viewModel",{get:function(){return this._viewModel},enumerable:!0,configurable:!0}),t.prototype.format=function(n){var i=this,t=[],r=ko.ignoreDependencies(
(function(){return i._data(n,t)})),u=this._template();return{html:u,data:r,disposables:t.length?t:null}},t.prototype._data=function(){return null},t.prototype._template=function(){return"<div data-bind='formElement: $data' data-grid-formelement='"+ti.Formatters.FormatType[this._viewModel.type]+"'><\/div>"},t.prototype._setupValidationTriggers=function(n,t,i,r,u){var s,f,e,o;r&&r.editState&&r.editState()===dt.None&&(f=t.performValidation,f(!1),s=i.subscribe((function(){r.editState()!==dt.None&&(f()||f(!0),t.ensureValidation())})),n.push(s),u&&ko.isObservable(u)&&(e=u.subscribe((function(){t.validate(t.validate()+1)})),o=r.editState.subscribe((function(n){n||(e.dispose(),o.dispose())})),n.push(e),n.push(o)))},t})(l);t.FieldFormatter=y;vt=(function(n){function t(t,i){n.call(this,t,i);this._isSafe=!0}return __extends(t,n),u.defineProperty(t.prototype,"viewModel",{get:function(){return this._viewModel},enumerable:!0,configurable:!0}),t.prototype._data=function(n,t){var r=ko.utils.wrap(n),o=ko.observable(
r.peek()),f=new w,e;t.push(f);var s={getOriginalObservable:function(){return o},getEditableObservable:function(){return r},createdByBaseFormClass:!0},i=this.viewModel,h={label:ko.observable(i.label||""),validations:ko.observableArray(i.validations),infoBalloonContent:ko.observable(i.infoBalloonContent),inlineLabel:!0},u=new ni(f,h);return u._setEditScopeAccessors(s),e=null,this._setupValidationTriggers(t,u,r,e,i.validate),u},t})(y);t.CheckBoxFormatter=vt;yt=(function(n){function t(t,i){n.call(this,t,i);this._isSafe=!0}return __extends(t,n),u.defineProperty(t.prototype,"viewModel",{get:function(){return this._viewModel},enumerable:!0,configurable:!0}),t.prototype._data=function(n,t){var r=ko.utils.wrap(n),o=ko.observable(r.peek()),f=new w,e;t.push(f);var s={getOriginalObservable:function(){return o},getEditableObservable:function(){return r},createdByBaseFormClass:!0},i=this.viewModel,u=new fi(f,{label:ko.observable(i.label||""),validations:ko.observableArray(i.validations),emptyValueText:
ko.observable(i.emptyValueText),infoBalloonContent:ko.observable(i.infoBalloonContent)});return u._setEditScopeAccessors(s),e=null,this._setupValidationTriggers(t,u,r,e,i.validate),u},t})(y);t.TextBoxFormatter=yt;pt=(function(n){function t(t,i){n.call(this,t,i);this._isSafe=!0}return __extends(t,n),u.defineProperty(t.prototype,"viewModel",{get:function(){return this._viewModel},enumerable:!0,configurable:!0}),t.prototype._data=function(n,t){var u=ko.utils.wrap(n),i=this.viewModel,s=ko.observable(u.peek()),f=new w,e,r,o;return t.push(f),e={getOriginalObservable:function(){return s},getEditableObservable:function(){return u},createdByBaseFormClass:!0},r=new ui.ViewModel(f,{label:ko.observable(i.label||""),groups:i.groups,multiselect:i.multiselect,validations:ko.observableArray(i.validations),infoBalloonContent:ko.observable(i.infoBalloonContent)}),r.maxSelectAllowed=i.maxSelectAllowed,r.multiItemsDisplayFormat=i.multiItemsDisplayFormat,r.multiItemsMaxDisplayFormat=i.multiItemsMaxDisplayFormat,
r.valueSeparator=i.valueSeparator,r.displaySeparator=i.displaySeparator,r._setEditScopeAccessors(e),o=null,this._setupValidationTriggers(t,r,u,o,i.validate),r},t})(y);t.MultiselectDropDownFormatter=pt;wt=(function(n){function t(t,i){n.call(this,t,i);this._isSafe=!0}return __extends(t,n),u.defineProperty(t.prototype,"viewModel",{get:function(){return this._viewModel},enumerable:!0,configurable:!0}),t.prototype._data=function(n,t){var r=new w;t.push(r);var u=new ni(r),i=!1,f=!0;return null.isSelected.subscribe(r,(function(n){try{i=!0;u.value(n)}finally{i=!1}})),u.value.subscribe(r,(function(n){if(!f&&!i)try{i=!0;u.value(!n)}finally{i=!1}f=!1})),u},t})(y);t.CheckBoxRowSelectionFormatter=wt;bt=(function(n){function t(t,i){n.call(this,t,i);this._isSafe=!0}return __extends(t,n),u.defineProperty(t.prototype,"viewModel",{get:function(){return this._viewModel},enumerable:!0,configurable:!0}),t.prototype._data=function(n,t){var r=ko.utils.wrap(n),i=this.viewModel,e,f,o,u,s;return!ko.isObservable(i.options),
r.peek()===undefined&&r(i.options()[0].value),e=ko.observable(r.peek()),f=new w,t.push(f),o={getOriginalObservable:function(){return e},getEditableObservable:function(){return r},createdByBaseFormClass:!0},u=new ri(f,{label:ko.observable(i.label||""),options:i.options,validations:ko.observableArray(i.validations),infoBalloonContent:ko.observable(i.infoBalloonContent)}),u._setEditScopeAccessors(o),s=null,this._setupValidationTriggers(t,u,r,s,i.validate),u},t})(y);t.DropDownFormatter=bt;t.createFormatter=si})(c||(c={})),c}));define("MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Selection",["require","exports","o","./Controls.Lists.Base"],(function(n,t,i,r){"use strict";var u;return (function(n){n.Name="focus";n.HasFocusClass="fxs-has-focus";var t=(function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.dispose=function(){n.prototype.dispose.call(this)},t})(r.Plugin);n.Plugin=t})(u||(u={})),u}));define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/Grid2.Formatters.css",
["require","exports","module"],(function(n,t,i){"use strict";window.fx.injectCss(i,".fxc-grid2.fxc-base [data-grid-formelement=DropDown] .fxc-control,.fxc-grid2.fxc-base [data-grid-formelement=MultiselectDropDown] .fxc-control,.fxc-grid2.fxc-base [data-grid-formelement=TextBox] .fxc-control{width:100%}.fxc-grid2.fxc-base .fx-grid-formatters-svg{display:flex;align-items:center;text-overflow:inherit;overflow:inherit}.fxc-grid2.fxc-base .fx-grid-formatters-svg.fx-grid-svgicon-center{justify-content:center;width:calc(100% + 10px);margin-left:-10px}.fxc-grid2.fxc-base .fx-grid-formatters-svg .fx-grid-formatters-svgtext{text-overflow:inherit;overflow:inherit}.fxc-grid2.fxc-base .fx-grid-formatters-svgicon{margin-right:6px;flex-shrink:0;width:12px;height:13px;position:relative;display:inline-block}.fxc-grid2.fxc-base .fx-grid-formatters-icon{display:flex;align-items:center;text-overflow:inherit;overflow:inherit}.fxc-grid2.fxc-base .fx-grid-formatters-icon .fx-grid-formatters-icon-text{flex:1;min-width:0;text-overflow:inherit;overflow:inherit}")})
);define("MsPortalImpl.Controls/Controls/Lists/Grid2/Controls.Grid2.Base",["require","exports","o","../Base/Controls.Lists.Base","../../../../_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/Grid2.Formatters.css"],(function(n,t,i,r){"use strict";var u;return (function(n){var t=(function(n){function t(t){n.call(this,t)}return __extends(t,n),t})(r.Item);n.Row=t})(u||(u={})),u}));define("MsPortalImpl.Controls/Controls/Lists/Grid2/Controls.Grid2.Plugins",["require","exports"],(function(){"use strict";var n;return (function(n){function u(n){return n[0].toUpperCase()+n.slice(1)}function t(n,t){return{name:n,dependencies:t||[],isEnabled:function(t){var i=t&&t[n];return i&&i.enabled},moduleId:r+u(n)}}var r="MsPortalImpl.Controls/Controls/Lists/Grid2/Controls.Grid2.",i=["focus"];n.Registrations=[t("focus"),t("sorting"),t("scrolling"),t("resizing"),t("hierarchical"),t("selection",i),t("paging"),t("demandLoading"),t("reordering",i),t("hover",i),t("editing",i),t("contextMenu",["selection"]),t("grouping"),
t("search")]})(n||(n={})),n}));define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/Grid2.css",["require","exports","module"],(function(n,t,i){"use strict";window.fx.injectCss(i,'.fxc-grid2 table tbody tr td,.fxc-grid2 table thead tr th a span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.fxc-grid2{font-size:12px}.fxc-grid2.fxc-grid-headerHidden table thead{display:none}.fxc-grid2 .fxc-grid-loading .fxc-grid-tableContent{opacity:.25}.fxc-grid2 .fxc-grid-loadingUx{display:-webkit-flex;display:flex;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding:10px 20px;-webkit-align-items:center;align-items:center}.fxc-grid2 .fxc-grid-loadingUx span{-webkit-flex:0 0 auto;flex:0 0 auto}.fxc-grid2 table{width:100%;border:0;background-color:transparent;table-layout:fixed;border-spacing:0;border-collapse:collapse}.fxc-grid2 table tbody tr td,.fxc-grid2 table tbody:last-child tr:last-child td{border-bottom-width:1px;border-bottom-style:solid}.fxc-grid2 table caption{display:none}.fxc-grid2 table tbody tr td .fxc-dropdown,.fxc-grid2 table thead tr th .fxc-grid-header-wrapper>a .fxc-grid-headerlabel{display:block}.fxc-grid2 table td:first-of-type,.fxc-grid2 table th:first-child a{padding-left:7px}.fxc-grid2 table th:first-child{padding-left:0}.fxc-grid2 table thead tr th{text-transform:uppercase;text-align:left;font-size:10px;padding:0;height:40px;position:relative;font-family:az_ea_font,wf_segoe-ui_bold,"Segoe UI Bold","Segoe WP Bold","Segoe UI","Segoe WP",Tahoma,Arial,sans-serif}.fxc-grid2 table thead tr th a{line-height:38px;display:block;text-decoration:none;color:inherit;position:relative}.fxc-grid2 table thead tr th .fxc-grid-header-wrapper>a{padding:1px 0 1px 10px}.fxc-grid2 table tbody tr td{padding:1px 0 1px 10px;height:33px;border-top-width:1px;border-top-style:solid}.fxc-grid2 table tbody tr td .fxc-button,.fxc-grid2 table tbody tr td .fxc-dropdown,.fxc-grid2 table tbody tr td .fxc-editableCombo,.fxc-grid2 table tbody tr td .fxc-fileUpload,.fxc-grid2 table tbody tr td .fxc-optionPicker,.fxc-grid2 table tbody tr td button,.fxc-grid2 table tbody tr td input,.fxc-grid2 table tbody tr td select,.fxc-grid2 table tbody tr td textarea{font-size:12px!important}.fxc-grid2 a img{border:0}.fxs-mode-light .fxc-grid-loadingUx{color:#000}.fxs-mode-dark .fxc-grid-loadingUx{color:#FFF}')})
);define("MsPortalImpl.Controls/Controls/Lists/Grid2/Controls.Grid2.Impl",["require","exports","f","i","o","./Controls.Grid2.Base","./Controls.Grid2.Plugins","../Base/Controls.Lists.ExtensibleControl","../Base/Controls.Lists.Base","../Base/Controls.Lists.Formatters","MsPortalImpl/Base/Base.SelectableSet2","MsPortalImpl/Base/Base.BrowserDetection","../../../../_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/Grid2.css"],(function(n,t,i,r,u,f,e,o,s,h,c,l){"use strict";var a;return (function(n){var ri=r.Data,it=i.Base,y=r.ViewModels.Controls.Lists.Grid2,p=i.initObservable,k="fxc-grid2",d="azc-control",g="fxc-grid-headerHidden",rt=it.Images.Loading.EllipsisSquare(),ut="<!-- ko template: 'table' --><!-- /ko -->",ft="<div class='fxc-grid-container azc-br-muted' data-bind=\"css: { 'fxc-grid-loading' : $ctl._loading } \"><div class='fxc-grid-tableContainer azc-br-muted'><div class='fxc-grid-tableScrollContainer azc-br-muted' data-bind='if: $ctl._columns().length, attr: { tabindex: $ctl._isFireFox ? -1 : null }'><table class='fxc-grid-tableHeader' role='presentation'><caption data-bind='text: data.summary'><\/caption><!-- ko template: 'header' --><!-- /ko --><\/table><div class='fxc-grid-tableContent'><table class='fxc-grid-full' role='presentation'><!-- ko template: 'colgroup' --><!-- /ko --><!-- ko template: 'body' --><!-- /ko --><\/table><\/div><div class='fxc-grid-loadingUx' data-bind='visible: $ctl._loading' ><span style='height: 32px; width: 32px; opacity: 0.7' data-bind='image: MsPortalFx.Base.Images.Loading.EllipsisSquare()'><\/span><\/div><\/div><\/div><\/div>",
et="<!-- ko template: 'colgroup' --><!-- /ko --><thead><tr role='row'><!-- ko template: { name: 'headerCell', foreach: $ctl._columns } --><!-- /ko --><\/tr><\/thead>",ot="<colgroup><!-- ko template: { name: 'headerColumn', foreach: $ctl._columns } --><!-- /ko --><\/colgroup>",st='<col data-bind=\'attr: { "class": "col" + $index() }, style: { width: width }, css: { "azc-collapsed-hidden": hiddenInCollapsed }\' />',ht="<th role='columnheader' class='fxc-grid-column-header' data-bind='css: { \"azc-collapsed-hidden\": hiddenInCollapsed }' ><div class='fxc-grid-header-wrapper'><!-- ko template: 'headerCellContent' --><!-- /ko --><\/div><\/th>",ct="<a><span class='fxc-grid-headerlabel' data-bind='text: name'><\/span><\/a>",lt="<!-- ko template: $ctl._bodyTemplate --><!-- /ko -->",at="<tbody class='fxc-grid-groupdata' role='rowgroup' data-bind='template: { name: \"bodyRowsCore\", foreach: $ctl._rows }'><\/tbody>",vt="<tbody role='rowgroup' class='fxc-grid-empty fx-bg-muted' data-bind='if: $vm.loadingMessage'><tr role='row'><td role='gridcell' class='azc-br-muted' data-bind='attr: { colspan: $ctl._getTotalColumns() }, html: $ctl._loadingMessage'><\/td><\/tr><\/tbody>",
yt="<tbody role='rowgroup' class='fxc-grid-empty' data-bind='if: data.noRowsMessage'><tr role='row'><td role='gridcell' class='azc-br-muted' data-bind='attr: { colspan: $ctl._getTotalColumns() }, html: $ctl._loading() ? $ctl._loadingMessage : $ctl._noRowsMessage'><\/td><\/tr><\/tbody>",pt="<td role='gridcell' class='azc-br-muted' data-bind='attr: { colspan: $ctl._getTotalColumns() }'><div class='fx-grid-formatters-svg' style='justify-content: center; opacity: 0.5'><span class='fx-grid-formatters-svgicon' data-bind='image: loadingImage' style='height: 20px;width: 30px'><\/span><\/div><\/td>",wt="<td role='gridcell' class='azc-br-muted' data-bind='attr: { colspan: $ctl._getTotalColumns() }'><\/td>",bt="<tr role='row' data-bind='template: template, attr: attr, css: css'><\/tr>",kt="<!-- ko template: { name: 'bodyCell', foreach: $data.cells } --><!-- /ko -->",dt="<td role='gridcell' data-bind='css: column.css, attr: attr, template: \"bodyCellContent\"'><\/td>",gt="<span class='fxc-grid-cellContent' data-bind='css: { \"fxs-ellipsis\": column.enableEllipsis }, gridFormatter: { row: $parent, column: $data.column }'><\/span>",
ni=ko.observableArray,t=ko.pureComputed,a=ko.unwrap,v=ko.utils,ti=i.disposeDisposable,ii=i.forEachKey,w,b,nt,tt;ko.bindingHandlers.gridFormatter={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t,i,r,u){var s=a(t()),w=a(s.row),h=a(s.column),c,f=h.format,l;f||(f=new y.Formatters.Text);l=u.$ctl;c=l._getFormatter(f);var e=a(w.data),p=v.unwrapObservablePath(e,h.id),o=c.format(p,e);ko.ignoreDependencies((function(){var i=o.html,r=o.data||{item:e,value:p},t=o.disposables;v.cleanDescendantNodes(n);v.setHtml(n,i);ko.applyBindingsToDescendants(u.createChildContext(r),n);t&&t.length&&v.domNodeDisposal.addDisposeCallback(n.firstElementChild||n,(function(){ti(t)}))}))}};w=(function(n){function i(i,r){var u=this;n.call(this,r);this.loadingImage=rt;this._widget=i;this.attr={role:"row","aria-disabled":this.isDisabled};this.css={"fxc-grid-row":!0,"azc-row-disabled":this.isDisabled,"fxc-grid-row-loading":this.isLoading};this.isLoading=t((function(){return!u.data()}));this.context={$disabled:
this.isDisabled};this.template=t((function(){var t={name:"bodyRowsContent",context:u.context},n;return u.isLoading()?t.name="bodyRowsLoadingContent":(n=u._widget.triggerPlugins("computeRowTemplate",u),n&&n[0]&&n[0].length&&(t.name=n[0])),t}))}return __extends(i,n),i})(f.Row);n.Row=w;n.Selector=".fxc-grid2";n.EnabledRowSelector=".fxc-grid-row:not([aria-disabled=true])";b=(function(n){function i(i,r,u){var f=this,s,o;n.call(this,i,r,u);this._isFireFox=l.isFirefox;this._columns=ni();this._bodyTemplate=t((function(){var n=f.loadState();switch(n){case 0:return"bodyLoading";case 1:return"bodyLoading";case 3:return"bodyNoRows";case 2:return f.dataNavigator.totalItems()?"bodyCore":"bodyNoRows";default:return"bodyCore"}}));s=this._htmlFormatter=new h.HtmlFormatter(new y.Formatters.Html,this._isTrusted);this._loadingMessage=t((function(){return s.format(f.viewModel.loadingMessage(),null).html}));this._noRowsMessage=t((function(){return s.format(f.viewModel.noRowsMessage(),null).html}));this._deferredCreate=
Q.defer();this.waitFor(this.loadPlugins(e.Registrations)).then((function(){f.triggerPlugins("beforeCreate");f._create()})).then((function(n){f._deferredCreate.resolve(n);f.triggerPlugins("afterCreate");f.load()}),(function(n){f._deferredCreate.reject(n)}));o=r.selection;o&&o.enabled!==!1&&(this._selectableSet=c.getSelectableSet2(o._msPortalFxSelectableSet))}return __extends(i,n),u.defineProperty(i.prototype,"_rows",{get:function(){return this._items},enumerable:!0,configurable:!0}),i.prototype._create=function(){var i=this,n=this.element,t=this.viewModel;t.columns.mapInto(this.lifetimeManager,(function(n,t){return i.createColumn(t)}),this._columns);this._setTemplates();n.addClass(k).addClass(d).attr("role","grid").html(ut);t.showHeader||n.addClass(g);this._bindDescendants();this._attachEvents()},i.prototype.waitForCreate=function(){return this._deferredCreate.promise},u.defineProperty(i.prototype,"_isTrusted",{get:function(){return this._createOptions.isTrusted},enumerable:!0,configurable:!0}),
i.prototype.dispose=function(){if(!this._checkExistsOrRegisterDestroyId(n.prototype.dispose))try{this.triggerPlugins("beforeDestroy");this._detachEvents();this._cleanElement(k,d,g,"fxc-grid-horizontalScroll","fxc-grid-verticalScroll");n.prototype.dispose.call(this);this.triggerPlugins("afterDestroy")}finally{this._isDisposed=!0}},u.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),u.defineProperty(i.prototype,"viewModel",{get:function(){return this._options},enumerable:!0,configurable:!0}),i.prototype._attachEvents=function(){this.attachEvent(this.element,"mouseenter.fxGrid","> .fxc-grid-container .fxc-grid-full > tbody > tr > td",(function(n){var t=n.find(">div,>span");n[0].offsetWidth<n[0].scrollWidth&&(t.attr("title")||t.attr("title",n.text()))}));n.prototype._attachEvents.call(this)},i.prototype._detachEvents=function(){n.prototype._detachEvents.call(this)},i.prototype.createItem=function(n){return this.createRow(n)},i.prototype.
createRow=function(n){var r=this,i=new w(this,n,this._columns);return this.triggerPlugins("initializeRow",i),i.cells=t((function(){return r._columns().map((function(n){var t={attr:{role:"gridcell"},column:n};return r.triggerPlugins("initializeCells",i,t),t}))})),i},i.prototype.createColumn=function(n){var t={id:n.id,name:p(n.name,""),width:p(n.width,null),format:n.format,enableEllipsis:p(n.enableEllipsis,!0),hiddenInCollapsed:n.hiddenInCollapsed,css:{"fxc-grid-cell":!0,"azc-br-muted":!0,"azc-collapsed-hidden":!!n.hiddenInCollapsed}};return this.triggerPlugins("initializeColumn",t,n),t},i.prototype._getTotalColumns=function(){var n=this._columns(),t=this.element.parents(".fxs-blade-activationstyle").length?n.filter((function(n){return!n.hiddenInCollapsed})).length:n.length,i=this.triggerPlugins("getAdditionalColumns");return i.forEach((function(n){t+=n})),t},i.prototype._setTemplates=function(){var n=this.templateEngine;ii({table:ft,header:et,headerColumn:st,colgroup:ot,headerCell:ht,headerCellContent:
ct,body:lt,bodyCore:at,bodyLoading:vt,bodyNoRows:yt,bodyRowsCore:bt,bodyRowsContent:kt,bodyRowsLoadingContent:pt,bodyRowsErrorContent:wt,bodyCell:dt,bodyCellContent:gt},(function(t,i){n.setTemplate(t,i)}));this.triggerPlugins("setTemplates",n)},i.prototype._resetExtensions=function(){var n=this.triggerPlugins("resetExtension");return Q.all(n)},i.prototype._getFormatter=function(n){return n||(n=new y.Formatters.Text),h.createFormatter(n,this._isTrusted)},i.prototype.getFirstVisibleRow=function(){return n.prototype.getFirstVisibleItem.call(this)},i.prototype.getOrCreatePreviousRow=function(t,i,r){return i===void 0&&(i=!0),r===void 0&&(r=!1),n.prototype.getOrCreatePreviousItem.call(this,t,i,r)},i.prototype.getOrCreateNextRow=function(t,i,r){return i===void 0&&(i=!0),r===void 0&&(r=!1),n.prototype.getOrCreateNextItem.call(this,t,i,r)},i.prototype.getRowById=function(t){return n.prototype.getItemById.call(this,t)},i.prototype.getRowByIndex=function(t){return n.prototype.getItemByIndex.call(this,
t)},i})(s.Widget);n.Widget=b;nt=(function(n){function t(t){n.call(this,t)}return __extends(t,n),t})(o.PluginBase);n.Plugin=nt;tt=(function(n){function t(t,i){n.call(this,t,i,{isTrusted:!0})}return __extends(t,n),t})(b);n.TrustedWidget=tt})(a||(a={})),a}));define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/Grid2.ContextMenu.css",["require","exports","module"],(function(n,t,i){"use strict";window.fx.injectCss(i,".fxc-grid2.fxc-grid-contextMenu table tbody tr[aria-disabled=true] td.fxc-grid-contextMenuShortcut-cell a{display:none}.fxc-grid2.fxc-grid-contextMenu table tbody tr:not([aria-disabled=true]) td.fxc-grid-contextMenuShortcut-cell{padding:1px}.fxc-grid2.fxc-grid-contextMenu table tbody tr:not([aria-disabled=true]) td.fxc-grid-contextMenuShortcut-cell a{display:flex;height:100%}.fxc-grid2.fxc-grid-contextMenu table tbody tr:not([aria-disabled=true]) td.fxc-grid-contextMenuShortcut-cell a svg{height:16px;width:16px;margin:auto}")}));define("MsPortalImpl.Controls/Controls/Lists/Grid2/Controls.Grid2.ContextMenu",
["require","exports","f","o","MsPortalImpl.Controls/Controls/Controls.ContextMenuHelpers","../Base/Controls.Lists.Base","MsPortalImpl/Base/Base.KeyboardHelper","Viva.Controls/Util/Viva.Util","../../../../_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/Grid2.ContextMenu.css"],(function(n,t,i,r,u,f,e){"use strict";var o;return (function(n){function h(n,t,i,r){var f=k(t.currentTarget),o={clientX:i,clientY:r,currentItem:f,widget:n},e;t.preventDefault();t.stopPropagation();f.isSelected()||(e=n.selection,e.unselectAllRows(),e.selectRows(f));u.triggerRightClick(t,o)}var r=i.Base.EventTypes,a=i.Resources.Strings,v="contextMenu",c="fxc-grid-contextMenu",t=c+"Shortcut",o=".fxGridContextMenu",s="tbody tr:not([aria-disabled=true])",y=t+"-cell",l="."+y+" a",p="<col class='"+t+'-col\' data-bind="style:{ width: $data.contextMenu.width } "/>',w="<th role='columnheader' class='"+t+"-header'><\/th>",b="<td role='gridcell' class='"+t+"-cell azc-br-muted'><a class='msportalfx-inherit-color' href='' role='button' data-bind='image: MsPortalFx.Base.Images.Ellipsis(), attr: { tabindex: $tabIndex }' title='"+
a.Controls.Grid2.contextMenu+"'><\/a><\/td>",k=ko.dataFor,d=(function(n){function t(t){n.call(this,{name:v,cssClass:c,widget:t});this.options=t.options.contextMenu;this.width=ko.observable();this.headerResized(this.widget.element.find(".fxc-grid-tableHeader").width())}return __extends(t,n),t.prototype.headerResized=function(n){var t=this.widget.options.resizing;this.width(t&&t.resizeToPercent&&t.resizeToPercent()?3200/n+"%":"32px")},t.prototype.dispose=function(){n.prototype.dispose.call(this)},t.prototype.setTemplates=function(n){var t="bodyRowsContent",i="colgroup",r=n.getTemplate(t),u=n.getHtmlTemplate("header"),f=n.getHtmlTemplate(i);n.setTemplate(t,r+b);u.append("tr",w);f.append(i,p)},t.prototype.initializeRow=function(){},t.prototype.attachEvents=function(){var n=this.widget,t=n.element;n.attachEvent(t,r.click+o,s+" "+l,(function(t,i){if(!n._loading()){var r=t.offset();h(n,i,r.left,r.top)}i.preventDefault();i.stopPropagation()}));n.attachEvent(t,r.keyup+o,s,(function(t,i){var r,u;n._loading(
)||(r=e.getModifierKeys(i),(i.which===121&&r===4||i.which===93&&r===0)&&(u=t.find(l).offset(),h(n,i,u.left,u.top)))}));n.attachEvent(t,r.contextmenu+o,s,(function(t,i){n._loading()||(i.which!==3||e.getModifierKeys(i)!==8)&&h(n,i)}))},t.prototype.getAdditionalColumns=function(){return 1},t})(f.Plugin);n.Plugin=d})(o||(o={})),o}));define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/Grid2.Scrolling.css",["require","exports","module"],(function(n,t,i){"use strict";window.fx.injectCss(i,".fxc-grid2.fxc-grid-scrolling,.fxc-grid2.fxc-grid-scrolling div.fxc-grid-container,.fxc-grid2.fxc-grid-scrolling div.fxc-grid-container div.fxc-grid-tableContainer,.fxc-grid2.fxc-grid-scrolling div.fxc-grid-container div.fxc-grid-tableContainer div.fxc-grid-tableScrollContainer{overflow-x:hidden;overflow-y:hidden}.fxc-grid2.fxc-grid-scrolling.fxc-grid-horizontalScroll,.fxc-grid2.fxc-grid-scrolling.fxc-grid-horizontalScroll div.fxc-grid-container,.fxc-grid2.fxc-grid-scrolling.fxc-grid-horizontalScroll div.fxc-grid-container div.fxc-grid-tableContainer{width:100%;overflow-x:hidden}.fxc-grid2.fxc-grid-scrolling.fxc-grid-horizontalScroll div.fxc-grid-container div.fxc-grid-tableContainer div.fxc-grid-tableScrollContainer{width:100%;overflow-x:auto}.fxc-grid2.fxc-grid-scrolling.fxc-grid-verticalScroll{height:100%;overflow-y:hidden}.fxc-grid2.fxc-grid-scrolling.fxc-grid-verticalScroll div.fxc-grid-container{height:100%;overflow-y:hidden;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column}.fxc-grid2.fxc-grid-scrolling.fxc-grid-verticalScroll div.fxc-grid-container div.fxc-grid-tableContainer{height:100%;overflow-y:hidden;padding-top:40px;position:relative;-webkit-flex:1 1 auto;flex:1 1 auto;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column}.fxc-grid2.fxc-grid-scrolling.fxc-grid-verticalScroll div.fxc-grid-container div.fxc-grid-tableContainer div.fxc-grid-tableScrollContainer{height:100%;overflow-y:auto;-webkit-flex:1 1 auto;flex:1 1 auto}.fxc-grid2.fxc-grid-scrolling.fxc-grid-verticalScroll div.fxc-grid-container div.fxc-grid-tableContainer div.fxc-grid-tableScrollContainer table.fxc-grid-tableHeader{position:absolute;top:0;left:0}")})
);define("MsPortalImpl.Controls/Controls/Lists/Grid2/Controls.Grid2.Scrolling",["require","exports","f","o","../Base/Controls.Lists.Base","Viva.Controls/Util/Viva.Resize","MsPortalImpl/Base/Base.FeatureDetection","MsPortalImpl/Base/Base.Timers","../../../../_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/Grid2.Scrolling.css"],(function(n,t,i,r,u,f,e,o){"use strict";var s;return (function(n){var p=i.Errors,g=p.CanceledError,nt="scrolling",tt="fxc-grid-scrolling",c=window,it=2048,rt=36,ut=.8,a=12,w=c.fx.getTimestamp,v=2,t=Math,ft=t.abs,b=t.ceil,s=t.floor,l=t.max,h=t.min,et=ko.observableArray,y=ko.utils,k=y.applyArraySplices,d=y.createArraySplices,ot=(function(n){function t(t){n.call(this,{name:nt,cssClass:tt,widget:t});this._options=t.options.scrolling;var i=this._options;this._lastEndRow=0;this._lastStartRow=0;this._activePageRequest=null;this._lastUpdateTime=0;this.horizontal=i.horizontal!==!1;this.vertical=i.vertical!==!1;this.vertical&&(this.widget._loader=this);this._resetCache(
)}return __extends(t,n),t.prototype.dispose=function(){this._updateViewportAsyncTimeout&&(c.clearTimeout(this._updateViewportAsyncTimeout),this._updateViewportAsyncTimeout=null);this._scrollContainer=null;n.prototype.dispose.call(this)},r.defineProperty(t.prototype,"pageNavigator",{get:function(){if(this._pageNav===undefined){var n=this.widget.dataNavigator;this._pageNav=n.loadPage&&n.totalItems&&n.canLoadMore?n:null}return this._pageNav},enumerable:!0,configurable:!0}),r.defineProperty(t.prototype,"demandLoadNavigator",{get:function(){if(this._demandLoadNav===undefined){var n=this.widget.dataNavigator;this._demandLoadNav=n.loadMore&&n.canLoadMore?n:null}return this._demandLoadNav},enumerable:!0,configurable:!0}),r.defineProperty(t.prototype,"allNavigator",{get:function(){if(this._allNavigator===undefined){var n=this.widget.dataNavigator;this._allNavigator=n.loadAll?n:null}return this._allNavigator},enumerable:!0,configurable:!0}),r.defineProperty(t.prototype,"virtualScrolling",{get:function(
){return this.vertical&&(this.pageNavigator!==null||this.demandLoadNavigator!==null)},enumerable:!0,configurable:!0}),t.prototype.afterCreate=function(){var n=this,t=this.lifetimeManager,e=this.widget,i=e.element,u,r;i.toggleClass("fxc-grid-horizontalScroll",this.horizontal);i.toggleClass("fxc-grid-verticalScroll",this.vertical);u=this._scrollContainer=i.find(".fxc-grid-tableScrollContainer");e.attachEvent(u,"scroll.fxGridScrolling",null,(function(){n._update()}));this.virtualScrolling&&(f.track(t,i,(function(){n._update()})),r=this.pageNavigator,r?(r.startIndex.subscribe(t,(function(t){n._activePageRequest||t!==0||(n._updateTableTop(0),u.scrollTop(0),n._updateViewport())})),r.totalItems.subscribe(t,(function(){n._activePageRequest||n._updateViewport()}))):this.demandLoadNavigator.items.subscribe(t,(function(){n._activePageRequest||n._updateViewport()})))},t.prototype.reset=function(){var n=this._scrollContainer;n&&(n.scrollLeft(0),n.scrollTop(0),this._update())},t.prototype._update=function(){this.
_updateHeader();this.virtualScrolling&&this._updateViewportAsync()},t.prototype._updateHeader=function(){var t=this._scrollContainer,n;if(t&&(n=t.find(".fxc-grid-tableHeader"),n.length)){var r=-t.scrollLeft(),u=r<0?r+"px":"",c=n.css("left");u!==c&&n.css("left",u);var f=t[0],e=i.truncate(f.offsetWidth-f.clientWidth),o=e>0?"calc(100% - "+e+"px)":"",l=n.css("width");o!==l&&(n.css("width",o),this.widget.triggerPlugins("headerResized",n.width()));var a=n.outerHeight(),s=a+"px",h=t.parent(".fxc-grid-tableContainer"),v=h.css("padding-top");s!==v&&h.css("padding-top",s)}},t.prototype._updateViewportAsync=function(){var n=this;this._updateViewportAsyncTimeout&&c.clearTimeout(this._updateViewportAsyncTimeout);this._updateViewportAsyncTimeout=c.setTimeout((function(){n._updateViewportAsyncTimeout&&o.requestAnimationFrame((function(){var t=w();n._updateHeader();n._updateViewport();n._lastUpdateTime=h(ft(w()-t),5e3)}))}),this._lastUpdateTime)},t.prototype._getRowHeight=function(){var t,i=this._scrollContainer,
n;return i&&(n=i.find(".fxc-grid-full td"),n.length&&(t=n.outerHeight())),t||rt},t.prototype._getTotalScrollHeight=function(n,t){if(n){var i=s(ut*e.getMaxElementHeight()),r=s(n*t)+1;return h(r,i)}return t+1},t.prototype._updateContentHeight=function(n){var t=this.widget.element.find(".fxc-grid-tableContent");t.height(n);t.css({position:"relative",overflow:"hidden"})},t.prototype._updateTableTop=function(n){var t=this.widget.element.find(".fxc-grid-full"),r="absolute",f=t.css("position"),i,u;r!==f&&t.css("position",r);i=n+"px";u=t.css("top");i!==u&&t.css("top",i)},t.prototype._updateViewport=function(){var n=this;this.widget.waitForLoad().then((function(){var t;n.pageNavigator?t=n._updatePageViewport():n.demandLoadNavigator&&(t=n._updateDemandLoadViewport());t&&t.catchError(g,(function(){}))}))},t.prototype._updateDemandLoadViewport=function(){var t=this,o=this._scrollContainer,i=this.demandLoadNavigator,n=i.items().length,c=i.canLoadMore(),e,p;if(o&&(n||c)){var v=this._getRowHeight(),w=this.
_getTotalScrollHeight(n,v),r=o[0],u=r.clientHeight,k=r.scrollTop||0,d=r.scrollHeight||w||u;if(u){var g=s(n*(k/d)),y=b(u/v),f=g+y+l(y,a);if(c||(f=h(f,n)),e=f-n,e>0)return p=this._activePageRequest,this.waitFor(i.loadMore(e)).finally((function(){t._activePageRequest===p&&(t._updateHeader(),t._activePageRequest=null)}))}}return Q()},t.prototype._updatePageViewport=function(){var t=this,nt=this._scrollContainer,e=this.pageNavigator,n=e.totalItems()||0,o=e.canLoadMore(),c,u,p,f,rt,ut;if(nt&&(n||o)){c=this._getRowHeight();u=this._getTotalScrollHeight(n,c);this._updateContentHeight(u);var w=nt[0],k=w.clientHeight,ft=w.scrollTop||0,tt=w.scrollHeight||u||k;if(k){var d=s(n*(ft/tt)),y=b(k/c),i=l(d-l(y,a),0),r=d+y+l(y,a),et=r-i;o||(r=h(r,n));var ot=r-i,it=d,g=it+y;if(o||(g=h(g,n)),p=this._lastStartRow,p>0&&(p+=v),f=this._lastEndRow,f>v&&(o||n!==f)&&(f-=v),it<p||g>f)return rt=s(tt*(i/n)),this._updateTableTop(rt),this._renderRows(i,r,ot),this._lastStartRow=i,this._lastEndRow=r,ut=this._activePageRequest=
{},this.waitFor(e.loadPage(i,et)).finally((function(){t._activePageRequest===ut&&(t._activePageRequest=null,t._mergeRows(),u=t._getTotalScrollHeight(e.totalItems(),c),t._updateContentHeight(u),t._updateHeader())}))}}return Q()},t.prototype._renderRows=function(n,t,i){var r=this.widget._items,f=this._lastStartRow,s=this._lastEndRow,e,o,h,l,u,c,a;n<s&&t>f?(o=n-f,h=-o,o>0?(l=r.splice(0,o),this._cacheRows(f,l)):h>0&&(e=[0,0],r.splice.apply(r,e.concat(this._getFillRows(n,h)))),u=s-t,c=-u,u>0?(a=r.splice(r.peek().length-u,u),this._cacheRows(t,a)):c>0&&(e=[r.peek().length,0],r.splice.apply(r,e.concat(this._getFillRows(s,c))))):(this._cacheRows(f,r.peek()),r(this._getFillRows(n,i)))},t.prototype._getFillRows=function(n,t){var u=[],f,i,r;for(u.length=t,f=n,i=0;i<t;i++)r=this._getCachedRow(f),r||(r=this.widget.createItem({dataItem:null})),u[i]=r,f++;return u},t.prototype._resetCache=function(){this._cache=[];this._cache.length=it},t.prototype._cacheRows=function(n,t){for(var i=n,r=0;r<t.length;r++)
this._cache[i%this._cache.length]={index:i,row:t[r]},i++},t.prototype._getCachedRow=function(n){var i=n%this._cache.length,t=this._cache[i];return t&&t.index===n?t.row:null},t.prototype.beginLoad=function(){this._updateHeader();var n=this.widget,t=n.dataNavigator;if(this.pageNavigator!==null)return this._mergeInto(t.items,this.lifetimeManager,(function(t){return n.createItem({dataItem:t})}),(function(n,t){if(n){var i=n.navigatorItem();return i!==t&&n.navigatorItem(t),!0}return!1}),n._items),this._updatePageViewport();if(this.demandLoadNavigator!==null)return t.items.mapInto(this.lifetimeManager,(function(t,i){return n.createItem({dataItem:i})}),n._items),this._updateDemandLoadViewport();if(this.allNavigator!==null)return t.items.mapInto(this.lifetimeManager,(function(t,i){return n.createItem({dataItem:i})}),n._items),this.waitFor(this.allNavigator.loadAll());throw new p.Error("Scrolling will not work with the current grid data navigator.");},t.prototype._mergeInto=function(n,t,i,r,u){var f=this,
e,o;return u||(u=et()),u(n.peek().map(i)),e=function(n){return d(n,!0,u.peek(),i)},o=function(){var t=u.peek(),f=n.peek().map((function(n,u){var f=t[u];return r(f,n)?f:i(n)})),e=y.compareArrays(t,f,{sparse:!0});return d(e)},this._mergeRows=function(){var n=o();k(u,n)},n.subscribeArrayEdits(t,(function(n){if(!f._activePageRequest){f._resetCache();var t=e(n);k(u,t)}})),u},t})(u.Plugin);n.Plugin=ot})(s||(s={})),s}));define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/Grid2.Focus.css",["require","exports","module"],(function(n,t,i){"use strict";window.fx.injectCss(i,".fxc-grid2.fxs-grid-focus table tbody tr[aria-disabled=true] td>div{opacity:.5}.fxc-grid2.fxs-grid-focus table tbody tr[aria-disabled=true] td.fxc-grid-infoBalloon>div{opacity:1}.fxc-grid2.fxs-grid-focus.azc-grid-mousedown{outline:0}")}));define("MsPortalImpl.Controls/Controls/Lists/Grid2/Controls.Grid2.Focus",["require","exports","f","i","o","./Controls.Grid2.Impl","../Base/Controls.Lists.Focus","MsPortalImpl/Base/Base.KeyboardHelper",
"Viva.Controls/Util/Viva.Util","../../../../_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/Grid2.Focus.css"],(function(n,t,i,r,u,f,e,o,s){"use strict";var h;return (function(n){var y=r.Data,h="focus",c="fxs-grid-focus";n.HasFocusClass="fxs-has-focus";var t=jQuery,l=window,u=ko.dataFor,a=ko.pureComputed,v=(function(r){function e(n){var t=this;r.call(this,{name:h,cssClass:c,widget:n});this._options=n.options.focus;ko.reactor(this.lifetimeManager,(function(){if(t.widget.loadState()===2){var i=n._rows(),r=i.length&&i[0],u=i.first((function(n){return n===t._currentTabbableRow}));t._updateCurrentTabbableRow(u||r)}}))}return __extends(e,r),e.prototype.dispose=function(){this.widget.element.removeClass("fxc-grid-mousedown");r.prototype.dispose.call(this)},e.isEditableControl=function(n){return n.is("input")||n.is("textarea")||n.is("select")||n.is("keygen")},e.prototype.setTemplates=function(n){var t=n.getHtmlTemplate("bodyRowsCore");t.addAttribute("tr","data-bind","hasFocus: isFocused")},
e.prototype.initializeRow=function(t){var i=this;t.tabindex=a((function(){var r=t.tabbable(),n=-1;return r&&!i.widget._loading()&&(n=0),n}));t.attr.tabindex=t.tabindex;t.context.$tabIndex=t.tabindex;t.css[n.HasFocusClass]=t.isFocused;this.externalHover||(t.css["azc-has-hover"]=!0)},e.prototype.attachEvents=function(){var s=this,n=this.widget,i=n.element,r=n.attachEvent.bind(n);r(i,"click.fxGridFocus","tr.fxc-grid-row:not([aria-disabled=true])",(function(n,i){t.contains(n[0],l.document.activeElement)||s.focusRow(u(n[0]),i)}));r(i,"keydown.fxGridFocus",null,(function(i,r){var y=f.Selector,a=".fxc-grid-row",p=a+":not([aria-disabled=true])",c=t(r.target),w=c.is(y),l=w?c.find("tr[tabindex=0]"):c.closest(a),h,b=o.getModifierKeys(r),v=!0;if(!e.isEditableControl(c)&&!n._loading()&&b===0){switch(r.which){case 38:l.length&&(h=n.getOrCreatePreviousRow(u(l[0])));break;case 40:l.length&&(h=n.getOrCreateNextRow(u(l[0])));break;case 36:h=n.getFirstEnabledVisibleItem();break;case 35:h=n.getLastEnabledVisibleItem(
);break;case 33:case 34:h=n.getFocusableByPage(p,r.which);break;default:v=!1}h&&s.focusRow(h,r);v&&r.preventDefault()}}));r(i,"mousedown.fxGridFocus",null,(function(){var n="fxc-grid-mousedown";i.addClass(n);t("body").one("mouseup",(function(){i&&i.removeClass(n)}))}))},e.prototype.focusFirstItem=function(){var t=this.widget,n;t._loading()||(n=i.find(t._rows(),(function(n){return!n.isDisabled()})),n&&this.focusRow(n))},e.prototype.focusRow=function(n,t){var i;this._updateCurrentTabbableRow(n);n.tabindex()===0&&(n.isFocused(!0),i={focused:n},t&&this.widget.trigger("rowFocus",s.cloneEvent(t,"rowFocus"),i))},e.prototype.focusRowByRowId=function(n){var t=this.widget.getRowById(n);t&&this.focusRow(t)},e.prototype._updateCurrentTabbableRow=function(n){var t=this._currentTabbableRow;n&&n!==t&&(t&&t.tabbable(!1),n.tabbable(!0),this._currentTabbableRow=n)},e})(e.Plugin);n.Plugin=v})(h||(h={})),h}));define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/Grid2.Selection.css",["require","exports",
"module"],(function(n,t,i){"use strict";window.fx.injectCss(i,'.fxc-grid2.fxs-grid-selection .fxs-grid-selection-cell-col{width:26px;max-width:26px}.fxc-grid2.fxs-grid-selection .fxs-grid-selection-cell-header{padding-left:7px}.fxc-grid2.fxs-grid-selection .fxs-grid-selection-cell-wrapper{border-width:1px;border-style:solid;box-sizing:border-box;width:17px;height:17px;display:none}.fxc-grid2.fxs-grid-selection .fxs-grid-selection-cell-wrapper .fx-grid-formatters-svgicon{margin-top:2px;margin-left:2px;position:relative}.fxc-grid2.fxs-grid-selection .fxs-grid-selection-cell-wrapper .fx-grid-formatters-svgicon svg{vertical-align:top}.fxc-grid2.fxs-grid-selection tr.azc-list-selected .fxs-grid-selection-cell-wrapper,.fxc-grid2.fxs-grid-selection tr:hover .fxs-grid-selection-cell-wrapper{display:block}.fxc-grid2.fxs-grid-selection td.fxc-grid-activatable{font-family:az_ea_font,wf_segoe-ui_semibold,"Segoe UI Semibold","Segoe WP Semibold","Segoe UI","Segoe WP",Tahoma,Arial,sans-serif}.fxc-grid2.fxs-grid-selection td.fxc-grid-activatable>span:hover{text-decoration:underline}.fxc-grid2.fxs-grid-selection table td.fxc-grid-activatable>span{cursor:pointer}.fxs-blade-has-activation .fxc-grid2.fxs-grid-selection td.fxc-grid-activatable{font-family:az_ea_font,wf_segoe-ui_normal,"Segoe UI","Segoe WP",Tahoma,Arial,sans-serif}.fxs-blade-has-activation .fxc-grid2.fxs-grid-selection td.fxc-grid-activatable>span:hover{text-decoration:none}.fxs-mode-dark .fxc-grid2.fxs-grid-selection tbody tr.azc-list-selected{background-color:transparent}.fxs-mode-dark .fxc-grid2.fxs-grid-selection tbody tr.fxc-grid-row:hover,.fxs-mode-dark .fxc-grid2.fxs-grid-selection tbody tr:focus{background-color:#515151}.fxs-mode-dark .fxc-grid2.fxs-grid-selection tbody tr.fxc-list-activated{background-color:#131313}.fxs-mode-dark .fxc-grid2.fxs-grid-selection tbody td.fxc-grid-activatable{color:#00bcf2}.fxs-mode-dark .fxc-grid2.fxs-grid-selection.fxc-pseudoHover tbody tr.fxc-grid-row:not([aria-disabled=true]):not(.azc-list-selected):not(.fxc-list-activated){background-color:#515151}.fxs-mode-dark .fxc-grid2.fxs-grid-selection.fxc-pseudoHover tbody tr.fxc-grid-row:not([aria-disabled=true])~tr.fxc-grid-row:not([aria-disabled=true]):not(.azc-list-selected):not(.fxc-list-activated):not(:hover),.fxs-mode-light .fxc-grid2.fxs-grid-selection tbody tr.azc-list-selected{background-color:transparent}.fxs-mode-dark .fxs-blade-has-activation .fxc-grid2.fxs-grid-selection td.fxc-grid-activatable{color:#fff}.fxs-mode-light .fxc-grid2.fxs-grid-selection tbody tr.fxc-grid-row:hover,.fxs-mode-light .fxc-grid2.fxs-grid-selection tbody tr:focus{background-color:#f6f6f6}.fxs-mode-light .fxc-grid2.fxs-grid-selection tbody tr.fxc-list-activated{background-color:#b3ebfb}.fxs-mode-light .fxc-grid2.fxs-grid-selection tbody td.fxc-grid-activatable{color:#0072c6}.fxs-mode-light .fxc-grid2.fxs-grid-selection.fxc-pseudoHover tbody tr.fxc-grid-row:not([aria-disabled=true]):not(.azc-list-selected):not(.fxc-list-activated){background-color:#f6f6f6}.fxs-mode-light .fxc-grid2.fxs-grid-selection.fxc-pseudoHover tbody tr.fxc-grid-row:not([aria-disabled=true])~tr.fxc-grid-row:not([aria-disabled=true]):not(.azc-list-selected):not(.fxc-list-activated):not(:hover){background-color:transparent}.fxs-mode-light .fxs-blade-has-activation .fxc-grid2.fxs-grid-selection td.fxc-grid-activatable{color:#2d3239}')})
);define("MsPortalImpl.Controls/Controls/Lists/Grid2/Controls.Grid2.Selection",["require","exports","f","i","o","./Controls.Grid2.Impl","./Controls.Grid2.Focus","../Base/Controls.Lists.Selection","MsPortalImpl/Base/Base.KeyboardHelper","../../../../_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/Grid2.Selection.css"],(function(n,t,i,r,u,f,e,o,s){"use strict";var h;return (function(n){function it(n,t){n.forEach((function(n){n.isActivated(t)}))}function rt(n,t){n.forEach((function(n){n.isSelected(t)}))}var ut=r.ViewModels,p=i.Base,ft=p.Images,w=i.ViewModels,b=w.Forms.TriStateCheckBox,t=b.Value,l=w.Internal.Selection2,et=i.initValue,ot="selection",st="fxs-grid-selection",u=jQuery,a=window,k="fxs-grid-selection-selectAll",ht='css: { "fxs-grid-multiselection": selection.multiselect }, attr: { "data-grid-activation": selection.activation }',ct="<col class='fxs-grid-selection-cell-col' />",lt="<th role='presentation' class='fxs-grid-selection-cell-header' aria-hidden='true'>"+("<div class='"+
k+"' data-bind='pcControl: selection._selectAllCheckbox'><\/div>")+"<\/th>",at="<td role='presentation' class='fxs-grid-selection-cell azc-br-muted' aria-hidden='true'><div class='fxs-grid-selection-cell-wrapper azc-br-default azc-fill-text'><div class='fxs-grid-selection-cell-check' data-bind='trustedHtml: $ctl.selection._selectionCellFormat($data)'><\/div><\/div><\/td>",d="11px",v="fxc-pseudoHover",g="tr.fxc-grid-row:not([aria-disabled=true])",c=f.EnabledRowSelector,h=ko.dataFor,y=ko.pureComputed,vt=ko.reactor,nt=ko.utils,yt=nt.unwrapObservablePath,tt=nt.peekObservable,pt=(function(n){function r(t){var u=this,i,r;n.call(this,{name:ot,cssClass:st,widget:t});i=this.options=t.options.selection;this._selectAllCheckbox=new b.ViewModel(this.lifetimeManager);this._selectAllCheckbox.canUserSetIndeterminate(!1);r=this.selectionMode=i.selectionMode||2;this.multiselect=r===3;this.activation=i.activationMode!==1;this._selectableItems=t.selectableSet.registerItemController((function(n){return{id:n.
id,columnId:u._activationColumn}}),(function(n){return n.data}),(function(n,t,i,r){it(r,!1);it(t,!0)}),(function(n,i,r,u,f,e){var s=u?t._rows.peek():e,o;rt(s,!1);o=n?t._rows.peek():r;rt(o,!0)}))}return __extends(r,n),r.prototype.attachEvents=function(){var n=this,l=g+" td.fxc-grid-activatable.fxc-grid-cell > span",r=this.widget,f=r.element,o=r.attachEvent.bind(r),i=this._changeSelection.bind(this);this.activation&&o(f,"click.fxGridActivation",l,(function(t,i){r._loading()||a.getSelection().toString()||(n._changeActivation(t.parents("tr")[0],i),i.stopPropagation())}));o(f,"click.fxGridSelection",g,(function(n,t){r._loading()||a.getSelection().toString()||(n=n.is("tr")?n:n.parent("tr"),i(n[0],t),t.stopPropagation())}));o(f,"keydown.fxGridSelection",null,(function(f,o){var d,g;if(!r._loading()){var nt=a.document.activeElement,ft="tr."+e.HasFocusClass,w=u(o.target),et=w.hasClass("fxc-grid2"),ot=et?w:w.closest(".fxc-grid2"),tt=u(nt).is("tr")||u(nt).is("td"),l=tt?u(nt).closest("tr"):ot.find(ft),y=l.length?
l[0]:null,v=y?h(y):null,p=s.getModifierKeys(o),it=!0,b,rt=10,k=n.multiselect,ut=n._selectAllCheckbox;if(v&&!e.Plugin.isEditableControl(w)){switch(o.which){case 32:p===0&&v&&tt&&(v.isSelected()&&(o.ctrlKey=!0),i(y,o));break;case 13:p===0&&v&&tt&&(v.isActivated()||n._changeActivation(y,o));break;case 65:k&&p===8&&(n.selectAllRows(),ut.value(t.Checked));break;case 68:p===8&&(n.unselectAllRows(),k&&ut.value(t.Unchecked));break;case 38:case 40:k&&p===4&&(d=o.which===38?l.prevAll(c)[0]:l.nextAll(c)[0],v.isSelected()||i(y,o),d&&(h(d).isSelected()||i(d,o)));break;case 33:case 34:k&&p===4&&(g=o.which===33?l.prevAll(c):l.nextAll(c),b=g.length<rt-1?g:g.slice(0,rt-1),v.isSelected()||i(y,o),b.each((function(n,t){h(t).isSelected()||i(t,o)})));break;case 36:case 35:n.multiselect&&p===4&&(b=o.which===36?l.prevAll(c):l.nextAll(c),n.unselectAllRows(),v.isSelected()||i(y,o),b.each((function(n,t){h(t).isSelected()||i(t,o)})));break;default:it=!1}it&&(o.stopPropagation(),o.preventDefault())}}}));o(f,"click.fxGridSelectionSelectAll",
"."+k,(function(){switch(n._selectAllCheckbox.value()){case t.Checked:n.selectAllRows();break;case t.Unchecked:n.unselectAllRows()}}))},r.prototype.pseudoFocusFirstItem=function(){this.widget.element.addClass(v)},r.prototype.pseudoBlurFirstItem=function(){this.widget.element.removeClass(v)},r.prototype.activateFirstItem=function(){if(!this.widget._loading()){var n=i.find(this.widget._rows(),(function(n){return!n.isDisabled()}));n&&(this.activation?this.activateRows(n):(this.unselectAllRows(),this.selectRows(n)))}},r.prototype.activateRows=function(){for(var t=[],n=0;n<arguments.length;n++)t[+n]=arguments[n];this._selectableItems.activateItems(t)},r.prototype.deactivateAllRows=function(){this.widget.selectableSet.deactivateAll()},r.prototype.selectAllRows=function(){this.widget.selectableSet.selectAll()},r.prototype.selectRows=function(){for(var t=[],n=0;n<arguments.length;n++)t[+n]=arguments[n];this._selectableItems.selectItems(t)},r.prototype.unselectAllRows=function(){this.widget.selectableSet.
unselectAll()},r.prototype.unselectRows=function(){for(var t=[],n=0;n<arguments.length;n++)t[+n]=arguments[n];this._selectableItems.unselectItems(t)},r.prototype.dispose=function(){n.prototype.dispose.call(this);this.widget.element.removeClass(v);this._selectAllCheckbox.dispose()},r.prototype.getAdditionalColumns=function(){return this.selectionMode===3?1:0},r.prototype.getSelectedRows=function(){return this.widget._rows().filter((function(n){return n.isSelected()}))},r.prototype.initializeRow=function(n){var i=this,t=this.widget.selectableSet,r=t.selectedAll();n.isSelected=n.delayedProperty(r,(function(n){var i=tt(n.id),r=t.selectedAll();return r?!t.unselectedIds().some((function(n){return l.compareIds(i,n.id)})):t.selectedIds().some((function(n){return l.compareIds(i,n.id)}))}));n.isActivated=n.delayedProperty(!1,(function(n){var i=tt(n.id);return t.activatedIds().some((function(n){return l.compareIds(i,n.id)}))}));n.activationLink=y((function(){if(i.options.linkUriProperty)return yt(n.data,i.options.
linkUriProperty)}));n.attr["aria-selected"]=n.isSelected;n.attr["data-grid-activated"]=n.isActivated;n.css["azc-list-selected"]=n.isSelected;n.css["fxc-list-activated"]=n.isActivated;n.css["fxc-grid2-link"]=y((function(){return!!n.activationLink()}))},r.prototype.initializeColumn=function(n,t){n.activatable=et(t.activatable,!1);n.css["fxc-grid-activatable"]=n.activatable},r.prototype.initializeCells=function(n,t){this.widget._columns().filter((function(n){return n.activatable})).length>1&&(t.attr.tabindex=y((function(){return t.column.activatable?n.tabindex():null})))},r.prototype.onLoadComplete=function(){var n=this,i,r,u;if(!this.multiselect&&(r=this.getSelectedRows(),u=r?r.length:0,u>=1))for(i=1;i<u;i++)r[i].isSelected(!1);vt(this.lifetimeManager,(function(){var f=n.options._msPortalFxSelectableSet.selectedIds().length,u=n.options._msPortalFxSelectableSet.unselectedIds().length,i=n.options.selectedAll(),r=n._selectAllCheckbox;i&&u===0?r.value(t.Checked):!i&&f>0||i&&u>0?r.value(t.Indeterminate):
r.value(t.Unchecked)}))},r.prototype.setTemplates=function(n){var i=n.getTemplate("bodyRowsContent"),r=n.getHtmlTemplate("header"),u=n.getHtmlTemplate("colgroup"),f=n.getHtmlTemplate("table"),t;f.addAttribute("table","data-bind",ht);this.multiselect&&(t=new ut.Controls.Lists.Grid2.Formatters.SvgIconLookup({svgIconLookup:{"true":{svg:ft.Check({palette:p.ImagePalette.Inherit})}},height:d,width:d}),this._selectionCellFormatter=this.widget._getFormatter(t),n.setTemplate("bodyRowsContent",at+i),r.prepend("tr",lt),u.prepend("colgroup",ct))},r.prototype._changeActivation=function(n,t){var i,r,f,e;u(n).closest("tr").focus();i=h(n);r=u(t.target).closest("td")[0];i.activationLink()?(window.open(i.activationLink()),t&&t.stopPropagation()):(r?(f=h(u(t.target).closest("td")[0]),e=f.column.id,this._activationColumn=e):this._activationColumn="",this.activateRows(i))},r.prototype._changeSelection=function(n,t){var e=this.options.selectionMode,o,c;switch(e){case 2:o=!1;break;case 3:o=!0;break;default:throw new
Error("Unknown selection mode: "+e+".");}var u=h(n),r=null,i=[],l=u.isSelected(),s=-1,f;if(o)l?i=[u]:r=u;else{for(i=this.getSelectedRows(),f=i.length-1;f>=0;f--)c=i[f],c!==u||(s=f);s<0?r=u:e===2&&(!1||t.ctrlKey||t.shiftKey)||i.splice(s,1)}(r||i.length>0)&&(this.unselectRows.apply(this,i),r&&(this.selectRows(r),this.widget.focus.focusRow(r)))},r.prototype._selectionCellFormat=function(n){return this._selectionCellFormatter.format(n.isSelected(),null).html},r})(o.Plugin);n.Plugin=pt})(h||(h={})),h}));define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/Grid2.Sorting.css",["require","exports","module"],(function(n,t,i){"use strict";window.fx.injectCss(i,".fxc-grid2.fxc-grid-sorting th a.fxc-sortable{cursor:pointer;height:40px;display:inline-block;width:100%}.fxc-grid2.fxc-grid-sorting th a.fxc-sortable span.fxc-grid-headerlabel{display:block;float:left;max-width:calc(100% - 35px)}.fxc-grid2.fxc-grid-sorting th a.fxc-sortable span.fxc-grid-sorting-sortImage{vertical-align:middle;display:inline-block}.fxc-grid2.fxc-grid-sorting th a.fxc-sortable span.fxc-grid-sorting-sortImage svg{padding-left:10px;width:12px;height:12px}")})
);define("MsPortalImpl.Controls/Controls/Lists/Grid2/Controls.Grid2.Sorting",["require","exports","f","o","../Base/Controls.Lists.Base","MsPortalImpl/Base/Base.KeyboardHelper","../../../../_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/Grid2.Sorting.css"],(function(n,t,i,r,u){"use strict";var f;return (function(n){var t=i.initValue,f=i.initObservable,e="sorting",o="fxc-grid-sorting",s='style: { width: width }, attr: { "aria-sort": sortOrder() === 1 ? "ascending" : (sortOrder() === 2 ? "descending" : null), "class": "fxc-grid-sorting-header" }',h="<a data-bind='css: {\"fxc-sortable\" : sortable}, attr:{tabindex: sortable ? 0 : null }' ><span class='fxc-grid-headerlabel' data-bind='text: name'><\/span><span class='fxc-grid-sorting-sortImage' data-bind='image: sortOrder() === 1 ? MsPortalFx.Base.Images.CaretUp() : MsPortalFx.Base.Images.CaretDown(), visible: sortable'><\/span><\/a>",c=(function(n){function i(t){n.call(this,{name:e,cssClass:o,widget:t});this.options=t.options.sorting}
return __extends(i,n),i.prototype.dispose=function(){n.prototype.dispose.call(this)},r.defineProperty(i.prototype,"dataNavigator",{get:function(){return this.widget.dataNavigator},enumerable:!0,configurable:!0}),i.prototype.setTemplates=function(n){var t=n.getHtmlTemplate("headerCell");t.addAttribute("th","data-bind",s);n.setTemplate("headerCellContent",h)},i.prototype.attachEvents=function(){var n=this,t=function(t,i){var r=ko.dataFor(t[0]),u=[];if(i.preventDefault(),r.sortable){switch(r.sortOrder()){case 1:r.sortOrder(2);break;case 0:case 2:default:r.sortOrder(1)}n.widget._columns().forEach((function(n){n.sortable&&(n===r?u.push({property:{name:n.id},direction:r.sortOrder()===1?1:0}):n.sortOrder(0))}));n.dataNavigator.sortOrder(u);n.widget._internalLoading(!0);n.dataNavigator.refresh().finally((function(){n.widget._internalLoading(!1)}))}};this.widget.attachEvent(this.widget.element,"click.fxGridSorting",".fxc-sortable",t);this.widget.attachEvent(this.widget.element,"keypress.fxGridSorting",
".fxc-sortable",(function(n,i){(i.which===13||i.which===32)&&t(n,i)}))},i.prototype.initializeColumn=function(n,i){n.sortable=t(i.sortable,!0);n.sortOrder=f(i.sortOrder,0)},i})(u.Plugin);n.Plugin=c})(f||(f={})),f}));define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/Grid2.Resizing.css",["require","exports","module"],(function(n,t,i){"use strict";window.fx.injectCss(i,".fxc-grid2.fxc-grid-resizing .fxc-grid-tableContainer{position:relative}.fxc-grid2.fxc-grid-resizing .fxc-grid-resizableColumn-handle{position:absolute;right:-5px;top:0;height:100%;width:10px;cursor:ew-resize;z-index:1;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center}.fxc-grid2.fxc-grid-resizing .fxc-grid-resizableColumn-handle .fxc-grid-resizableColumn-handle-line{width:1px;height:100%;opacity:0}.fxc-grid2.fxc-grid-resizing .fxc-grid-resizableColumn-ghostLine{position:absolute;width:1px;top:0;z-index:1}.fxc-grid2.fxc-grid-resizing .fxc-grid-show-handles .fxc-grid-resizableColumn-handle .fxc-grid-resizableColumn-handle-line,.fxc-grid2.fxc-grid-resizing thead:hover .fxc-grid-resizableColumn-handle-line,.fxc-grid2.fxc-grid-resizing.fxc-grid-resizing-inprogress .fxc-grid-resizableColumn-handle-line{opacity:1}.fxc-grid2.fxc-grid-resizing.fxc-grid-resizing-inprogress *{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.fxs-blade-activationstyle .fxc-grid2.fxc-grid-resizing .fxc-grid-resizableColumn-handle{display:none}")})
);define("MsPortalImpl.Controls/Controls/Lists/Grid2/Controls.Grid2.Resizing",["require","exports","f","o","../Base/Controls.Lists.Base","../../../../_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/Grid2.Resizing.css"],(function(n,t,i,r,u){"use strict";var f;return (function(n){function s(n,i,r){var f,o,e,u;if(r===n.length)f=null;else if(e=n[r],e.hasOwnProperty("disableResizable")&&!e.disableResizable()){for(u=0;u<i.length;u++)if(t(i.eq(u)[0]).id===e.id){o=i.eq(u);break}f=o}else r++,f=s(n,i,r);return f}function nt(n,t){for(var r=-1,i=0;i<n.length;i++)if(n[i].id===t.id){r=i;break}return r}function h(n,t){if(n>0)return(t/n*100).toString()+"%"}function tt(n,t){return t-n.offset().left}function c(n,t,i){return Math.min(Math.max(n,t),i)}var e=i.initObservable,l="resizing",a="fxc-grid-resizing",t=ko.dataFor,o=ko.isObservable,r=jQuery,v=window,f="fxc-grid-resizing-inprogress",y=".fxc-grid-resizableColumn-handle",p=".fxc-grid-resizableColumn-handle-line",w=".fxc-grid-tableHeader",b=".fxc-grid-tableContent",
k=".fxc-grid-tableContainer",d="<div class='fxc-grid-resizableColumn-ghostLine azc-bg-selected'><\/div>",g="<!-- ko if: hasHandle && hasHandle() --><div class='fxc-grid-resizableColumn-handle'><div class='fxc-grid-resizableColumn-handle-line azc-bg-muted'><\/div><\/div><!-- /ko -->",it=(function(n){function i(t){n.call(this,{name:l,cssClass:a,widget:t});var r=this._options=t.options.resizing,i=t.options.scrolling;i&&i.enabled&&i.horizontal&&r.resizeToPercent(!1)}return __extends(i,n),i.prototype.dispose=function(){var t=this._disposeAction;t&&(t(),this._disposeAction=null);this.widget.element.removeClass(f);n.prototype.dispose.call(this)},i.isEnabled=function(n){var t=n.options.resizing;return t&&t.enabled},i.prototype.setTemplates=function(n){var t=n.getHtmlTemplate("headerCell");t.append("div",g)},i.prototype._setColumnWidthsToMatchElementWidth=function(n,t){var f=this,i=this.widget.contextMenu?t-32:t,r=0,u=[];n.forEach((function(n){var t,e=n.width();e&&(e.endsWith("%")?t=parseFloat(e.
slice(0,e.length-1))*.01*i:e.endsWith("px")&&(t=parseFloat(e.slice(0,e.length-2))));t=isNaN(t)?f._options.minWidth:t;u.push(t);r+=t}));this._options.resizeToPercent()?u.forEach((function(u,f){n[f].width(u/r*i/t*100+"%")})):u.forEach((function(t,u){var f=i/r;n[u].width(Math.round(t*f)+"px")}))},i.prototype.headerResized=function(n){this._setColumnWidthsToMatchElementWidth(this.widget._columns(),n)},i.prototype.afterCreate=function(){var n=this;this.widget._columns.subscribe(this.lifetimeManager,(function(t){t.length&&(n._lastCol&&n._lastCol.hasHandle(!0),n._lastCol=t[t.length-1],n._lastCol.hasHandle(!1));n._setColumnWidthsToMatchElementWidth(t,n.widget.element.find(".fxc-grid-tableHeader").width())})).callback(this.widget._columns())},i.prototype.attachEvents=function(){var u=this,n=this.widget,i=n.element;n.attachEvent(i,"mousedown.fxcontrolGridResizableColumn",y,(function(f,e){var l,h,c,p,a,w,v,y;(u._mouseDownPos=e.pageX,a=r(e.currentTarget),w=i.find("th"),l=a.parent().closest("th"),c=t(l[0]),
e.preventDefault(),c.disableResizable())||(v=n._columns(),y=nt(v,c),y<0)||(h=s(v,w,y+1),h)&&(p=t(h[0]),o(c.width)&&o(p.width))&&u._resizeStart(a,i,l,h)}))},i.prototype.initializeColumn=function(n,t){n.disableResizable=e(t.disableResizable,!1);n.hasHandle=e(t.hasHandle,!0)},i.prototype._resizeStart=function(n,i,u,e){var nt=this,it,ct=i.find(w),lt=i.find(b),s=r(d),y=i.find(k),rt=u.offset().left+this._options.minWidth,ut=e.offset().left+e.width()-this._options.minWidth,ft,et,ot,st;it=n.find(p);ft=it.offset().left;et=tt(y,ft);s.offset({left:et});s.css("position","absolute");ot=ct.height();st=lt.height();s.height(ot+st);y.append(s);var l=r(v.document),g="mousemove.fxcontrolGridResizableColumn",o=function(n){var t=n.pageX,r=c(t,rt,ut);n.preventDefault();i.addClass(f);s.offset({left:r})},ht="mouseup.fxcontrolGridResizableColumn",a=function(n){var r,k,d,a,v,p,w,b,tt=n.pageX,it=c(tt,rt,ut),ft=t(e[0]),et=t(u[0]);o&&l.off(g,o);o=null;i.removeClass(f);s.remove();k=u.width();d=e.width();b=it-nt._mouseDownPos;
a=k+b;v=d-b;nt._options.resizeToPercent()?(r=y.width(),w=h(r,v),p=h(r,a)):(p=a.toString()+"px",w=v.toString()+"px");et.width(p);ft.width(w)};l.on(g,o);l.one(ht,a);this._disposeAction=function(){o&&l.off(g,o);o=null;a&&l.off(ht,a);a=null}},i})(u.Plugin);n.Plugin=it})(f||(f={})),f}));define("MsPortalImpl.Controls/Controls/Lists/Grid2/Controls.Grid2",["require","exports","./Controls.Grid2.Impl","MsPortalImpl.Controls/Controls/Lists/Grid2/Controls.Grid2.ContextMenu","MsPortalImpl.Controls/Controls/Lists/Grid2/Controls.Grid2.Scrolling","MsPortalImpl.Controls/Controls/Lists/Grid2/Controls.Grid2.Selection","MsPortalImpl.Controls/Controls/Lists/Grid2/Controls.Grid2.Sorting","MsPortalImpl.Controls/Controls/Lists/Grid2/Controls.Grid2.Resizing"],(function(n,t,i){"use strict";var r;return (function(n){n.Row=i.Row;n.Widget=i.Widget;n.Plugin=i.Plugin;n.TrustedWidget=i.TrustedWidget})(r||(r={})),r}))