function sanitizeSecrets(n){return n&&typeof n=="string"&&(n=n.replace(/(\?|&)sig=[a-z0-9%]+/ig,"$1sig=SECRET"),n=n.replace(/(\?|&|\/|%2F)(SourceKey|DestKey)(=|%3A|\:)([A-Za-z0-9]|\/|%2F)+(==|\%3D\%3D)/ig,"$1$2=SECRET"),n=n.replace(/.*\W[a-zA-Z0-9+]{86}==\W.*/ig,"$1$2=SECRET")),n}function writeEntry(n,t,i){for(var f,e,r=[],u=3;u<arguments.length;u++)r[u-3]=arguments[u];typeof i=="string"?i=sanitizeSecrets(i):i&&typeof i=="object"&&(f=i,f.message&&(f.message=sanitizeSecrets(f.message)));e=[n,t,i];r&&(r=r.map((function(n){return sanitizeSecrets(n)})),e=e.concat(r));fxWriteEntry.apply(MsPortalFx.Base.Diagnostics.Log,e)}var PropertiesViewModels,StringComparison,StringEx,ClientResources,Notifications,Arm,FxForms,FxViewModels,Interface,Diagnostics,Microsoft,ObjectEx,Interfaces,NetworkingSharedInterfaces,ErrorBase,ProvisioningStateHelper,Models,NotificationUtility,FxDialogs,SimpleButton,ContentState,FxToolbars,FxResourceTypes,Pickers,MsFxProperties,ApiVersions,PortalFxTelemetry,fxWriteEntry,ExtensionCore;
(function(n){n(ko,ko.mapping={})})((function(n,t){function rt(){for(var r=arguments,u=r.length,f={},e=[],t,n,i;u--;)for(i=r[u],t=i.length;t--;)n=i[t],f[n]||(f[n]=1,e.push(n));return e}function y(n,i){var u,r,f;for(r in i)i.hasOwnProperty(r)&&i[r]&&(u=t.getType(n[r]),r&&n[r]&&u!=="array"&&u!=="string"?y(n[r],i[r]):(f=t.getType(n[r])==="array"&&t.getType(i[r])==="array",n[r]=f?rt(n[r],i[r]):i[r]))}function c(n,t){var i={};return y(i,n),y(i,t),i}function p(n,t){for(var f,i=c({},n),e=w.length-1;e>=0;e--)(f=w[e],i[f])&&(i[""]instanceof Object||(i[""]={}),i[""][f]=i[f],delete i[f]);return t&&(i.ignore=u(t.ignore,i.ignore),i.include=u(t.include,i.include),i.copy=u(t.copy,i.copy),i.observe=u(t.observe,i.observe)),i.ignore=u(i.ignore,r.ignore),i.include=u(i.include,r.include),i.copy=u(i.copy,r.copy),i.observe=u(i.observe,r.observe),i.mappedProperties=i.mappedProperties||{},i.copiedProperties=i.copiedProperties||{},i}function u(i,r){return t.getType(i)!=="array"&&(i=t.getType(i)==="undefined"?[]:
[i]),t.getType(r)!=="array"&&(r=t.getType(r)==="undefined"?[]:[r]),n.utils.arrayGetDistinctValues(i.concat(r))}function ut(t,i){var u=n.dependentObservable,r;return n.dependentObservable=function(i,r,u){var f;u=u||{};i&&typeof i=="object"&&(u=i);var s=u.deferEvaluation,e=!1,h=function(i){var f=n.dependentObservable,u,r;return n.dependentObservable=o,u=n.isWriteableObservable(i),n.dependentObservable=f,r=o({read:function(){return e||(n.utils.arrayRemoveItem(t,i),e=!0),i.apply(i,arguments)},write:u&&function(n){return i(n)},deferEvaluation:!0}),it&&(r._wrapper=!0),r.__DO=i,r};return u.deferEvaluation=!0,f=new o(i,r,u),s||(f=h(f),t.push(f)),f},n.dependentObservable.fn=o.fn,n.computed=n.dependentObservable,r=i(),n.dependentObservable=u,n.computed=n.dependentObservable,r}function l(r,u,f,o,v,y,p){var si=t.getType(n.utils.unwrapObservable(u))==="array",ti,ot,ri,lt,ei,wt,yt,gt,d,it,ni,st,ht;y=y||"";t.isMapped(r)&&(ti=n.utils.unwrapObservable(r)[i],f=c(ti,f));var et={data:u,parent:p||v},ct=function(
){return f[o]&&f[o].create instanceof Function},pt=function(t){return ut(s,(function(){return n.utils.unwrapObservable(v)instanceof Array?f[o].create({data:t||et.data,parent:et.parent,skip:b}):f[o].create({data:t||et.data,parent:et.parent})}))},rt=function(){return f[o]&&f[o].update instanceof Function},ft=function(t,i){var r={data:i||et.data,parent:et.parent,target:n.utils.unwrapObservable(t)};return n.isWriteableObservable(t)&&(r.observable=t),f[o].update(r)},ii=h.get(u);if(ii)return ii;if(o=o||"",si){var ui=[],fi=!1,w=function(n){return n};f[o]&&f[o].key&&(w=f[o].key,fi=!0);n.isObservable(r)||(r=n.observableArray([]),r.mappedRemove=function(n){var t=typeof n=="function"?n:function(t){return t===w(n)};return r.remove((function(n){return t(w(n))}))},r.mappedRemoveAll=function(t){var i=e(t,w);return r.remove((function(t){return n.utils.arrayIndexOf(i,w(t))!=-1}))},r.mappedDestroy=function(n){var t=typeof n=="function"?n:function(t){return t===w(n)};return r.destroy((function(n){return t(w(n))})
)},r.mappedDestroyAll=function(t){var i=e(t,w);return r.destroy((function(t){return n.utils.arrayIndexOf(i,w(t))!=-1}))},r.mappedIndexOf=function(t){var i=e(r(),w),u=w(t);return n.utils.arrayIndexOf(i,u)},r.mappedGet=function(n){return r()[r.mappedIndexOf(n)]},r.mappedCreate=function(t){var i,u;if(r.mappedIndexOf(t)!==-1)throw new Error("There already is an object with the key that you specified.");return i=ct()?pt(t):t,rt()&&(u=ft(i,t),n.isWriteableObservable(i)?i(u):i=u),r.push(i),i});ei=e(n.utils.unwrapObservable(r),w).sort();wt=e(u,w);fi&&wt.sort();for(var oi=n.utils.compareArrays(ei,wt),at={},bt=n.utils.unwrapObservable(u),kt={},dt=!0,tt=0,vt=bt.length;tt<vt;tt++){if(d=w(bt[tt]),d===undefined||d instanceof Object){dt=!1;break}kt[d]=bt[tt]}for(yt=[],gt=0,tt=0,vt=oi.length;tt<vt;tt++){d=oi[tt];ni=y+"["+tt+"]";switch(d.status){case"added":st=dt?kt[d.value]:a(n.utils.unwrapObservable(u),d.value,w);it=l(undefined,st,f,o,r,ni,v);ct()||(it=n.utils.unwrapObservable(it));ht=k(n.utils.unwrapObservable(
u),st,at);it===b?gt++:yt[ht-gt]=it;at[ht]=!0;break;case"retained":st=dt?kt[d.value]:a(n.utils.unwrapObservable(u),d.value,w);it=a(r,d.value,w);l(it,st,f,o,r,ni,v);ht=k(n.utils.unwrapObservable(u),st,at);yt[ht]=it;at[ht]=!0;break;case"deleted":it=a(r,d.value,w)}ui.push({event:d.status,item:it})}r(yt);f[o]&&f[o].arrayChanged&&n.utils.arrayForEach(ui,(function(n){f[o].arrayChanged(n.event,n.item)}))}else if(nt(u)){if(r=n.utils.unwrapObservable(r),!r){if(ct())return lt=pt(),rt()&&(lt=ft(lt)),lt;if(rt())return ft(lt);r={}}if(rt()&&(r=ft(r)),h.save(u,r),rt())return r;g(u,(function(t){var e=y.length?y+"."+t:t;if(n.utils.arrayIndexOf(f.ignore,e)==-1){if(n.utils.arrayIndexOf(f.copy,e)!=-1){r[t]=u[t];return}if(typeof u[t]!="object"&&typeof u[t]!="array"&&f.observe.length>0&&n.utils.arrayIndexOf(f.observe,e)==-1){r[t]=u[t];f.copiedProperties[e]=!0;return}var o=h.get(u[t]),s=l(r[t],u[t],f,t,r,e,r),i=o||s;if(f.observe.length>0&&n.utils.arrayIndexOf(f.observe,e)==-1){r[t]=n.utils.unwrapObservable(i);f.
copiedProperties[e]=!0;return}n.isWriteableObservable(r[t])?(i=n.utils.unwrapObservable(i),r[t]()!==i&&r[t](i)):(i=r[t]===undefined?i:n.utils.unwrapObservable(i),r[t]=i);f.mappedProperties[e]=!0}}))}else switch(t.getType(u)){case"function":rt()?n.isWriteableObservable(u)?(u(ft(u)),r=u):r=ft(u):r=u;break;default:if(n.isWriteableObservable(r))return rt()?(ot=ft(r),r(ot),ot):(ot=n.utils.unwrapObservable(u),r(ot),ot);if(ri=ct()||rt(),r=ct()?pt():n.observable(n.utils.unwrapObservable(u)),rt()&&r(ft(r)),ri)return r}return r}function k(n,t,i){for(var r=0,u=n.length;r<u;r++)if(i[r]!==!0&&n[r]===t)return r;return null}function d(i,r){var u;return r&&(u=r(i)),t.getType(u)==="undefined"&&(u=i),n.utils.unwrapObservable(u)}function a(t,i,r){var u,e,f;for(t=n.utils.unwrapObservable(t),u=0,e=t.length;u<e;u++)if(f=t[u],d(f,r)===i)return f;throw new Error("When calling ko.update*, the key '"+i+"' was not found!");}function e(t,i){return n.utils.arrayMap(n.utils.unwrapObservable(t),(function(n){return i?d(
n,i):n}))}function g(n,i){var r,u;if(t.getType(n)==="array")for(r=0;r<n.length;r++)i(r);else for(u in n)i(u)}function nt(n){var i=t.getType(n);return(i==="object"||i==="array")&&n!==null}function ft(n,i,r){var u=n||"";return t.getType(i)==="array"?n&&(u+="["+r+"]"):(n&&(u+="."),u+=r),u}function et(){var t=[],i=[];this.save=function(r,u){var f=n.utils.arrayIndexOf(t,r);f>=0?i[f]=u:(t.push(r),i.push(u))};this.get=function(r){var u=n.utils.arrayIndexOf(t,r);return u>=0?i[u]:undefined}}function tt(){var n={},t=function(t){var r,i;try{r=t}catch(u){r="$$$"}return i=n[r],i===undefined&&(i=new et,n[r]=i),i};this.save=function(n,i){t(n).save(n,i)};this.get=function(n){return t(n).get(n)}}var it=!0,i="__ko_mapping__",o=n.dependentObservable,v=0,s,h,w=["create","update","key","arrayChanged"],b={},f={include:["_destroy"],ignore:[],copy:[],observe:[]},r=f;t.isMapped=function(t){var r=n.utils.unwrapObservable(t);return r&&r[i]};t.fromJS=function(n){var t,r,u,f;if(arguments.length==0)throw new Error("When calling ko.fromJS, pass the object you want to convert.");
try{if(v++||(s=[],h=new tt),arguments.length==2&&(arguments[1][i]?r=arguments[1]:t=arguments[1]),arguments.length==3&&(t=arguments[1],r=arguments[2]),r&&(t=c(t,r[i])),t=p(t),u=l(r,n,t),r&&(u=r),!--v)while(s.length)f=s.pop(),f&&(f(),f.__DO.throttleEvaluation=f.throttleEvaluation);return u[i]=c(u[i],t),u}catch(e){v=0;throw e;}};t.fromJSON=function(i){var r=n.utils.parseJson(i);return arguments[0]=r,t.fromJS.apply(this,arguments)};t.updateFromJS=function(){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!");};t.updateFromJSON=function(){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!");};t.toJS=function(u,f){if(r||t.resetDefaultOptions(),arguments.length==0)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if(t.getType(r.ignore)!=="array")throw new Error("ko.mapping.defaultOptions().ignore should be an array.");
if(t.getType(r.include)!=="array")throw new Error("ko.mapping.defaultOptions().include should be an array.");if(t.getType(r.copy)!=="array")throw new Error("ko.mapping.defaultOptions().copy should be an array.");return f=p(f,u[i]),t.visitModel(u,(function(t){return n.utils.unwrapObservable(t)}),f)};t.toJSON=function(i,r){var u=t.toJS(i,r);return n.utils.stringifyJson(u)};t.defaultOptions=function(){if(arguments.length>0)r=arguments[0];else return r};t.resetDefaultOptions=function(){r={include:f.include.slice(0),ignore:f.ignore.slice(0),copy:f.copy.slice(0),observe:f.observe.slice(0)}};t.getType=function(n){if(n&&typeof n=="object"){if(n.constructor===Date)return"date";if(n.constructor===Array)return"array"}return typeof n};t.visitModel=function(r,u,f){var o,e,s;if(f=f||{},f.visitedObjects=f.visitedObjects||new tt,e=n.utils.unwrapObservable(r),nt(e))f=p(f,e[i]),u(r,f.parentName),o=t.getType(e)==="array"?[]:{};else return u(r,f.parentName);return f.visitedObjects.save(r,o),s=f.parentName,g(
e,(function(r){var h,c;if((!f.ignore||n.utils.arrayIndexOf(f.ignore,r)==-1)&&(h=e[r],f.parentName=ft(s,e,r),n.utils.arrayIndexOf(f.copy,r)!==-1||n.utils.arrayIndexOf(f.include,r)!==-1||!e[i]||!e[i].mappedProperties||e[i].mappedProperties[r]||!e[i].copiedProperties||e[i].copiedProperties[r]||t.getType(e)==="array"))switch(t.getType(n.utils.unwrapObservable(h))){case"object":case"array":case"undefined":c=f.visitedObjects.get(h);o[r]=t.getType(c)!=="undefined"?c:t.visitModel(h,u,f);break;default:o[r]=u(h,f.parentName)}})),o}})),(function(n){var t;(function(t){"use strict";var i=(function(){function t(){if(t._instance)throw new Error("Error: this class is a singleton. Use ArmApiVersions.getInstance().");}return t.getInstance=function(){return this._instance||(n.ArmUtils?this._instance=n.ArmUtils.isAzureStack()?new u:new r:MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"ArmApiVersions: getInstance()","ExtensionCore.ArmUtils is undefined")),this._instance},t})(),r,u,f;t.ArmApiVersions=i;r=(function(t)
{function i(){t.call(this);this.subscriptionsProvider="?api-version=2015-01-01";this.resourceProvider="?api-version=2015-01-01";this.resources="?api-version=2016-09-01";this.resourcesVersionOnly="2016-09-01";this.resourcesValidate="?api-version=2015-11-01";this.resourcesCheckNameVersionOnly="2015-11-01";this.locks="?api-version=2015-01-01";this.usages="?api-version=2016-03-30";this.resourceGroup="?api-version=2014-04-01-preview";n.ArmUtils.isPublicAzure()?(this.virtualMachine="?api-version=2016-04-30-preview",this.virtualMachineVersionOnly="2016-04-30-preview"):(this.virtualMachine="?api-version=2016-03-30",this.virtualMachineVersionOnly="2016-03-30");this.classicVirtualMachine="?api-version=2015-06-01";n.ArmUtils.isPublicAzure()?(this.availabilitySet="?api-version=2016-04-30-preview",this.availabilitySetVersionOnly="2016-04-30-preview"):(this.availabilitySet="?api-version=2016-03-30",this.availabilitySetVersionOnly="2016-03-30");this.reservation="?api-version=2016-09-30";this.reservationVersionOnly=
"2016-09-30";this.virtualMachineScaleSet=n.ArmUtils.isPublicAzure()||MsPortalFx.isFeatureEnabled("scaleSetPreview")?"?api-version=2016-04-30-preview":"?api-version=2015-06-15";n.ArmUtils.isPublicAzure()?(this.virtualMachineExtension="?api-version=2016-04-30-preview",this.virtualMachineExtensionVersionOnly="2016-04-30-preview"):(this.virtualMachineExtension="?api-version=2016-03-30",this.virtualMachineExtensionVersionOnly="2016-03-30");this.galleryVirtualMachineExtensionVersionOnly="2015-01-01";this.azureContainerService="?api-version=2017-01-31";this.managedDisk="?api-version=2016-04-30-preview";this.managedDiskVersionOnly="2016-04-30-preview";this.image="?api-version=2016-04-30-preview";this.imageVersionOnly="2016-04-30-preview";this.snapshot="?api-version=2016-04-30-preview";this.snapshotVersionOnly="2016-04-30-preview";this.computeSkus="?api-version=2016-03-30";this.metricsVersionOnly="2016-06-01";this.applicationGateway="?api-version=2017-03-01";this.dnsZone="?api-version=2016-04-01";
this.recordSet="?api-version=2016-04-01";this.storageAccountListSasVersionOnly="2016-05-01";this.loadBalancer="?api-version=2016-03-30";this.localNetworkGateway="?api-version=2015-06-15";this.networkInterface="?api-version=2016-09-01";this.networkInterfaceVersionOnly="2016-09-01";this.trafficManager="?api-version=2017-03-01";this.trafficManagerVersionOnly="2017-03-01";this.webApiSlots="?api-version=2015-06-01";this.networkSecurityGroup="?api-version=2015-06-15";this.networkSecurityGroupVersionOnly="2016-09-01";this.publicIPAddress="?api-version=2016-03-30";this.publicIPAddressVersionOnly="2016-09-01";this.virtualNetwork="?api-version=2016-12-01";this.virtualNetworkVersionOnly="2016-12-01";this.classicVirtualNetwork="?api-version=2015-12-01";this.subnet="?api-version=2016-12-01";this.connection="?api-version=2015-06-15";this.virtualNetworkGateway="?api-version=2015-06-15";this.virtualNetworkGatewayVpnClientPackage="?api-version=2016-06-01";this.routeTable="?api-version=2015-06-15";this.
networkWatcher="?api-version=2016-03-30";this.expressRoute="?api-version=2016-07-01";this.dnsLabelValidation="api-version=2015-06-15";this.serviceTunnelingOnly="2016-12-01";this.storageAccountVersionOnly="2015-06-15";this.storageAccountXCoolVersionOnly=MsPortalFx.isFeatureEnabled("networkacls")||MsPortalFx.isFeatureEnabled("ssecmk")?"2017-06-01":"2016-12-01";this.storageAccountXCool="?api-version={0}".format(this.storageAccountXCoolVersionOnly);this.classicStorageAccountVersionOnly="2015-12-01";this.storageAccountDiagnosticsVersionOnly="2015-07-01";this.importExportVersionOnly="2016-11-01";this.classicDisksVersionOnly="2014-06-01";this.classicImagesVersionOnly="2015-06-01";this.storageServiceVersionOnly=MsPortalFx.isFeatureEnabled("filesharesnapshot")?"2016-10-16":"2016-05-31";this.sqlIaasAgentExtensionVersionOnly="2015-06-15";this.sqlVmResourceVersionOnly="2015-06-15";this.sqlStorageConfigurationDeploymentVersionOnly="2015-01-01";this.autoscaleSettings="?api-version=2015-04-01";this.managementEvents=
"?api-version=2014-04-01";this.components="?api-version=2015-05-01";this.checkBackupStatus="2016-06-01";this.backupVault="2016-06-01";this.backupPolicy="2016-06-01";this.siteRecovery="2015-11-10";this.keyVault="?api-version=2015-06-01"}return __extends(i,t),i})(i);t.ArmApiVersionsAzure=r;u=(function(n){function t(){n.call(this);this.resources="?api-version=2015-01-01";this.resourcesVersionOnly="2015-01-01";this.usages="?api-version=2015-06-15";this.computeSkus="?api-version=2015-06-15";this.applicationGateway="?api-version=2015-06-15";this.loadBalancer="?api-version=2015-06-15";this.networkSecurityGroupVersionOnly="2015-06-15";this.publicIPAddress="?api-version=2015-06-15";this.publicIPAddressVersionOnly="2015-06-15";this.subnet="?api-version=2015-06-15";this.trafficManager="?api-version=2015-11-01";this.trafficManagerVersionOnly="2015-11-01";this.networkInterface="?api-version=2015-06-15";this.networkInterfaceVersionOnly="2015-06-15";this.virtualNetwork="?api-version=2015-06-15";this.virtualNetworkVersionOnly=
"2015-06-15";this.computeSkus="?api-version=2015-06-15";this.virtualMachine="?api-version=2015-06-15";this.virtualMachineVersionOnly="2015-06-15";this.virtualMachineExtension="?api-version=2015-06-15";this.virtualMachineExtensionVersionOnly="2015-06-15";this.availabilitySet="?api-version=2015-06-15";this.availabilitySetVersionOnly="2015-06-15";this.storageAccountXCoolVersionOnly="2016-01-01";this.storageAccountXCool="?api-version={0}".format(this.storageAccountXCoolVersionOnly);this.storageServiceVersionOnly="2015-04-05"}return __extends(t,n),t})(r);t.ArmApiVersionsMas=u;f=(function(){function n(){if(n._instance)throw new Error("Error: this class is a singleton. Use AssetTypeToApiVersionMapping.getInstance().");this._initialize()}return n.getInstance=function(){return this._instance||i.getInstance()&&(this._instance=new n),this._instance},n.prototype._initialize=function(){this.assetTypeToApiVersionMap={applicationgateways:i.getInstance().applicationGateway,availabilitysets:i.getInstance(
).availabilitySet,connections:i.getInstance().connection,containerservices:i.getInstance().azureContainerService,dnszones:i.getInstance().dnsZone,recordsets:i.getInstance().recordSet,externalendpoints:i.getInstance().trafficManager,azureendpoints:i.getInstance().trafficManager,nestedendpoints:i.getInstance().trafficManager,trafficmanagerprofiles:i.getInstance().trafficManager,loadbalancers:i.getInstance().loadBalancer,networkinterfaces:i.getInstance().networkInterface,networksecuritygroups:i.getInstance().networkSecurityGroup,publicipaddresses:i.getInstance().publicIPAddress,virtualnetworks:i.getInstance().virtualNetwork,routetables:i.getInstance().routeTable,routes:i.getInstance().routeTable,virtualmachinescalesets:i.getInstance().virtualMachineScaleSet,localnetworkgateways:i.getInstance().localNetworkGateway,virtualnetworkgateways:i.getInstance().virtualNetworkGateway,expressroutecircuits:i.getInstance().expressRoute,peerings:i.getInstance().expressRoute,virtualnetworkpeerings:i.getInstance(
).virtualNetwork,networkwatchers:i.getInstance().networkWatcher,disks:i.getInstance().managedDisk,images:i.getInstance().image,snapshots:i.getInstance().snapshot,packetcaptures:i.getInstance().networkWatcher,reservation:i.getInstance().reservation}},n})();t.AssetTypeToApiVersionMapping=f})(t=n.Versions||(n.Versions={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(n){"use strict";var t=(function(){function n(n,t){this.paramName=n;this.param=t}return n.Argument=function(t,i){return new n(t,i)},n.prototype.notNull=function(){if(this.param===undefined||this.param===null)throw new Error(this.paramName+" cannot be null or undefined.");return this},n.prototype.notNullOrEmpty=function(){if(this.notNull(),$.isArray(this.param)){if(!this.param.length)throw new Error(this.paramName+" cannot be an empty array.");}else if(typeof this.param=="string"&&this.param==="")throw new Error(this.paramName+" cannot be an empty string.");return this},n})();n.Requires=t})(t=n.Validation||(n.Validation=
{}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(t){"use strict";function i(n,t,i,r){return MsPortalFx.Base.Net2.ajax({uri:t,type:n||"POST",dataType:"json",traditional:!0,headers:$.extend({},i),contentType:"application/json",setAuthorizationHeader:!0,data:r,invokeApi:"api/invoke"})}function r(n,t,r,u,f){function o(t){return t&&(t.value&&[].push.apply(e,t.value),t.nextLink)?i(n,t.nextLink,r,u,f).then(o):e}var e=[];return i(n,t,r,u,f).then(o)}function v(n,t,r,u,f){function e(s){if(s){if(s.value&&[].push.apply(o,s.value),s.nextLink)return i(n,s.nextLink,r,u,f).then(e);if(f.loadingClassic&&f.loadingArm)return f.loadingClassic=!1,t=g(f,t,r),i(n,t,r,u,f).then(e)}return o}var o=[];return i(n,t,r,u,f).then(e)}function y(n,t,r,u,f){function s(n){return n&&(n.value&&[].push.apply(e,n.value),n.nextLink&&(o=n.nextLink)),{collection:e,nextLink:o}}var e=[],o=null;return i(n,t,r,u,f).then(s)}function p(r){return function(u,f,e,o,s){for(var a,c=r(s),l=[],h=0;h<c.length;h+=t.batchRequestLimit)
l.push(c.slice(h,h+t.batchRequestLimit));return a=l.map((function(r){return i("POST","{0}/batch{1}".format(t.endpoint,n.Versions.ArmApiVersions.getInstance().resources),null,JSON.stringify({requests:r}))})),Q.all(a).then((function(n){return[].concat.apply([],n.map((function(n){return n.responses})))}))}}function w(t,i){var o,u;if(!i){MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"ArmUtils.processBatchedResponse","A normalize function was not provided, the processBatchedResponse can not execute.");throw new ArgumentError("normalizeFunction","A normalizing function was not provided to processBatchedResponse.");}var r=[],f=[],e=[];return t.forEach((function(n){n.httpStatusCode===200?f.push(n):(r.push(n),e.push(n.httpStatusCode))})),o="processBatchedResponse_{1}".format(e.sort().toString()),r.length>0&&n.Utilities.Telemetry.isNewEvent(o)&&MsPortalFx.Base.Diagnostics.Log.writeEntry(1,"ArmUtils.processBatchedResponse","Ignoring failed requests: {0}.".format(JSON.stringify(r))),u=[],f.forEach((function(
n){var t=n&&n.content;i(t);u.push(t)})),{data:u}}function s(n,t){var i=t.getResponseHeader("x-ms-correlation-request-id");i&&n.notify({correlationId:i})}function h(n,i,r,u,f,e,o,s){var a,c,v,l;if(o===void 0&&(o=!1),a=u.getResponseHeader("Location"),e)if(c=i,c&&c.status)switch(c.status.toLowerCase()){case t.AzureAsyncOperationStatus.Succeeded.toLowerCase():s?MsPortalFx.Base.Net.ajax({uri:s,setAuthorizationHeader:!0}).then((function(t){n.resolve(t)})).catch((function(t){n.reject(t)})):n.resolve(i);return;case t.AzureAsyncOperationStatus.Failed.toLowerCase():case t.AzureAsyncOperationStatus.Canceled.toLowerCase():n.reject(u);return;case t.AzureAsyncOperationStatus.InProgress.toLowerCase():break;default:MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"ArmUtils._pollOperation","Unknown status in Azure-AsyncOperation response: '{0}'. Response payload: {1}".format(c.status,JSON.stringify(i)));n.reject(u);return}else{MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"ArmUtils._pollOperation","Unexpected Azure-AsyncOperation response. Response payload: {0}".
format(JSON.stringify(i)));n.reject(u);return}else e=u.getResponseHeader("Azure-AsyncOperation");o&&u.status===200?n.resolve(i):e||a?(v=1e4,l=+u.getResponseHeader("Retry-After")*1e3,l=l?l:v,Q.delay(l).then((function(){return MsPortalFx.Base.Net.ajax({uri:e||a,setAuthorizationHeader:!0}).then((function(t,i,r){var u=a||s;h(n,t,i,r,f,e,o,u)})).catch((function(t){f&&t&&t.status&&t.status===404?n.resolve(t.responseText||t.statusText||t):n.reject(t)}))}))):n.resolve(i)}function b(n,t,i,r){return c({uri:n,type:t||"POST",data:i,contentType:r})}function c(n,t){t===void 0&&(t=!1);var i=Q.defer();return MsPortalFx.Base.Net.ajax({uri:n.uri,type:n.type||"POST",setAuthorizationHeader:!0,data:n.data,dataType:n.dataType,contentType:n.contentType,traditional:!0}).then((function(r,u,f){s(i,f);var e=StringEx.equals(n.type,"DELETE",StringComparison.IgnoreCase);h(i,r,u,f,e,null,t)})).catch((function(n){n&&typeof n.getResponseHeader=="function"&&s(i,n);i.reject(n)})),i.promise}function k(t,i){return n.Validation.Requires.
Argument("id",t).notNullOrEmpty(),n.Validation.Requires.Argument("apiVersion",i).notNullOrEmpty(),n.ArmUtils.runOperationWithSettings({uri:n.ArmUtils.endpoint+t+i,type:"DELETE",contentType:"application/json"})}function d(t,i){return n.Validation.Requires.Argument("id",t).notNullOrEmpty(),n.Validation.Requires.Argument("apiVersion",i).notNullOrEmpty(),n.ArmUtils.runOperationWithSettings({uri:n.ArmUtils.endpoint+t+i,type:"GET",contentType:"application/json"})}function g(t,i,r){var f=t.armProvider.toLowerCase(),e=t.classicProvider.toLowerCase(),o=t.armApiVersion.toLowerCase(),s=t.classicApiVersion.toLowerCase(),u=r[n.Constants.HeaderStringMap.msPath];return i=i.toLowerCase(),i=i.replace(f,e),i=i.replace(o,s),u&&(u=u.toLowerCase(),u=u.replace(f,e),u=u.replace(o,s),r[n.Constants.HeaderStringMap.msPath]=u),i}function nt(t){var i=null,r;return t&&(r=FxResourceTypes.parseResourceDescriptor(t).type.toLowerCase(),n.Versions.AssetTypeToApiVersionMapping.getInstance()&&n.Versions.AssetTypeToApiVersionMapping.
getInstance().assetTypeToApiVersionMap[r]&&(i=n.Versions.AssetTypeToApiVersionMapping.getInstance().assetTypeToApiVersionMap[r])),i||Diagnostics.Log.writeEntry(2,"ArmUtils.getApiVersionByResourceId","Unexpected resource encountered: {0}. ArmUtils couldn't determine apiversion.".format(this._id)),i}function l(){return t.endpoint.toLowerCase().indexOf("management.azure.com")!==-1}function u(){return t.endpoint.toLowerCase().indexOf("management.microsoftazure.de")!==-1}function f(){return t.endpoint.toLowerCase().indexOf("management.usgovcloudapi.net")!==-1}function e(){return t.endpoint.toLowerCase().indexOf("management.chinacloudapi.cn")!==-1}function tt(){return!(l()||u()||f()||e())}function it(){return u()||f()||e()}function rt(){return t.portalUri.toLowerCase().indexOf("ms.portal.azure.com")!==-1}function a(n){var i="/subscriptions/{0}".format(n.subscriptionId),u,f;return!n.resourceGroupId||(i="{0}".format(n.resourceGroupId)),i=t.endpoint+i+"/resources"+ArmApiVersions.getInstance().resources,
u=!0,!n.resourceType&&!n.locations&&!n.name||(i+="&$filter=("),!n.resourceType||(i+="resourceType eq '{0}'".format(n.resourceType),u=!1),!!n.locations&&n.locations.length>0&&(u||(i+="  and "),i+="(",f=!0,n.locations.forEach((function(n){f||(i+="  or ");i+="location eq '{0}'".format(n);f=!1})),i+=")"),!n.name||(u||(i+="  and "),i+="name eq '{0}'".format(n.name)),!n.resourceType&&!n.locations&&!n.name||(i+=" )"),r("GET",i,null,null).then((function(n){return o({value:n})}))}function ut(n){return a(n).then((function(n){var t=[];return n&&n.forEach((function(n){n.id&&n.id()&&t.push(n.id())})),t}))}function ft(n,i,u,f){var e="/subscriptions/{0}".format(n);return i&&i!==""&&(e="{0}".format(i)),e=t.endpoint+e+"/resources"+ArmApiVersions.getInstance().resources,u&&u!==""&&MsPortalFx.isNullOrUndefined(f)?e+="&$filter=(resourceType eq '{0}')".format(u):f&&f!==""&&MsPortalFx.isNullOrUndefined(u)?e+="&$filter=(name eq '{0}')".format(f):f&&u&&f!==""&&u!==""&&(e+="&$filter=(resourceType eq '{0}' and name eq '{1}')".
format(u,f)),r("GET",e,null,null).then((function(n){return o({value:n})}))}function o(n){var t=[],i;return n&&n.value&&n.value.length>0&&(i=n.value,t=i.map((function(n){return{id:ko.observable(n.id),name:ko.observable(n.name),location:ko.observable(n.location),type:ko.observable(n.type)}}))),t}t.AzureAsyncOperationStatus={Succeeded:"Succeeded",InProgress:"InProgress",Failed:"Failed",Canceled:"Canceled"};t.endpoint=window.fx.environment&&window.fx.environment.csmManagementServiceUri&&window.fx.environment.csmManagementServiceUri.replace(/\/$/,"");t.controllerEndpoint=window.fx.environment&&window.fx.environment.controllerEndpoint&&window.fx.environment.controllerEndpoint.replace(/\/$/,"");t.portalUri=window.fx.environment&&window.fx.environment.trustedParentOrigin&&window.fx.environment.trustedParentOrigin.replace(/\/$/,"");t.batchRequestLimit=20;t.corsDataSupplier=i;t.corsCollectionSupplier=r;t.corsCollectionSupplierArmClassicCombined=v;t.corsCollectionSupplierOnDemand=y;t.getCorsBatchSupplier=
p;t.processBatchedResponse=w;t.runOperation=b;t.runOperationWithSettings=c;t.deleteResource=k;t.getResource=d;t.getApiVersionByResourceId=nt;t.isPublicAzure=l;t.isBlackForest=u;t.isFairfax=f;t.isMooncake=e;t.isAzureStack=tt;t.isNationalCloud=it;t.isMpac=rt;t.getResourcesFromArmCache=a;t.getResourceIdsFromArmCache=ut;t.getResources=ft;t.normalizeResourcesResponse=o})(t=n.ArmUtils||(n.ArmUtils={}))})(ExtensionCore||(ExtensionCore={}));var ArmUtils=ExtensionCore.ArmUtils,ArmApiVersions=ExtensionCore.Versions.ArmApiVersions,AssetTypeToArmApiVersionMap=ExtensionCore.Versions.AssetTypeToApiVersionMapping,ExtensionCore;(function(n){var t;(function(t){"use strict";function i(t){var i=Q.defer(),r=n.ArmUtils.endpoint+"/subscriptions/"+t+"/resourceGroups"+ArmApiVersions.getInstance().resources;return n.ArmUtils.corsCollectionSupplier("GET",r,null,null).then((function(n){if(Array.isArray(n)){var r=[];n.forEach((function(n){r.push(new FxForms.DisablableOption(ko.observable(n.name),n.id.toLowerCase()))})
);i.resolve(r)}else MsPortalFx.Base.Diagnostics.Log.writeEntry(1,"ArmCommonApi.listResourceGroupIDisablableOptions","Failed to get resource groups for id {0}.".format(t)),i.reject()})).catch((function(n){MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"ArmCommonApi.listResourceGroupIDisablableOptions","Failed to get resource groups for id {0}. The error message was: {1}.".format(t,FxImpl.Diagnostics.getLogFriendlyMessage(n)));i.reject(n)})),i.promise}function r(t){var i=Q.defer(),r=n.ArmUtils.endpoint+"/subscriptions/{0}/locations".format(t)+ArmApiVersions.getInstance().subscriptionsProvider;return n.ArmUtils.corsCollectionSupplier("GET",r,null,null).then((function(n){if(Array.isArray(n)){var r=[];n.forEach((function(n){r.push(new FxForms.DisablableOption(ko.observable(n.displayName),n.name))}));i.resolve(r)}else MsPortalFx.Base.Diagnostics.Log.writeEntry(1,"ArmCommonApi.listLocationsApi","Failed to get locations for id {0}.".format(t)),i.reject()})).catch((function(n){MsPortalFx.Base.Diagnostics.
Log.writeEntry(2,"ArmCommonApi.listLocationsApi","Failed to get locations for id {0}. The error message was: {1}.".format(t,FxImpl.Diagnostics.getLogFriendlyMessage(n)));i.reject(n)})),i.promise}function u(t,i,r,u){var f=Q.defer(),e=n.ArmUtils.endpoint+"/subscriptions/"+t+"/resourcegroups/"+i+"/resources"+ArmApiVersions.getInstance().resourceProvider+"&$filter=(resourceType eq '{0}' and name eq '{1}')".format(r,u);return n.ArmUtils.corsCollectionSupplier("GET",e,null,null).then((function(n){n.length>0?f.resolve(!1):f.resolve(!0)}),(function(n){f.resolve(!0);MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"ArmCommonApi.checkNameAvailability","Failed to get list of resources for the following URI: {0}. The error message was: {1}".format(e,FxImpl.Diagnostics.getLogFriendlyMessage(n)))})),f.promise}function f(t,i){var r=Q.defer(),u=n.ArmUtils.endpoint+"/subscriptions/"+t+"/resourceGroups"+ArmApiVersions.getInstance().resources;return n.ArmUtils.corsCollectionSupplier("GET",u,null,null).then((function(
n){if(Array.isArray(n)){var u=MsPortalFx.find(n,(function(n){return StringEx.equals(n.name,i,StringComparison.IgnoreCase)}));u?r.resolve(!0):r.resolve(!1)}else MsPortalFx.Base.Diagnostics.Log.writeEntry(1,"ArmCommonApi.checkResourceGroupExists","Failed to get resource groups for id {0}, the result was not a valid array.".format(t)),r.reject()})).catch((function(n){MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"ArmCommonApi.checkResourceGroupExists","Failed to get resource groups for id {0}. The error message was: {1}.".format(t,FxImpl.Diagnostics.getLogFriendlyMessage(n)));r.reject(n)})),r.promise}t.listResourceGroupIDisablableOptions=i;t.listLocationIDisablableOptions=r;t.checkNameAvailabilityInResourceGroup=u;t.checkResourceGroupExists=f})(t=n.ArmCommonApi||(n.ArmCommonApi={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(n){"use strict";var t=(function(){function n(){this.id=ko.observable()}return n.flatten=function(n){var t=[];return n&&n.forEach((function(n){var i=n.id(
);i&&t.push(i)})),t},n.normalize=function(n){return n.id=n.id||null,n},n.metadata={name:"ExtensionCore.Models.IdReference",properties:{id:null},entityType:!0,idProperties:["id"]},n})();n.IdReference=t;MsPortalFx.Data.Metadata.setTypeMetadata(t.metadata.name,t.metadata)})(t=n.DataModels||(n.DataModels={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(t){var i;(function(t){var f=n.DataModels.IdReference,i,r,u;i=(function(){function n(){this.platformFaultDomainCount=ko.observable();this.platformUpdateDomainCount=ko.observable();this.virtualMachines=ko.observableArray()}return n.normalize=function(n){return n.platformFaultDomainCount=MsPortalFx.isNullOrUndefined(n.platformFaultDomainCount)?null:n.platformFaultDomainCount,n.platformUpdateDomainCount=MsPortalFx.isNullOrUndefined(n.platformUpdateDomainCount)?null:n.platformUpdateDomainCount,n.virtualMachines=n.virtualMachines||[],n.virtualMachines.forEach(f.normalize,this),n},n.metadata={name:"ComputeExtension.Models.AvailabilitySetProperties",
properties:{platformFaultDomainCount:null,platformUpdateDomainCount:null,virtualMachines:{itemType:f.metadata.name,isArray:!0}}},n})();t.AvailabilitySetProperties=i;MsPortalFx.Data.Metadata.setTypeMetadata(i.metadata.name,i.metadata);r=(function(){function n(){this.name=ko.observable()}return n.normalize=function(n){return n.name=MsPortalFx.isNullOrUndefined(n.name)?null:n.name,n},n.metadata={name:"ComputeExtension.Models.AvailabilitySetSku",properties:{name:null}},n})();t.AvailabilitySetSku=r;MsPortalFx.Data.Metadata.setTypeMetadata(r.metadata.name,r.metadata);u=(function(){function t(){}return t.getProperties=function(n){return n&&n.properties&&n.properties()},t.getVirtualMachineIdReferences=function(n){var i=t.getProperties(n),r=i&&i.virtualMachines&&i.virtualMachines();return r&&r.length>0?r:null},t.normalize=function(n){return n.id=n.id||null,n.location=n.location||null,n.name=n.name||null,n.properties=n.properties&&i.normalize(n.properties)||null,n.tags=n.tags||null,n.type=n.type||null,
n.sku&&(n.sku=r.normalize(n.sku)||null),n},t.isManaged=function(t){return t.sku&&t.sku()?StringEx.equals(t.sku().name(),n.Constants.SkuNameForManagedDisksTrue,StringComparison.IgnoreCase):t.managed&&t.managed()?t.managed():!1},t.metadata={name:"ComputeExtension.Models.AvailabilitySet",properties:{id:null,location:null,name:null,properties:{itemType:i.metadata.name},tags:null,type:null,sku:{itemType:r.metadata.name}},idProperties:["id"],hasGloballyUniqueId:!0},t})();t.AvailabilitySet=u;MsPortalFx.Data.Metadata.setTypeMetadata(u.metadata.name,u.metadata)})(i=t.Compute||(t.Compute={}))})(t=n.DataModels||(n.DataModels={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(t){var i;(function(t){var ct=n.DataModels.IdReference,i,e,it,o,s,rt,ut,ft,lt,et,ot,h,c,st,l,r,a,v,y,u,p,w,b,k,d,f,g,nt,tt,ht,at;i=(function(){function n(){this.code=ko.observable();this.displayStatus=ko.observable();this.level=ko.observable();this.message=ko.observable();this.time=ko.observable()}return n.normalize=
function(n){return n.code=n.code||null,n.displayStatus=n.displayStatus||null,n.level=n.level||null,n.message=n.message||null,n.time=n.time||null,n},n.metadata={name:"ComputeExtension.Models.InstanceViewStatus",properties:{code:null,displayStatus:null,level:null,message:null,time:{isDate:!0}}},n})();t.InstanceViewStatus=i;MsPortalFx.Data.Metadata.setTypeMetadata(i.metadata.name,i.metadata);e=(function(){function n(){this.vmSize=ko.observable()}return n.normalize=function(n){return n.vmSize=n.vmSize||null,n},n.metadata={name:"ComputeExtension.Models.HardwareProfile",properties:{vmSize:null}},n})();t.HardwareProfile=e;MsPortalFx.Data.Metadata.setTypeMetadata(e.metadata.name,e.metadata);it=(function(){function n(){this.networkInterfaces=ko.observableArray()}return n.normalize=function(n){return n.networkInterfaces=n.networkInterfaces||[],n.networkInterfaces.forEach(ct.normalize,this),n},n.metadata={name:"ComputeExtension.Models.NetworkProfile",properties:{networkInterfaces:{itemType:ct.metadata.
name,isArray:!0}}},n})();t.NetworkProfile=it;MsPortalFx.Data.Metadata.setTypeMetadata(it.metadata.name,it.metadata);o=(function(){function n(){this.path=ko.observable();this.keyData=ko.observable()}return n.normalize=function(n){return n.path=n.path||null,n.keyData=n.keyData||null,n},n.metadata={name:"ComputeExtension.Models.PublicKey",properties:{path:null,keyData:null}},n})();t.PublicKey=o;MsPortalFx.Data.Metadata.setTypeMetadata(o.metadata.name,o.metadata);s=(function(){function n(){this.publicKeys=ko.observableArray()}return n.normalize=function(n){return n.publicKeys=n.publicKeys||[],n.publicKeys.forEach(o.normalize,this),n},n.metadata={name:"ComputeExtension.Models.SSHConfiguration",properties:{publicKeys:{itemType:o.metadata.name,isArray:!0}}},n})();t.SSHConfiguration=s;MsPortalFx.Data.Metadata.setTypeMetadata(s.metadata.name,s.metadata);rt=(function(){function n(){this.disablePasswordAuthentication=ko.observable();this.ssh=ko.observable()}return n.normalize=function(n){return n.disablePasswordAuthentication=
MsPortalFx.isNullOrUndefined(n.disablePasswordAuthentication)?null:n.disablePasswordAuthentication,n.ssh=n.ssh?s.normalize(n.status):null,n},n.metadata={name:"ComputeExtension.Models.LinuxConfiguration",properties:{disablePasswordAuthentication:null,ssh:{itemType:s.metadata.name}}},n})();t.LinuxConfiguration=rt;MsPortalFx.Data.Metadata.setTypeMetadata(rt.metadata.name,rt.metadata);ut=(function(){function n(){this.enableAutomaticUpdates=ko.observable();this.provisionVMAgent=ko.observable()}return n.normalize=function(n){return n.enableAutomaticUpdates=MsPortalFx.isNullOrUndefined(n.enableAutomaticUpdates)?null:n.enableAutomaticUpdates,n.provisionVMAgent=MsPortalFx.isNullOrUndefined(n.provisionVMAgent)?null:n.provisionVMAgent,n},n.metadata={name:"ComputeExtension.Models.WindowsConfiguration",properties:{enableAutomaticUpdates:null,provisionVMAgent:null}},n})();t.WindowsConfiguration=ut;MsPortalFx.Data.Metadata.setTypeMetadata(ut.metadata.name,ut.metadata);ft=(function(){function n(){this.computerName=
ko.observable();this.adminUsername=ko.observable();this.adminPassword=ko.observable();this.linuxConfiguration=ko.observable();this.windowsConfiguration=ko.observable();this.secrets=ko.observableArray()}return n.metadata={name:"ComputeExtension.Models.OSProfile",properties:{computerName:null,adminUsername:null,adminPassword:null,linuxConfiguration:{itemType:rt.metadata.name},windowsConfiguration:{itemType:ut.metadata.name},secrets:{isArray:!0}}},n})();t.OSProfile=ft;MsPortalFx.Data.Metadata.setTypeMetadata(ft.metadata.name,ft.metadata);lt=(function(){function n(){this.name=ko.observable();this.statuses=ko.observableArray()}return n.normalize=function(n){return n.statuses=n.statuses||[],n.statuses.forEach(i.normalize,this),n},n.metadata={name:"ComputeExtension.Models.Disk",properties:{name:null,statuses:{itemType:i.metadata.name,isArray:!0}}},n})();t.Disk=lt;MsPortalFx.Data.Metadata.setTypeMetadata(lt.metadata.name,lt.metadata);et=(function(){function n(){this.type=ko.observable();this.typeHandlerVersion=
ko.observable();this.status=ko.observable()}return n.normalize=function(n){return n.status=n.status?i.normalize(n.status):null,n.typeHandlerVersion=n.typeHandlerVersion||null,n.type=n.type||null,n},n.metadata={name:"ComputeExtension.Models.ExtensionHandler",properties:{type:null,status:null,typeHandlerVersion:null}},n})();t.ExtensionHandler=et;MsPortalFx.Data.Metadata.setTypeMetadata(et.metadata.name,et.metadata);ot=(function(){function n(){this.name=ko.observable();this.statuses=ko.observableArray();this.vmAgentVersion=ko.observable();this.extensionHandlers=ko.observableArray()}return n.metadata={name:"ComputeExtension.Models.VmAgent",properties:{name:null,vmAgentVersion:null,statuses:{itemType:i.metadata.name,isArray:!0},extensionHandlers:{itemType:et.metadata.name,isArray:!0}}},n})();t.VmAgent=ot;MsPortalFx.Data.Metadata.setTypeMetadata(ot.metadata.name,ot.metadata);h=(function(){function n(){this.enabled=ko.observable();this.storageUri=ko.observable()}return n.normalize=function(n){return n.
enabled=MsPortalFx.isNullOrUndefined(n.enabled)?null:n.enabled,n.storageUri=n.storageUri||null,n},n.metadata={name:"ComputeExtension.Models.BootDiagnostics",properties:{enabled:null,storageUri:null}},n})();t.BootDiagnostics=h;MsPortalFx.Data.Metadata.setTypeMetadata(h.metadata.name,h.metadata);c=(function(){function n(){this.bootDiagnostics=ko.observable()}return n.normalize=function(n){return n.bootDiagnostics=h.normalize(n.bootDiagnostics),n},n.metadata={name:"ComputeExtension.Models.DiagnosticsProfile",properties:{bootDiagnostics:{itemType:h.metadata.name}}},n})();t.DiagnosticsProfile=c;MsPortalFx.Data.Metadata.setTypeMetadata(c.metadata.name,c.metadata);st=(function(){function n(){this.id=ko.observable();this.publisher=ko.observable();this.offer=ko.observable();this.sku=ko.observable();this.version=ko.observable()}return n.metadata={name:"ComputeExtension.Models.ImageReference",properties:{id:null,publisher:null,offer:null,sku:null,version:null}},n})();t.ImageReference=st;MsPortalFx.Data.
Metadata.setTypeMetadata(st.metadata.name,st.metadata);l=(function(){function n(){this.uri=ko.observable()}return n.metadata={name:"ComputeExtension.Models.Vhd",properties:{uri:null}},n})();t.Vhd=l;MsPortalFx.Data.Metadata.setTypeMetadata(l.metadata.name,l.metadata);r=(function(){function n(){this.id=ko.observable()}return n.normalize=function(n){return n?(n.id=n.id||null,n):null},n.metadata={name:"ComputeExtension.Models.EncryptionSourceVault",properties:{id:null},idProperties:["id"]},n})();t.EncryptionSourceVault=r;MsPortalFx.Data.Metadata.setTypeMetadata(r.metadata.name,r.metadata);a=(function(){function n(){this.secretUrl=ko.observable();this.sourceVault=ko.observable()}return n.normalize=function(n){return n?(n.secretUrl&&(n.secretUrl=n.secretUrl||null),n.sourceVault&&(n.sourceVault=r.normalize(n.sourceVault)),n):null},n.metadata={name:"ComputeExtension.Models.DiskEncryptionKey",properties:{sourceVault:{itemType:r.metadata.name},secretUrl:null}},n})();t.DiskEncryptionKey=a;MsPortalFx.Data.
Metadata.setTypeMetadata(a.metadata.name,a.metadata);v=(function(){function n(){this.keyUrl=ko.observable();this.sourceVault=ko.observable()}return n.normalize=function(n){return n?(n.keyUrl&&(n.keyUrl=n.keyUrl||null),n.sourceVault&&(n.sourceVault=r.normalize(n.sourceVault)),n):null},n.metadata={name:"ComputeExtension.Models.KeyEncryptionKey",properties:{sourceVault:{itemType:r.metadata.name},keyUrl:null}},n})();t.KeyEncryptionKey=v;MsPortalFx.Data.Metadata.setTypeMetadata(v.metadata.name,v.metadata);y=(function(){function n(){this.enabled=ko.observable();this.diskEncryptionKey=ko.observable();this.keyEncryptionKey=ko.observable()}return n.normalize=function(n){return n?(n.enabled=MsPortalFx.isNullOrUndefined(n.enabled)?null:n.enabled,n.diskEncryptionKey=a.normalize(n.diskEncryptionKey),n.keyEncryptionKey=v.normalize(n.keyEncryptionKey),n):null},n.metadata={name:"ComputeExtension.Models.EncryptionSettings",properties:{enabled:null,diskEncryptionKey:{itemType:a.metadata.name},keyEncryptionKey:
{itemType:v.metadata.name}}},n})();t.EncryptionSettings=y;MsPortalFx.Data.Metadata.setTypeMetadata(y.metadata.name,y.metadata);u=(function(){function n(){this.id=ko.observable();this.storageAccountType=ko.observable()}return n.normalize=function(n){return n?(n.id=n.id||null,n.storageAccountType=n.storageAccountType||null,n):null},n.metadata={name:"ComputeExtension.Models.VirtualMachineManagedDisk",properties:{id:null,storageAccountType:null},idProperties:["id"]},n})();t.VirtualMachineManagedDisk=u;MsPortalFx.Data.Metadata.setTypeMetadata(u.metadata.name,u.metadata);p=(function(){function n(){this.osType=ko.observable();this.name=ko.observable();this.createOption=ko.observable();this.vhd=ko.observable();this.caching=ko.observable();this.diskSizeGB=ko.observable();this.encryptionSettings=ko.observable();this.managedDisk=ko.observable()}return n.normalize=function(n){return n.encryptionSettings&&(n.encryptionSettings=y.normalize(n.encryptionSettings)),n.managedDisk&&(n.managedDisk=u.normalize(
n.managedDisk)),n.diskSizeGB=MsPortalFx.isNullOrUndefined(n.diskSizeGB)?null:n.diskSizeGB,n},n.metadata={name:"ComputeExtension.Models.OSDisk",properties:{osType:null,name:null,createOption:null,vhd:{itemType:l.metadata.name},caching:null,diskSizeGB:null,encryptionSettings:{itemType:y.metadata.name},managedDisk:{itemType:u.metadata.name}}},n})();t.OSDisk=p;MsPortalFx.Data.Metadata.setTypeMetadata(p.metadata.name,p.metadata);w=(function(){function n(){this.caching=ko.observable();this.createOption=ko.observable();this.diskSizeGB=ko.observable();this.lun=ko.observable();this.name=ko.observable();this.vhd=ko.observable();this.managedDisk=ko.observable()}return n.normalize=function(n){return n.diskSizeGB=MsPortalFx.isNullOrUndefined(n.diskSizeGB)?null:n.diskSizeGB,n.caching=n.caching||null,n.createOption=n.createOption||null,n.name=n.name||null,n.vhd=n.vhd||null,n.managedDisk&&(n.managedDisk=u.normalize(n.managedDisk)),n},n.metadata={name:"ComputeExtension.Models.DataDisk",properties:{caching:
null,createOption:null,diskSizeGB:null,lun:null,name:null,vhd:{itemType:l.metadata.name},managedDisk:{itemType:u.metadata.name}}},n})();t.DataDisk=w;MsPortalFx.Data.Metadata.setTypeMetadata(w.metadata.name,w.metadata);b=(function(){function n(){this.imageReference=ko.observable();this.osDisk=ko.observable();this.dataDisks=ko.observableArray()}return n.normalize=function(n){return n.osDisk=p.normalize(n.osDisk),n.dataDisks=n.dataDisks||[],n.dataDisks.forEach(w.normalize,this),n},n.metadata={name:"ComputeExtension.Models.StorageProfile",properties:{imageReference:{itemType:st.metadata.name},osDisk:{itemType:p.metadata.name},dataDisks:{itemType:w.metadata.name,isArray:!0}}},n})();t.StorageProfile=b;MsPortalFx.Data.Metadata.setTypeMetadata(b.metadata.name,b.metadata);k=(function(){function n(){this.consoleScreenshotBlobUri=ko.observable();this.serialConsoleLogBlobUri=ko.observable()}return n.normalize=function(n){return n.consoleScreenshotBlobUri=n.consoleScreenshotBlobUri||null,n.serialConsoleLogBlobUri=
n.serialConsoleLogBlobUri||null,n},n.metadata={name:"ComputeExtension.Models.InstanceViewBootDiagnostics",properties:{consoleScreenshotBlobUri:null,serialConsoleLogBlobUri:null}},n})();t.InstanceViewBootDiagnostics=k;MsPortalFx.Data.Metadata.setTypeMetadata(k.metadata.name,k.metadata);d=(function(){function n(){this.name=ko.observable();this.statuses=ko.observableArray()}return n.normalize=function(n){return n.statuses=n.statuses||[],n.statuses.forEach(i.normalize,this),n},n.metadata={name:"ComputeExtension.Models.DiskInstanceView",properties:{name:null,statuses:{itemType:i.metadata.name,isArray:!0}}},n})();t.DiskInstanceView=d;MsPortalFx.Data.Metadata.setTypeMetadata(d.metadata.name,d.metadata);f=(function(){function n(){this.name=ko.observable();this.type=ko.observable();this.typeHandlerVersion=ko.observable();this.statuses=ko.observableArray();this.substatuses=ko.observableArray()}return n.normalize=function(n){return n.type=n.type||null,n.typeHandlerVersion=n.typeHandlerVersion||null,n.
statuses=n.statuses?n.statuses:[],n.substatuses=n.substatuses?n.substatuses:[],n},n.metadata={name:"ComputeExtension.Models.ExtensionInstanceView",properties:{name:null,type:null,typeHandlerVersion:null,statuses:{itemType:i.metadata.name,isArray:!0},substatuses:{itemType:i.metadata.name,isArray:!0}}},n})();t.ExtensionInstanceView=f;MsPortalFx.Data.Metadata.setTypeMetadata(f.metadata.name,f.metadata);g=(function(){function n(){this.disks=ko.observableArray();this.bootDiagnostics=ko.observable();this.statuses=ko.observableArray();this.vmAgent=ko.observable();this.platformFaultDomain=ko.observable();this.platformUpdateDomain=ko.observable();this.extensions=ko.observableArray()}return n.normalize=function(n){return n.disks=n.disks||[],n.disks.forEach(d.normalize,this),n.statuses=n.statuses||[],n.statuses.forEach(i.normalize,this),n.extensions=n.extensions||[],n.extensions.forEach(f.normalize,this),n.vmAgent=n.vmAgent||null,n.bootDiagnostics=n.bootDiagnostics?k.normalize(n.bootDiagnostics):null,
n.platformFaultDomain=n.platformFaultDomain||null,n.platformUpdateDomain=n.platformUpdateDomain||null,n},n.metadata={name:"ComputeExtension.Models.InstanceView",properties:{disks:{itemType:d.metadata.name,isArray:!0},statuses:{itemType:i.metadata.name,isArray:!0},bootDiagnostics:{itemType:k.metadata.name},vmAgent:{itemType:ot.metadata.name},extensions:{itemType:f.metadata.name,isArray:!0},platformFaultDomain:null,platformUpdateDomain:null}},n})();t.InstanceView=g;MsPortalFx.Data.Metadata.setTypeMetadata(g.metadata.name,g.metadata);nt=(function(){function n(){this.vmId=ko.observable();this.availabilitySet=ko.observable();this.instanceView=ko.observable();this.diagnosticsProfile=ko.observable();this.provisioningState=ko.observable();this.hardwareProfile=ko.observable();this.networkProfile=ko.observable();this.osProfile=ko.observable();this.storageProfile=ko.observable();this.licenseType=ko.observable()}return n.normalize=function(n){return n.instanceView=n.instanceView?g.normalize(n.instanceView):
null,n.availabilitySet=n.availabilitySet?ct.normalize(n.availabilitySet):null,n.storageProfile=n.storageProfile?b.normalize(n.storageProfile):null,n.hardwareProfile=n.hardwareProfile?e.normalize(n.hardwareProfile):null,n.diagnosticsProfile=n.diagnosticsProfile?c.normalize(n.diagnosticsProfile):null,n.licenseType=n.licenseType||null,n},n.metadata={name:"ComputeExtension.Models.VirtualMachineProperties",properties:{vmId:null,availabilitySet:{itemType:ct.metadata.name},diagnosticsProfile:{itemType:c.metadata.name},instanceView:{itemType:g.metadata.name},provisioningState:null,hardwareProfile:{itemType:e.metadata.name},networkProfile:{itemType:it.metadata.name},osProfile:{itemType:ft.metadata.name},storageProfile:{itemType:b.metadata.name},licenseType:null}},n})();t.VirtualMachineProperties=nt;MsPortalFx.Data.Metadata.setTypeMetadata(nt.metadata.name,nt.metadata);tt=(function(){function n(){this.publisher=ko.observable();this.type=ko.observable();this.typeHandlerVersion=ko.observable();this.
autoUpgradeMinorVersion=ko.observable();this.settings=ko.observable();this.provisioningState=ko.observable();this.instanceView=ko.observable();this.protectedSettings=ko.observable()}return n.normalize=function(n){return n.publisher=n.publisher||null,n.type=n.type||null,n.typeHandlerVersion=n.typeHandlerVersion||null,n.autoUpgradeMinorVersion=n.autoUpgradeMinorVersion||null,n.settings=n.settings||null,n.provisioningState=n.provisioningState||null,!n.instanceView||(n.instanceView=f.normalize(n.instanceView)),n.protectedSettings=n.protectedSettings||null,n},n.metadata={name:"ComputeExtension.Models.ExtensionProperties",properties:{publisher:null,type:null,typeHandlerVersion:null,autoUpgradeMinorVersion:null,settings:null,provisioningState:null,instanceView:{itemType:f.metadata.name}}},n})();t.ExtensionProperties=tt;MsPortalFx.Data.Metadata.setTypeMetadata(tt.metadata.name,tt.metadata);ht=(function(){function n(){this.id=ko.observable();this.location=ko.observable();this.name=ko.observable();
this.type=ko.observable();this.properties=ko.observable()}return n.normalize=function(n){return delete n.tags,n.id=n.id||null,n.name=n.name||null,n.type=n.type||null,n.location=n.location||null,n.properties=n.properties?tt.normalize(n.properties):null,n},n.metadata={name:"ComputeExtension.Models.Extension",properties:{id:null,location:null,name:null,type:null,properties:{itemType:tt.metadata.name}},idProperties:["id"]},n})();t.Extension=ht;MsPortalFx.Data.Metadata.setTypeMetadata(ht.metadata.name,ht.metadata);at=(function(){function t(){this.id=ko.observable();this.name=ko.observable();this.type=ko.observable();this.location=ko.observable();this.properties=ko.observable();this.resources=ko.observableArray()}return t.getProperties=function(n){return n&&n.properties&&n.properties()},t.getAvailabilitySetId=function(n){var i=t.getProperties(n),r=i&&i.availabilitySet&&i.availabilitySet();return r&&r.id&&r.id()},t.getHardwareProfile=function(n){var i=t.getProperties(n);return i&&i.hardwareProfile&&
i.hardwareProfile()},t.getInstanceView=function(n){var i=t.getProperties(n);return i&&i.instanceView&&i.instanceView()},t.getVirtualMachineSize=function(n){var i=t.getHardwareProfile(n);return i&&i.vmSize&&i.vmSize()},t.getNetworkProfile=function(n){var i=t.getProperties(n);return i&&i.networkProfile&&i.networkProfile()},t.getNetworkInterfaceIdReferences=function(n){var i=t.getNetworkProfile(n),r=i&&i.networkInterfaces&&i.networkInterfaces();return r&&r.length>0?r:null},t.normalize=function(n){n&&(n.id=n.id||null,n.properties=n.properties?nt.normalize(n.properties):null,n.resources=n.resources||[])},t.getReadyForPut=function(t){var i,r;return t?(i=n.Utilities.cloneObservable(t),delete i.resources,r=t.properties().instanceView().statuses().first((function(t){var i,r;return t.code()&&(i=t.code().split("/"),i.length>0)?(r=i[0].toUpperCase(),StringEx.equals(r,n.Constants.VMPowerState.StatusPrefix,StringComparison.IgnoreCase)):!1})),r&&r.code()&&r.code().toUpperCase().indexOf(n.Constants.VMPowerState.
Deallocated)>0&&delete i.properties().instanceView().extensions,i):null},t.metadata={name:"ComputeExtension.Models.VirtualMachine",properties:{id:null,name:null,type:null,location:null,properties:{itemType:nt.metadata.name},resources:{itemType:ht.metadata.name,isArray:!0}},idProperties:["id"],hasGloballyUniqueId:!0},t})();t.VirtualMachine=at;MsPortalFx.Data.Metadata.setTypeMetadata(at.metadata.name,at.metadata)})(i=t.Compute||(t.Compute={}))})(t=n.DataModels||(n.DataModels={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(n){var t;(function(t){"use strict";var r=(function(){function n(){this.domainNameLabel=ko.observable();this.fqdn=ko.observable()}return n.metadata={name:"NetworkExtension.Models.PublicIpAddressDnsSettings",properties:{domainNameLabel:null,fqdn:null},entityType:!1},n})(),i,u;t.PublicIpAddressDnsSettings=r;MsPortalFx.Data.Metadata.setTypeMetadata(r.metadata.name,r.metadata);i=(function(){function t(){this.provisioningState=ko.observable();this.resourceGuid=
ko.observable();this.ipAddress=ko.observable();this.publicIPAddressVersion=ko.observable();this.publicIPAllocationMethod=ko.observable();this.idleTimeoutInMinutes=ko.observable();this.ipConfiguration=ko.observable();this.dnsSettings=ko.observable()}return t.metadata={name:"NetworkExtension.Models.PublicIpAddressProperties",properties:{provisioningState:null,resourceGuid:null,ipAddress:null,publicIPAddressVersion:null,publicIPAllocationMethod:null,idleTimeoutInMinutes:null,ipConfiguration:{itemType:n.IdReference.metadata.name},dnsSettings:{itemType:r.metadata.name}},entityType:!0},t})();t.PublicIpAddressProperties=i;MsPortalFx.Data.Metadata.setTypeMetadata(i.metadata.name,i.metadata);u=(function(){function n(){this.id=ko.observable();this.name=ko.observable();this.etag=ko.observable();this.type=ko.observable();this.location=ko.observable();this.properties=ko.observable()}return n.getProperties=function(n){return n&&n.properties&&n.properties()},n.getAllocationMethod=function(t){var i=n.getProperties(
t);return i&&i.publicIPAllocationMethod&&i.publicIPAllocationMethod()},n.getProvisioningState=function(t){var i=n.getProperties(t);return i&&i.provisioningState&&i.provisioningState()},n.getIpAddress=function(t){var i=n.getProperties(t);return i&&i.ipAddress&&i.ipAddress()},n.getIdleTimeoutInMinutes=function(t){var i=n.getProperties(t);return i&&i.idleTimeoutInMinutes&&i.idleTimeoutInMinutes()},n.getFqdn=function(t){var i=n.getProperties(t);return i&&i.dnsSettings&&i.dnsSettings()&&i.dnsSettings().fqdn&&i.dnsSettings().fqdn()},n.getDomainNameLabel=function(t){var i=n.getProperties(t);return i&&i.dnsSettings&&i.dnsSettings()&&i.dnsSettings().domainNameLabel&&i.dnsSettings().domainNameLabel()},n.getIpConfigurationId=function(t){var i=n.getProperties(t);return i&&i.ipConfiguration&&i.ipConfiguration()&&i.ipConfiguration().id&&i.ipConfiguration().id()},n.getIpVersion=function(t){var i=n.getProperties(t);return i&&i.publicIPAddressVersion&&i.publicIPAddressVersion()},n.stripToId=function(n)
{n.name&&delete n.name;n.properties&&delete n.properties;n.type&&delete n.type;n.etag&&delete n.etag;n.location&&delete n.location},n.normalizePublicIp=function(n,t){n&&(n.id=n.id||null,t&&(n.name=n.name||null,n.location=n.location||null,n.type=n.type||null,n.etag=n.etag||null,n.properties.provisioningState=n.properties.provisioningState||null,n.properties.resourceGuid=n.properties.resourceGuid||null,n.properties.ipAddress=n.properties.ipAddress||null,n.properties.publicIPAddressVersion=n.properties.publicIPAddressVersion||null,n.properties.publicIPAllocationMethod=n.properties.publicIPAllocationMethod||null,MsPortalFx.isNullOrUndefined(n.properties.idleTimeoutInMinutes)&&(n.properties.idleTimeoutInMinutes=null),n.properties.ipConfiguration?n.properties.ipConfiguration.id=n.properties.ipConfiguration.id||null:n.properties.ipConfiguration=null,n.properties.dnsSettings?(n.properties.dnsSettings.domainNameLabel=n.properties.dnsSettings.domainNameLabel||null,n.properties.dnsSettings.fqdn=n.
properties.dnsSettings.fqdn||null):n.properties.dnsSettings=null))},n.metadata={name:"NetworkExtension.Models.PublicIpAddressArm",properties:{id:null,name:null,etag:null,type:null,location:null,properties:{itemType:i.metadata.name}},entityType:!0,idProperties:["id"]},n})();t.PublicIpAddress=u;MsPortalFx.Data.Metadata.setTypeMetadata(u.metadata.name,u.metadata)})(t=n.Network||(n.Network={}))})(t=n.DataModels||(n.DataModels={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(t){var i;(function(i){"use strict";var e=(function(){function n(){this.primary=ko.observable();this.provisioningState=ko.observable();this.privateIPAddress=ko.observable();this.privateIPAllocationMethod=ko.observable();this.publicIPAddress=ko.observable();this.subnet=ko.observable();this.loadBalancerBackendAddressPools=ko.observableArray();this.loadBalancerInboundNatRules=ko.observableArray()}return n.metadata={name:"NetworkExtension.Models.SubnetIpConfigurationProperties",properties:{primary:null,provisioningState:
null,privateIPAddress:null,privateIPAllocationMethod:null,publicIPAddress:{itemType:t.IdReference.metadata.name},subnet:{itemType:t.IdReference.metadata.name},loadBalancerBackendAddressPools:{itemType:t.IdReference.metadata.name,isArray:!0},loadBalancerInboundNatRules:{itemType:t.IdReference.metadata.name,isArray:!0}},entityType:!0},n})(),u,f,r,o;i.SubnetIpConfigurationProperties=e;MsPortalFx.Data.Metadata.setTypeMetadata(e.metadata.name,e.metadata);u=(function(){function n(){this.id=ko.observable();this.name=ko.observable();this.properties=ko.observable()}return n.metadata={name:"NetworkExtension.Models.SubnetIpConfiguration",properties:{id:null,name:null,properties:{itemType:e.metadata.name}},entityType:!0,idProperties:["id"]},n})();i.SubnetIpConfiguration=u;MsPortalFx.Data.Metadata.setTypeMetadata(u.metadata.name,u.metadata);f=(function(){function n(){this.provisioningState=ko.observable();this.service=ko.observable();this.locations=ko.observableArray()}return n.metadata={name:"NetworkExtension.Models.ServiceTunnel",
properties:{provisioningState:null,service:null,locations:{isArray:!0}},entityType:!0},n})();i.ServiceTunnel=f;MsPortalFx.Data.Metadata.setTypeMetadata(f.metadata.name,f.metadata);r=(function(){function n(){this.provisioningState=ko.observable();this.addressPrefix=ko.observable();this.networkSecurityGroup=ko.observable();this.routeTable=ko.observable();this.ipConfigurations=ko.observableArray();this.applicationGatewayIPConfigurations=ko.observableArray();this.serviceTunnels=ko.observableArray()}return n.metadata={name:"NetworkExtension.Models.SubnetProperties",properties:{provisioningState:null,addressPrefix:null,networkSecurityGroup:{itemType:t.IdReference.metadata.name},routeTable:{itemType:t.IdReference.metadata.name},ipConfigurations:{itemType:u.metadata.name,isArray:!0},applicationGatewayIPConfigurations:{itemType:t.IdReference.metadata.name,isArray:!0},serviceTunnels:{itemType:f.metadata.name,isArray:!0}},entityType:!0},n})();i.SubnetProperties=r;MsPortalFx.Data.Metadata.setTypeMetadata(
r.metadata.name,r.metadata);o=(function(){function t(){this.id=ko.observable();this.name=ko.observable();this.properties=ko.observable()}return t.getNewSubnet=function(){var n=new r,i;return n.applicationGatewayIPConfigurations([]),n.ipConfigurations([]),i=new t,i.properties(n),i},t.isGatewaySubnet=function(t){var i,r,u;if(t){if(i=t&&t.name&&t.name(),i||(r=t&&t.id&&t.id(),r&&(u=FxResourceTypes.parseResourceDescriptor(r),i=u.resource)),i)return StringEx.equals(i,n.Constants.GatewayConstants.virtualNetworkGatewaySubnetName,StringComparison.IgnoreCase);MsPortalFx.Base.Diagnostics.Log.writeEntry(1,"Subnet.isGatewaySubnet","The id and name of the subnet were null. Subnet was: {0}".format(ko.toJSON(t)))}else MsPortalFx.Base.Diagnostics.Log.writeEntry(1,"Subnet.isGatewaySubnet","The subnet passed to this function was null.");return!1},t.isUsedByApplicationGateway=function(n){var i=t.getApplicationGatewayIpConfigurations(n);return i?!0:!1},t.getAddressPrefix=function(n){return n&&n.properties&&
n.properties()&&n.properties().addressPrefix&&n.properties().addressPrefix()},t.getProvisioningState=function(n){return n&&n.properties&&n.properties()&&n.properties().provisioningState&&n.properties().provisioningState()},t.getNetworkSecurityGroupId=function(n){return n&&n.properties&&n.properties()&&n.properties().networkSecurityGroup&&n.properties().networkSecurityGroup()&&n.properties().networkSecurityGroup().id&&n.properties().networkSecurityGroup().id()},t.getRouteTableId=function(n){return n&&n.properties&&n.properties()&&n.properties().routeTable&&n.properties().routeTable()&&n.properties().routeTable().id&&n.properties().routeTable().id()},t.getPublicIpAddressId=function(n){return n&&n.properties&&n.properties()&&n.properties().publicIPAddress&&n.properties().publicIPAddress()&&n.properties().publicIPAddress().id&&n.properties().publicIPAddress().id()},t.getPrivateIpAddress=function(n){return n&&n.properties&&n.properties()&&n.properties().privateIPAddress&&n.properties().privateIPAddress(
)},t.getIpConfigurations=function(n){var t=n&&n.properties&&n.properties()&&n.properties().ipConfigurations&&n.properties().ipConfigurations();return t&&t.length>0?t:null},t.getServiceTunnels=function(n){var t=n&&n.properties&&n.properties()&&n.properties().serviceTunnels&&n.properties().serviceTunnels();return t&&t.length>0?t:null},t.hasStorageServiceTunnel=function(i){var r=t.getServiceTunnels(i);return MsPortalFx.findIndex(r,(function(t){return StringEx.equals(t.service(),n.Constants.V2Providers.storageProvider,StringComparison.IgnoreCase)}))>=0},t.getApplicationGatewayIpConfigurations=function(n){var t=n&&n.properties&&n.properties()&&n.properties().applicationGatewayIPConfigurations&&n.properties().applicationGatewayIPConfigurations();return t&&t.length>0?t:null},t.stripExpandedProperties=function(n){var i=t.getIpConfigurations(n);i&&i.forEach((function(n){n.name&&delete n.name;n.properties&&delete n.properties}))},t.stripToId=function(n){n.name&&delete n.name;n.properties&&delete n.properties}
,t.normalizeSubnetResponse=function(n,t,i){var f=this,r,u;n.id=n.id||null;t&&(n.name=n.name||null,n.properties?(n.properties.provisioningState=n.properties.provisioningState||null,n.properties.addressPrefix=n.properties.addressPrefix&&n.properties.addressPrefix.trim()||null,r=n.properties.serviceTunnels,r&&Array.isArray(r)&&r.length>0?r.forEach((function(n){n?f._normalizeServiceTunnelResponse(n):n=null})):n.properties.serviceTunnels=[],n.properties.networkSecurityGroup?n.properties.networkSecurityGroup.id=n.properties.networkSecurityGroup.id||null:n.properties.networkSecurityGroup=null,n.properties.routeTable?n.properties.routeTable.id=n.properties.routeTable.id||null:n.properties.routeTable=null,u=n.properties.ipConfigurations,u&&Array.isArray(u)&&u.length>0?u.forEach((function(n){f._normalizeSubnetIpConfigurationResponse(n,i)})):n.properties.ipConfigurations=[],n.properties.applicationGatewayIPConfigurations=n.properties.applicationGatewayIPConfigurations||[]):n.addressPrefix=n.addressPrefix&&
n.addressPrefix.trim()||null)},t.normalizeSubnetResponseNoExpand=function(n){t.normalizeSubnetResponse(n,!0,!1)},t._normalizeServiceTunnelResponse=function(n){n.locations=n.locations||[];n.provisioningState=n.provisioningState||null;n.service=n.service||null},t._normalizeSubnetIpConfigurationResponse=function(n,t){var i,r;t&&n.properties?(n.properties.primary=n.properties.primary||null,n.properties.provisioningState=n.properties.provisioningState||null,n.properties.privateIPAddress=n.properties.privateIPAddress||null,n.properties.privateIPAllocationMethod=n.properties.privateIPAllocationMethod||null,n.properties.publicIPAddress?n.properties.publicIPAddress.id=n.properties.publicIPAddress.id||null:n.properties.publicIPAddress=null,n.properties.subnet?n.properties.subnet.id=n.properties.subnet.id||null:n.properties.subnet=null,i=n.properties.loadBalancerBackendAddressPools,i&&Array.isArray(i)&&i.length>0?i.forEach((function(n){n.id=n.id||null})):n.properties.loadBalancerBackendAddressPools=
[],r=n.properties.loadBalancerInboundNatRules,r&&Array.isArray(r)&&r.length>0?r.forEach((function(n){n.id=n.id||null})):n.properties.loadBalancerInboundNatRules=[]):n.properties=null},t.metadata={name:"NetworkExtension.Models.SubnetArm",properties:{id:null,name:null,type:null,properties:{itemType:r.metadata.name}},entityType:!0,idProperties:["id"]},t})();i.Subnet=o;MsPortalFx.Data.Metadata.setTypeMetadata(o.metadata.name,o.metadata)})(i=t.Network||(t.Network={}))})(t=n.DataModels||(n.DataModels={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(t){var i;(function(i){"use strict";var r,k,u,f,e,o,s,h,c,l,a,v,y,p,w,b,d;(function(n){n[n.Tcp=0]="Tcp";n[n.Udp=1]="Udp";n[n.Http=2]="Http"})(i.LoadBalancerNetworkProtocol||(i.LoadBalancerNetworkProtocol={}));r=i.LoadBalancerNetworkProtocol;k=(function(){function n(){this.provisioningState=ko.observable();this.frontendIPConfiguration=ko.observable();this.frontendPort=ko.observable();this.backendPort=ko.observable();this.enableFloatingIP=
ko.observable();this.idleTimeoutInMinutes=ko.observable();this.protocol=ko.observable()}return n})();i.LoadBalancerBaseRuleProperties=k;u=(function(){function n(){this.provisioningState=ko.observable();this.frontendIPConfiguration=ko.observable();this.frontendPortRangeStart=ko.observable();this.frontendPortRangeEnd=ko.observable();this.backendPort=ko.observable();this.protocol=ko.observable()}return n.metadata={name:"NetworkExtension.Models.LoadBalancerInboundNatPoolProperties",properties:{provisioningState:null,frontendIPConfiguration:{itemType:t.IdReference.metadata.name},frontendPortRangeStart:null,frontendPortRangeEnd:null,backendPort:null,protocol:null},entityType:!0},n})();i.LoadBalancerInboundNatPoolProperties=u;MsPortalFx.Data.Metadata.setTypeMetadata(u.metadata.name,u.metadata);f=(function(){function n(){this.id=ko.observable();this.name=ko.observable();this.properties=ko.observable()}return n.metadata={name:"NetworkExtension.Models.LoadBalancerInboundNatPool",properties:{id:null,
name:null,properties:{itemType:u.metadata.name}},entityType:!0},n})();i.LoadBalancerInboundNatPool=f;MsPortalFx.Data.Metadata.setTypeMetadata(f.metadata.name,f.metadata);e=(function(){function n(){this.id=ko.observable();this.name=ko.observable()}return n.metadata={name:"NetworkExtension.Models.LoadBalancerOutboundNatRule",properties:{id:null,name:null},entityType:!0,idProperties:["id"]},n})();i.LoadBalancerOutboundNatRule=e;MsPortalFx.Data.Metadata.setTypeMetadata(e.metadata.name,e.metadata);o=(function(n){function i(){n.apply(this,arguments);this.backendIPConfiguration=ko.observable()}return __extends(i,n),i.metadata={name:"NetworkExtension.Models.LoadBalancerInboundNatRuleProperties",properties:{provisioningState:null,frontendIPConfiguration:{itemType:t.IdReference.metadata.name},frontendPort:null,backendPort:null,enableFloatingIP:null,idleTimeoutInMinutes:null,protocol:null,backendIPConfiguration:{itemType:t.IdReference.metadata.name}},entityType:!0},i})(k);i.LoadBalancerInboundNatRuleProperties=
o;MsPortalFx.Data.Metadata.setTypeMetadata(o.metadata.name,o.metadata);s=(function(){function n(){this.id=ko.observable();this.name=ko.observable();this.properties=ko.observable()}return n.metadata={name:"NetworkExtension.Models.LoadBalancerInboundNatRule",properties:{id:null,name:null,properties:{itemType:o.metadata.name}},entityType:!0,idProperties:["id"]},n})();i.LoadBalancerInboundNatRule=s;MsPortalFx.Data.Metadata.setTypeMetadata(s.metadata.name,s.metadata);h=(function(){function n(){this.provisioningState=ko.observable();this.protocol=ko.observable();this.port=ko.observable();this.requestPath=ko.observable();this.intervalInSeconds=ko.observable();this.numberOfProbes=ko.observable();this.loadBalancingRules=ko.observableArray()}return n.metadata={name:"NetworkExtension.Models.LoadBalancerProbeProperties",properties:{provisioningState:null,protocol:null,port:null,requestPath:null,intervalInSeconds:null,numberOfProbes:null,loadBalancingRules:{itemType:t.IdReference.metadata.name,isArray:
!0}},entityType:!0},n})();i.LoadBalancerProbeProperties=h;MsPortalFx.Data.Metadata.setTypeMetadata(h.metadata.name,h.metadata);c=(function(){function n(){this.id=ko.observable();this.name=ko.observable();this.properties=ko.observable()}return n.metadata={name:"NetworkExtension.Models.LoadBalancerProbe",properties:{id:null,name:null,properties:{itemType:h.metadata.name}},entityType:!0,idProperties:["id"]},n})();i.LoadBalancerProbe=c;MsPortalFx.Data.Metadata.setTypeMetadata(c.metadata.name,c.metadata);l=(function(n){function i(){n.apply(this,arguments);this.loadDistribution=ko.observable();this.backendAddressPool=ko.observable();this.probe=ko.observable()}return __extends(i,n),i.metadata={name:"NetworkExtension.Models.LoadBalancerLoadBalancingRuleProperties",properties:{provisioningState:null,frontendIPConfiguration:{itemType:t.IdReference.metadata.name},frontendPort:null,backendPort:null,enableFloatingIP:null,idleTimeoutInMinutes:null,protocol:null,loadDistribution:null,backendAddressPool:{
itemType:t.IdReference.metadata.name},probe:{itemType:t.IdReference.metadata.name}},entityType:!0},i})(k);i.LoadBalancerLoadBalancingRuleProperties=l;MsPortalFx.Data.Metadata.setTypeMetadata(l.metadata.name,l.metadata);a=(function(){function n(){this.id=ko.observable();this.name=ko.observable();this.properties=ko.observable()}return n.metadata={name:"NetworkExtension.Models.LoadBalancerLoadBalancingRule",properties:{id:null,name:null,properties:{itemType:l.metadata.name}},entityType:!0,idProperties:["id"]},n})();i.LoadBalancerLoadBalancingRule=a;MsPortalFx.Data.Metadata.setTypeMetadata(a.metadata.name,a.metadata);v=(function(){function n(){this.provisioningState=ko.observable();this.backendIPConfigurations=ko.observableArray();this.loadBalancingRules=ko.observableArray()}return n.metadata={name:"NetworkExtension.Models.LoadBalancerBackendAddressPoolProperties",properties:{provisioningState:null,backendIPConfigurations:{itemType:t.IdReference.metadata.name,isArray:!0},loadBalancingRules:{itemType:
t.IdReference.metadata.name,isArray:!0}},entityType:!0},n})();i.LoadBalancerBackendAddressPoolProperties=v;MsPortalFx.Data.Metadata.setTypeMetadata(v.metadata.name,v.metadata);y=(function(){function n(){this.id=ko.observable();this.name=ko.observable();this.properties=ko.observable()}return n.metadata={name:"NetworkExtension.Models.LoadBalancerBackendAddressPool",properties:{id:null,name:null,properties:{itemType:v.metadata.name}},entityType:!0,idProperties:["id"]},n})();i.LoadBalancerBackendAddressPool=y;MsPortalFx.Data.Metadata.setTypeMetadata(y.metadata.name,y.metadata);p=(function(){function n(){this.provisioningState=ko.observable();this.privateIPAddress=ko.observable();this.privateIPAllocationMethod=ko.observable();this.subnet=ko.observable();this.publicIPAddress=ko.observable();this.loadBalancingRules=ko.observableArray();this.inboundNatRules=ko.observableArray()}return n.metadata={name:"NetworkExtension.Models.LoadBalancerFrontEndIpConfigurationProperties",properties:{provisioningState:
null,privateIPAddress:null,privateIPAllocationMethod:null,subnet:{itemType:i.Subnet.metadata.name},publicIPAddress:{itemType:i.PublicIpAddress.metadata.name},loadBalancingRules:{itemType:t.IdReference.metadata.name,isArray:!0},inboundNatRules:{itemType:t.IdReference.metadata.name,isArray:!0}},entityType:!0},n})();i.LoadBalancerFrontEndIpConfigurationProperties=p;MsPortalFx.Data.Metadata.setTypeMetadata(p.metadata.name,p.metadata);w=(function(){function n(){this.id=ko.observable();this.name=ko.observable();this.properties=ko.observable()}return n.metadata={name:"NetworkExtension.Models.LoadBalancerFrontEndIpConfiguration",properties:{id:null,name:null,properties:{itemType:p.metadata.name}},entityType:!0,idProperties:["id"]},n})();i.LoadBalancerFrontEndIpConfiguration=w;MsPortalFx.Data.Metadata.setTypeMetadata(w.metadata.name,w.metadata);b=(function(){function n(){this.provisioningState=ko.observable();this.resourceGuid=ko.observable();this.frontendIPConfigurations=ko.observableArray();this.
backendAddressPools=ko.observableArray();this.loadBalancingRules=ko.observableArray();this.probes=ko.observableArray();this.inboundNatRules=ko.observableArray();this.outboundNatRules=ko.observableArray();this.inboundNatPools=ko.observableArray()}return n.metadata={name:"NetworkExtension.Models.LoadBalancerProperties",properties:{provisioningState:null,resourceGuid:null,frontendIPConfigurations:{itemType:w.metadata.name,isArray:!0},backendAddressPools:{itemType:y.metadata.name,isArray:!0},loadBalancingRules:{itemType:a.metadata.name,isArray:!0},probes:{itemType:c.metadata.name,isArray:!0},inboundNatRules:{itemType:s.metadata.name,isArray:!0},outboundNatRules:{itemType:e.metadata.name,isArray:!0},inboundNatPools:{itemType:f.metadata.name,isArray:!0}},entityType:!0},n})();i.LoadBalancerProperties=b;MsPortalFx.Data.Metadata.setTypeMetadata(b.metadata.name,b.metadata);d=(function(){function t(){this.id=ko.observable();this.name=ko.observable();this.location=ko.observable();this.type=ko.observable(
);this.properties=ko.observable()}return t.getProtocolDisplayName=function(t){if(!MsPortalFx.isNullOrUndefined(t)){if(t===r.Tcp)return n.Constants.ProtocolNames.TCP;if(t===r.Udp)return n.Constants.ProtocolNames.UDP;if(t===r.Http)return n.Constants.ProtocolNames.HTTP}return Diagnostics.Log.writeEntry(1,"LoadBalancer.getProtocolDisplayName","Protocol passed to this function was null."),null},t.getProtocolType=function(n){if(n){if(StringEx.equals(n,r[r.Tcp],StringComparison.IgnoreCase))return r.Tcp;if(StringEx.equals(n,r[r.Udp],StringComparison.IgnoreCase))return r.Udp;if(StringEx.equals(n,r[r.Http],StringComparison.IgnoreCase))return r.Http;Diagnostics.Log.writeEntry(1,"LoadBalancer.getProtocolType","Unexpected protocol type. Type was: {0}".format(n))}return null},t.getProbePort=function(n){return n&&n.properties&&n.properties()&&n.properties().port&&n.properties().port()},t.getProbePath=function(n){return n&&n.properties&&n.properties()&&n.properties().requestPath&&n.properties().requestPath(
)},t.getProbeProtocol=function(n){return n&&n.properties&&n.properties()&&n.properties().protocol&&n.properties().protocol()},t.getProbeProtocolDisplayName=function(n){var i=t.getProbeProtocol(n);return t.getProtocolDisplayName(i)},t.getProbeLoadBalancingRuleIds=function(n){var t=n&&n.properties&&n.properties()&&n.properties().loadBalancingRules&&n.properties().loadBalancingRules();return t&&t.length>0?t:null},t.getBackendAddressPoolBackendIpConfigurations=function(n){var t=n&&n.properties&&n.properties()&&n.properties().backendIPConfigurations&&n.properties().backendIPConfigurations();return t&&t.length>0?t:null},t.getBackendAddressPoolLoadBalancingRules=function(n){var t=n&&n.properties&&n.properties()&&n.properties().loadBalancingRules&&n.properties().loadBalancingRules();return t&&t.length>0?t:null},t.getLoadBalancingRuleFrontEndIpConfiguration=function(n,i){var r=i&&i.properties&&i.properties(),u=r&&r.frontendIPConfiguration&&r.frontendIPConfiguration(),f=u&&u.id&&u.id();return t.
getFrontendIpConfigurationById(n,f)},t.getLoadBalancingRuleFrontendPort=function(n){return n&&n.properties&&n.properties()&&n.properties().frontendPort&&n.properties().frontendPort()},t.getLoadBalancingRuleBackendPort=function(n){return n&&n.properties&&n.properties()&&n.properties().backendPort&&n.properties().backendPort()},t.getLoadBalancingRuleProtocol=function(n){return n&&n.properties&&n.properties()&&n.properties().protocol&&n.properties().protocol()},t.getLoadBalancingRuleProbeId=function(n){return n&&n.properties&&n.properties()&&n.properties().probe&&n.properties().probe()&&n.properties().probe().id&&n.properties().probe().id()},t.getLoadBalancingRuleBackendPoolId=function(n){return n&&n.properties&&n.properties()&&n.properties().backendAddressPool&&n.properties().backendAddressPool()&&n.properties().backendAddressPool().id&&n.properties().backendAddressPool().id()},t.getLoadBalancingRuleFrontEndConfigurationId=function(n){return n&&n.properties&&n.properties()&&n.properties(
).frontendIPConfiguration&&n.properties().frontendIPConfiguration()&&n.properties().frontendIPConfiguration().id&&n.properties().frontendIPConfiguration().id()},t.getLoadBalancingRuleEnableFloatingIp=function(n){return n&&n.properties&&n.properties()&&n.properties().enableFloatingIP&&n.properties().enableFloatingIP()},t.getLoadBalancingRuleProtocolDisplayName=function(n){var i=t.getLoadBalancingRuleProtocol(n);return t.getProtocolDisplayName(i)},t.getInboundNatRuleFrontendPort=function(n){return n&&n.properties&&n.properties()&&n.properties().frontendPort&&n.properties().frontendPort()},t.getInboundNatRuleBackendPort=function(n){return n&&n.properties&&n.properties()&&n.properties().backendPort&&n.properties().backendPort()},t.getInboundNatRuleProtocol=function(n){return n&&n.properties&&n.properties()&&n.properties().protocol&&n.properties().protocol()},t.getInboundNatRuleProtocolDisplayName=function(n){var i=t.getInboundNatRuleProtocol(n);return t.getProtocolDisplayName(i)},t.getInboundNatRuleFrontEndIPConfigurationId=
function(n){return n&&n.properties&&n.properties()&&n.properties().frontendIPConfiguration&&n.properties().frontendIPConfiguration()&&n.properties().frontendIPConfiguration().id&&n.properties().frontendIPConfiguration().id()},t.getInboundNatRuleBackendIPConfigurationId=function(n){return n&&n.properties&&n.properties()&&n.properties().backendIPConfiguration&&n.properties().backendIPConfiguration()&&n.properties().backendIPConfiguration().id&&n.properties().backendIPConfiguration().id()},t.getInboundNatRuleEnableFloatingIp=function(n){return n&&n.properties&&n.properties()&&n.properties().enableFloatingIP&&n.properties().enableFloatingIP()},t.getFrontendIpConfigurationPrivateIpAddress=function(n){return n&&n.properties&&n.properties()&&n.properties().privateIPAddress&&n.properties().privateIPAddress()},t.getFrontendIpConfigurationPrivateIpAllocationMethod=function(n){return n&&n.properties&&n.properties()&&n.properties().privateIPAllocationMethod&&n.properties().privateIPAllocationMethod(
)},t.getFrontendIpConfigurationPublicIPAddressVersion=function(n){return n&&n.properties&&n.properties()&&n.properties().publicIPAddress&&n.properties().publicIPAddress()&&n.properties().publicIPAddress().properties&&n.properties().publicIPAddress().properties()&&n.properties().publicIPAddress().properties().publicIPAddressVersion&&n.properties().publicIPAddress().properties().publicIPAddressVersion()},t.getFrontendIpConfigurationPublicIpAddress=function(n){return n&&n.properties&&n.properties()&&n.properties().publicIPAddress&&n.properties().publicIPAddress()},t.getFrontendIpConfigurationPublicIpAddressId=function(n){return n&&n.properties&&n.properties()&&n.properties().publicIPAddress&&n.properties().publicIPAddress()&&n.properties().publicIPAddress().id&&n.properties().publicIPAddress().id()},t.getFrontendIpConfigurationSubnet=function(n){return n&&n.properties&&n.properties()&&n.properties().subnet&&n.properties().subnet()},t.getFrontendIpConfigurationLoadBalancingRules=function(n)
{var t=n&&n.properties&&n.properties()&&n.properties().loadBalancingRules&&n.properties().loadBalancingRules();return t&&t.length>0?t:null},t.getFrontendIpConfigurationInboundNatRules=function(n){var t=n&&n.properties&&n.properties()&&n.properties().inboundNatRules&&n.properties().inboundNatRules();return t&&t.length>0?t:null},t.getFrontendIpConfigurations=function(n,i){i===void 0&&(i=null);var r=n&&n.properties&&n.properties()&&n.properties().frontendIPConfigurations&&n.properties().frontendIPConfigurations();return(i&&(r=r.filter((function(n){var r=t.getFrontendIpConfigurationPublicIpAddress(n),f=!1,u,e;if(r)u=r.properties()&&r.properties().publicIPAddressVersion(),u&&(f=StringEx.equals(u,i,StringComparison.IgnoreCase));else if(e=n.properties()&&n.properties().privateIPAddress(),!!e)return!0;return f})),r.sort((function(n,i){var u=t.getFrontendIpConfigurationPublicIpAddress(n),r=t.getFrontendIpConfigurationPublicIpAddress(i);return u?r?0:1:r?-1:0}))),r&&r.length>0)?r:null},t.getPublicFrontendIPConfiguration=
function(n){var i=t.getFrontendIpConfigurations(n);return i?i.filter((function(n){var i=t.getFrontendIpConfigurationPublicIpAddress(n);return!MsPortalFx.isNullOrUndefined(i)})):null},t.getFrontendIpConfigurationFirstPublic=function(n){var i=t.getFrontendIpConfigurations(n);return i?MsPortalFx.find(i,(function(n){var i=t.getFrontendIpConfigurationPublicIpAddress(n);return!MsPortalFx.isNullOrUndefined(i)})):null},t.getFrontendIpConfigurationFirstPrivate=function(n){var i=t.getFrontendIpConfigurations(n);return i?MsPortalFx.find(i,(function(n){var i=t.getFrontendIpConfigurationSubnet(n);return!MsPortalFx.isNullOrUndefined(i)})):null},t.getFrontendIpConfigurationFirstAny=function(n){var i=null;return(i=t.getFrontendIpConfigurationFirstPublic(n),i)?i:(i=t.getFrontendIpConfigurationFirstPrivate(n),i)?i:(Diagnostics.Log.writeEntry(1,"LoadBalancerData.getFrontendIpConfigurationFirstAny","The load balancer with id {0} had a frontend configuration without a public ip or subnet.".format(n.id())),null)}
,t.getFrontendIpConfigurationByPublicIpAddressId=function(n,i){var r=t.getFrontendIpConfigurations(n);return r&&i?MsPortalFx.find(r,(function(n){var r=t.getFrontendIpConfigurationPublicIpAddress(n);return r&&StringEx.equals(r.id(),i,StringComparison.IgnoreCase)})):null},t.getPublicIpAddressById=function(n,i){var r=t.getFrontendIpConfigurationByPublicIpAddressId(n,i);return r?t.getFrontendIpConfigurationPublicIpAddress(r):null},t.getFrontendIpConfigurationBySubnetId=function(n,i){var r=t.getFrontendIpConfigurations(n);return r&&i?MsPortalFx.find(r,(function(n){var r=t.getFrontendIpConfigurationSubnet(n);return r&&StringEx.equals(r.id(),i,StringComparison.IgnoreCase)})):null},t.getFrontendIpConfigurationById=function(n,i){var r=t.getFrontendIpConfigurations(n);return r&&i?MsPortalFx.find(r,(function(n){return StringEx.equals(n.id(),i,StringComparison.IgnoreCase)})):null},t.getBackendAddressPools=function(n){var t=n&&n.properties&&n.properties()&&n.properties().backendAddressPools&&n.properties(
).backendAddressPools();return t&&t.length>0?t:null},t.getBackendAddressPoolById=function(n,i){var r=t.getBackendAddressPools(n);return r&&i?MsPortalFx.find(r,(function(n){return StringEx.equals(n.id(),i,StringComparison.IgnoreCase)})):null},t.getBackendAddressPoolByName=function(n,i){var r=t.getBackendAddressPools(n);return r&&i?MsPortalFx.find(r,(function(n){return StringEx.equals(n.name(),i,StringComparison.IgnoreCase)})):null},t.getProbes=function(n){var t=n&&n.properties&&n.properties()&&n.properties().probes&&n.properties().probes();return t&&t.length>0?t:null},t.getProbeById=function(n,i){var r=t.getProbes(n);return r&&i?MsPortalFx.find(r,(function(n){return StringEx.equals(n.id(),i,StringComparison.IgnoreCase)})):null},t.getInboundNatRules=function(n){var t=n&&n.properties&&n.properties()&&n.properties().inboundNatRules&&n.properties().inboundNatRules();return t&&t.length>0?t:null},t.getInboundNatRuleById=function(n,i){var r=t.getInboundNatRules(n);return r&&i?MsPortalFx.find(r,(function(
n){return StringEx.equals(n.id(),i,StringComparison.IgnoreCase)})):null},t.getInboundNatRuleByName=function(n,i){var r=t.getInboundNatRules(n);return r&&i?MsPortalFx.find(r,(function(n){return StringEx.equals(n.name(),i,StringComparison.IgnoreCase)})):null},t.getInboundNatPools=function(n){var t=n&&n.properties&&n.properties()&&n.properties().inboundNatPools&&n.properties().inboundNatPools();return t&&t.length>0?t:null},t.getLoadBalancingRules=function(n){var t=n&&n.properties&&n.properties()&&n.properties().loadBalancingRules&&n.properties().loadBalancingRules();return t&&t.length>0?t:null},t.getLoadBalancingRuleById=function(n,i){var r=t.getLoadBalancingRules(n);return r&&i?MsPortalFx.find(r,(function(n){return StringEx.equals(n.id(),i,StringComparison.IgnoreCase)})):null},t.getLoadBalancerProvisioningState=function(n){return n&&n.properties&&n.properties()&&n.properties().provisioningState&&n.properties().provisioningState()},t.stripExpandedProperties=function(n){var r=t.getFrontendIpConfigurations(
n);r&&r.forEach((function(n){var u=t.getFrontendIpConfigurationPublicIpAddress(n),r;u&&i.PublicIpAddress.stripToId(u);r=t.getFrontendIpConfigurationSubnet(n);r&&i.Subnet.stripToId(r)}))},t.normalizeLoadBalancerResponse=function(n,i){var r,u,f,e,o,h,s;MsPortalFx.isNullOrUndefined(n)||(n.id=n.id||null,n.name=n.name||null,n.location=n.location||null,n.type=n.type||null,n.properties.provisioningState=n.properties.provisioningState||null,n.properties.resourceGuid=n.properties.resourceGuid||null,r=n.properties.frontendIPConfigurations,r&&Array.isArray(r)&&r.length>0?r.forEach((function(n){t.normalizeFrontendIpConfigurationResponse(n,i)})):n.properties.frontendIPConfigurations=[],u=n.properties.backendAddressPools,u&&Array.isArray(u)&&u.length>0?u.forEach((function(n){t.normalizeBackendAddressPoolResponse(n)})):n.properties.backendAddressPools=[],f=n.properties.loadBalancingRules,f&&Array.isArray(f)&&f.length>0?f.forEach((function(n){t.normalizeLoadBalancingRuleResponse(n)})):n.properties.loadBalancingRules=
[],e=n.properties.probes,e&&Array.isArray(e)&&e.length>0?e.forEach((function(n){t.normalizeProbesResponse(n)})):n.properties.probes=[],o=n.properties.inboundNatRules,o&&Array.isArray(o)&&o.length>0?o.forEach((function(n){t.normalizeInboundNatRuleResponse(n)})):n.properties.inboundNatRules=[],h=n.properties.outboundNatRules,h&&Array.isArray(h)&&h.length>0&&Diagnostics.Log.writeEntry(1,"LoadBalancerData._normalizeLoadBalancerResponse","One or more outbound nat rules were found on LB {0}. Outbound nat rules are not fully supported by the portal yet.".format(n.id)),n.properties.outboundNatRules=[],s=n.properties.inboundNatPools,s&&Array.isArray(s)&&s.length>0?s.forEach((function(n){t.normalizeInboundNatPoolsResponse(n)})):n.properties.inboundNatPools=[])},t.normalizeInboundNatPoolsResponse=function(n){n.id=n.id||null;n.name=n.name||null;n.properties.provisioningState=n.properties.provisioningState||null;n.properties.frontendIPConfiguration=n.properties.frontendIPConfiguration||null;MsPortalFx.isNullOrUndefined(
n.properties.frontendPortRangeStart)&&(n.properties.frontendPortRangeStart=null);MsPortalFx.isNullOrUndefined(n.properties.frontendPortRangeEnd)&&(n.properties.frontendPortRangeEnd=null);MsPortalFx.isNullOrUndefined(n.properties.backendPort)&&(n.properties.backendPort=null);n.properties.protocol=t.getProtocolType(n.properties.protocol)},t.normalizeInboundNatRuleResponse=function(n){n.id=n.id||null;n.name=n.name||null;n.properties.provisioningState=n.properties.provisioningState||null;n.properties.frontendIPConfiguration=n.properties.frontendIPConfiguration||null;MsPortalFx.isNullOrUndefined(n.properties.frontendPort)&&(n.properties.frontendPort=null);MsPortalFx.isNullOrUndefined(n.properties.backendPort)&&(n.properties.backendPort=null);MsPortalFx.isNullOrUndefined(n.properties.enableFloatingIP)&&(n.properties.enableFloatingIP=null);MsPortalFx.isNullOrUndefined(n.properties.idleTimeoutInMinutes)&&(n.properties.idleTimeoutInMinutes=null);n.properties.protocol=t.getProtocolType(n.properties.
protocol);n.properties.backendIPConfiguration=n.properties.backendIPConfiguration||null},t.normalizeProbesResponse=function(n){n.id=n.id||null;n.name=n.name||null;n.properties.provisioningState=n.properties.provisioningState||null;n.properties.protocol=t.getProtocolType(n.properties.protocol);MsPortalFx.isNullOrUndefined(n.properties.port)&&(n.properties.port=null);n.properties.requestPath=n.properties.requestPath||null;MsPortalFx.isNullOrUndefined(n.properties.intervalInSeconds)&&(n.properties.intervalInSeconds=null);MsPortalFx.isNullOrUndefined(n.properties.numberOfProbes)&&(n.properties.numberOfProbes=null);n.properties.loadBalancingRules=n.properties.loadBalancingRules||[]},t.normalizeLoadBalancingRuleResponse=function(n){n.id=n.id||null;n.name=n.name||null;n.properties.provisioningState=n.properties.provisioningState||null;n.properties.frontendIPConfiguration=n.properties.frontendIPConfiguration||null;MsPortalFx.isNullOrUndefined(n.properties.frontendPort)&&(n.properties.frontendPort=
null);MsPortalFx.isNullOrUndefined(n.properties.backendPort)&&(n.properties.backendPort=null);MsPortalFx.isNullOrUndefined(n.properties.enableFloatingIP)&&(n.properties.enableFloatingIP=null);MsPortalFx.isNullOrUndefined(n.properties.idleTimeoutInMinutes)&&(n.properties.idleTimeoutInMinutes=null);n.properties.protocol=t.getProtocolType(n.properties.protocol);n.properties.loadDistribution=n.properties.loadDistribution||null;n.properties.backendAddressPool=n.properties.backendAddressPool||null;n.properties.probe=n.properties.probe||null},t.normalizeBackendAddressPoolResponse=function(n){n.id=n.id||null;n.name=n.name||null;n.properties.provisioningState=n.properties.provisioningState||null;n.properties.backendIPConfigurations=n.properties.backendIPConfigurations||[];n.properties.loadBalancingRules=n.properties.loadBalancingRules||[]},t.normalizeFrontendIpConfigurationResponse=function(n,t){n.id=n.id||null;n.name=n.name||null;n.properties.provisioningState=n.properties.provisioningState||null;
n.properties.privateIPAddress&&(n.properties.privateIPAddress=n.properties.privateIPAddress||null);n.properties.privateIPAllocationMethod=n.properties.privateIPAllocationMethod||null;n.properties.publicIPAddress?i.PublicIpAddress.normalizePublicIp(n.properties.publicIPAddress,t):n.properties.publicIPAddress=null;n.properties.subnet?i.Subnet.normalizeSubnetResponse(n.properties.subnet,t,!1):n.properties.subnet=null},t.metadata={name:"NetworkExtension.Models.LoadBalancer",properties:{id:null,name:null,location:null,type:null,properties:{itemType:b.metadata.name}},entityType:!0,idProperties:["id"]},t})();i.LoadBalancer=d;MsPortalFx.Data.Metadata.setTypeMetadata(d.metadata.name,d.metadata)})(i=t.Network||(t.Network={}))})(t=n.DataModels||(n.DataModels={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(t){var i;(function(i){"use strict";var e=(function(){function n(){this.dnsServers=ko.observableArray();this.appliedDnsServers=ko.observableArray()}return n.metadata={name:"NetworkExtension.Models.NetworkInterfaceDnsSettings",
properties:{dnsServers:{isArray:!0},appliedDnsServers:{isArray:!0}},entityType:!0},n})(),r,u,f,o;i.NetworkInterfaceDnsSettings=e;MsPortalFx.Data.Metadata.setTypeMetadata(e.metadata.name,e.metadata);r=(function(){function n(){this.provisioningState=ko.observable();this.privateIPAddress=ko.observable();this.privateIPAddressVersion=ko.observable();this.privateIPAllocationMethod=ko.observable();this.primary=ko.observable();this.subnet=ko.observable();this.publicIPAddress=ko.observable();this.applicationGatewayBackendAddressPools=ko.observableArray();this.loadBalancerBackendAddressPools=ko.observableArray();this.loadBalancerInboundNatRules=ko.observableArray()}return n.metadata={name:"NetworkExtension.Models.NetworkInterfaceIpConfigurationProperties",properties:{provisioningState:null,privateIPAddress:null,privateIPAddressVersion:null,privateIPAllocationMethod:null,primary:null,subnet:{itemType:t.IdReference.metadata.name},publicIPAddress:{itemType:i.PublicIpAddress.metadata.name},applicationGatewayBackendAddressPools:
{itemType:t.IdReference.metadata.name,isArray:!0},loadBalancerBackendAddressPools:{itemType:t.IdReference.metadata.name,isArray:!0},loadBalancerInboundNatRules:{itemType:t.IdReference.metadata.name,isArray:!0}},entityType:!0},n})();i.NetworkInterfaceIpConfigurationProperties=r;MsPortalFx.Data.Metadata.setTypeMetadata(r.metadata.name,r.metadata);u=(function(){function n(){this.id=ko.observable();this.name=ko.observable();this.properties=ko.observable()}return n.metadata={name:"NetworkExtension.Models.NetworkInterfaceIpConfiguration",properties:{id:null,name:null,properties:{itemType:r.metadata.name}},entityType:!0,idProperties:["id"]},n})();i.NetworkInterfaceIpConfiguration=u;MsPortalFx.Data.Metadata.setTypeMetadata(u.metadata.name,u.metadata);f=(function(){function n(){this.provisioningState=ko.observable();this.resourceGuid=ko.observable();this.macAddress=ko.observable();this.primary=ko.observable();this.enableIPForwarding=ko.observable();this.enableAcceleratedNetworking=ko.observable();this.
virtualMachine=ko.observable();this.networkSecurityGroup=ko.observable();this.dnsSettings=ko.observable();this.ipConfigurations=ko.observableArray()}return n.metadata={name:"NetworkExtension.Models.NetworkInterfaceProperties",properties:{provisioningState:null,resourceGuid:null,macAddress:null,primary:null,enableIPForwarding:null,enableAcceleratedNetworking:null,virtualMachine:{itemType:t.IdReference.metadata.name},networkSecurityGroup:{itemType:t.IdReference.metadata.name},dnsSettings:{itemType:e.metadata.name},ipConfigurations:{itemType:u.metadata.name,isArray:!0}},entityType:!0},n})();i.NetworkInterfaceProperties=f;MsPortalFx.Data.Metadata.setTypeMetadata(f.metadata.name,f.metadata);o=(function(t){function r(){t.apply(this,arguments);this.name=ko.observable();this.location=ko.observable();this.type=ko.observable();this.properties=ko.observable()}return __extends(r,t),r.getPrimaryNetworkInterfaceIpConfiguration=function(t,i){var u,f,e,o;return(i===void 0&&(i=!1),u=r.getIpConfigurations(
t),u)?(f=MsPortalFx.find(u,(function(n){return r.getNetworkInterfaceIpConfigurationIsPrimary(n)})),f)?f:(f=MsPortalFx.find(u,(function(n){return!!r.getPublicIpAddress(n)})),f?f:i?null:(e="There were no ipconfigurations on the network interface marked as primary. The first ipConfiguration will be used. The id of the network interface was: {0}.".format(t.id()),n.Utilities.Telemetry.isNewEvent(e)&&Diagnostics.Log.writeEntry(1,"NetworkInterface.getPrimaryNetworkInterfaceIpConfiguration",e),o=MsPortalFx.find(u,(function(n){return n.properties&&n.properties().privateIPAddressVersion&&StringEx.equals(n.properties().privateIPAddressVersion(),r.IPv4VersionType,StringComparison.IgnoreCase)})),o)?o:u[0]):null},r.getNetworkInterfaceIsPrimary=function(n){return n&&n.properties&&n.properties()&&n.properties().primary&&n.properties().primary()},r.getNetworkInterfaceIdFromIpConfiguration=function(n){var t=FxResourceTypes.parseResourceDescriptor(n.id);return t.resourceMap[r._networkInterfaceIpConfigResourceType]?
FxResourceTypes.buildParentResourceIdFromDescriptor(t):n.id},r.getSecondaryNetworkInterfaceIpConfigurations=function(n){var i=r.getIpConfigurations(n),u,t;return i&&(u=r.getPrimaryNetworkInterfaceIpConfiguration(n),t=null,u?t=i.filter((function(n){return!StringEx.equals(n.id(),u.id(),StringComparison.IgnoreCase)})):(Diagnostics.Log.writeEntry(1,"NetworkInterface.getSecondaryNetworkInterfaceIpConfigurations","There were no ipconfigurations on the network interface marked as primary. The first ipConfiguration will be considered primary, all others secondary. The id of the network interface was: {0}.".format(n.id())),t=i.slice(1,i.length)),t&&t.length>0)?t:null},r.getNetworkInterfaceIpConfigurationById=function(n,t){var u=r.getIpConfigurations(t),i;return u&&(i=MsPortalFx.find(u,(function(t){return StringEx.equals(t.id(),n,StringComparison.IgnoreCase)})),i)?i:null},r.getNetworkInterfaceIpConfigurationIsPrimary=function(n){return n&&n.properties&&n.properties()&&n.properties().primary&&n.properties(
).primary()},r.getNetworkInterfaceIpConfigurationBySubnetId=function(n,t){var i=r.getIpConfigurations(n);return MsPortalFx.find(i,(function(n){var i=r.getSubnetId(n);return StringEx.equals(i,t,StringComparison.IgnoreCase)}))},r.getIpConfigurations=function(n){var t=n&&n.properties&&n.properties()&&n.properties().ipConfigurations&&n.properties().ipConfigurations();return t&&t.length>0?t:null},r.getSubnetId=function(n){var t=n&&n.properties&&n.properties()&&n.properties().subnet&&n.properties().subnet()&&n.properties().subnet().id&&n.properties().subnet().id();return t?t:null},r.getPrivateIp=function(n){var t=n&&n.properties&&n.properties()&&n.properties().privateIPAddress&&n.properties().privateIPAddress();return t?t:null},r.getPrivateIpAllocationMethod=function(n){var t=n&&n.properties&&n.properties()&&n.properties().privateIPAllocationMethod&&n.properties().privateIPAllocationMethod();return t?t:null},r.getBackendPoolIds=function(n){var t=n&&n.properties&&n.properties()&&n.properties().
loadBalancerBackendAddressPools&&n.properties().loadBalancerBackendAddressPools();return t&&t.length>0?t:null},r.getApplicationGatewayBackendPoolIds=function(n){var t=n&&n.properties&&n.properties()&&n.properties().applicationGatewayBackendAddressPools&&n.properties().applicationGatewayBackendAddressPools();return t&&t.length>0?t:null},r.getInboundNatRuleIds=function(n){var t=n&&n.properties&&n.properties()&&n.properties().loadBalancerInboundNatRules&&n.properties().loadBalancerInboundNatRules();return t&&t.length>0?t:null},r.getPublicIpAddress=function(n){return n&&n.properties&&n.properties()&&n.properties().publicIPAddress&&n.properties().publicIPAddress()},r.getPublicIpAddressId=function(n){var t=r.getPublicIpAddress(n);return t&&t.id&&t.id()},r.getPublicIpAddressName=function(n){var t=r.getPublicIpAddress(n);return t&&t.name&&t.name()},r.getPublicIpAddressIp=function(n){var t=r.getPublicIpAddress(n);return t&&t.properties&&t.properties()&&t.properties().ipAddress&&t.properties().ipAddress(
)},r.getPrivateIPAddressVersion=function(n){return n&&n.properties&&n.properties()&&n.properties().privateIPAddressVersion&&n.properties().privateIPAddressVersion()},r.getPublicIPAddressVersion=function(n){var t=r.getPublicIpAddress(n);return t&&t.properties&&t.properties()&&t.properties().publicIPAddressVersion&&t.properties().publicIPAddressVersion()},r.getPublicIpAddressAllocationMethod=function(n){var t=r.getPublicIpAddress(n);return t&&t.properties&&t.properties()&&t.properties().publicIPAllocationMethod&&t.properties().publicIPAllocationMethod()},r.getNetworkSecurityGroupId=function(n){var t=r.getNetworkSecurityGroup(n);return t&&t.id&&t.id()},r.getNetworkSecurityGroup=function(n){return n&&n.properties&&n.properties()&&n.properties().networkSecurityGroup&&n.properties().networkSecurityGroup()},r.getVirtualMachineId=function(n){var t=n&&n.properties&&n.properties()&&n.properties().virtualMachine&&n.properties().virtualMachine()&&n.properties().virtualMachine().id&&n.properties().
virtualMachine().id();return t?t:null},r.getNetworkInterfaceDnsServers=function(n){var t=r.getNetworkInterfaceDnsSettings(n),i=t&&t.dnsServers&&t.dnsServers();return i&&i.length>0?i:null},r.getNetworkInterfaceAppliedDnsServers=function(n){var t=r.getNetworkInterfaceDnsSettings(n),i=t&&t.appliedDnsServers&&t.appliedDnsServers();return i&&i.length>0?i:null},r.getNetworkInterfaceDnsSettings=function(n){return n&&n.properties&&n.properties()&&n.properties().dnsSettings&&n.properties().dnsSettings()},r.getProvisioningState=function(n){return n&&n.properties&&n.properties()&&n.properties().provisioningState&&n.properties().provisioningState()},r.stripExpandedProperties=function(n){var u=r.getNetworkSecurityGroup(n),t;u&&i.NetworkSecurityGroup.stripToId(u);t=r.getIpConfigurations(n);t&&t.forEach((function(n){var t=r.getPublicIpAddress(n);t&&i.PublicIpAddress.stripToId(t)}))},r.stripToId=function(n){n.name&&delete n.name;n.properties&&delete n.properties;n.type&&delete n.type;n.location&&delete n.
location},r.normalizeNetworkInterfaceResponse=function(n,t,u){if(n&&(n.id=n.id||null,t)){n.name=n.name||null;n.location=n.location||null;n.type=n.type||null;n.properties.provisioningState=n.properties.provisioningState||null;n.properties.resourceGuid=n.properties.resourceGuid||null;n.properties.macAddress=n.properties.macAddress||null;MsPortalFx.isNullOrUndefined(n.properties.primary)&&(n.properties.primary=null);MsPortalFx.isNullOrUndefined(n.properties.enableIPForwarding)&&(n.properties.enableIPForwarding=null);n.properties.virtualMachine?n.properties.virtualMachine.id=n.properties.virtualMachine.id||null:n.properties.virtualMachine=null;n.properties.networkSecurityGroup?i.NetworkSecurityGroup.normalizeNetworkSecurityGroup(n.properties.networkSecurityGroup,u,!1):n.properties.networkSecurityGroup=null;n.properties.dnsSettings?(n.properties.dnsSettings.dnsServers=n.properties.dnsSettings.dnsServers||[],n.properties.dnsSettings.appliedDnsServers=n.properties.dnsSettings.appliedDnsServers||
[]):n.properties.dnsSettings=null;var f=n.properties.ipConfigurations;f&&Array.isArray(f)&&f.length>0?f.forEach((function(n){r._normalizeIpConfigurationResponse(n,u)})):n.properties.ipConfigurations=[]}},r._normalizeIpConfigurationResponse=function(n,t){n.properties.provisioningState=n.properties.provisioningState||null;n.properties.privateIPAddress=n.properties.privateIPAddress||null;n.properties.privateIPAllocationMethod=n.properties.privateIPAllocationMethod||null;n.properties.loadBalancerBackendAddressPools=n.properties.loadBalancerBackendAddressPools||[];n.properties.applicationGatewayBackendAddressPools=n.properties.applicationGatewayBackendAddressPools||[];n.properties.loadBalancerInboundNatRules=n.properties.loadBalancerInboundNatRules||[];MsPortalFx.isNullOrUndefined(n.properties.primary)&&(n.properties.primary=null);n.properties.subnet?n.properties.subnet.id=n.properties.subnet.id||null:n.properties.subnet=null;n.properties.publicIPAddress?i.PublicIpAddress.normalizePublicIp(n.
properties.publicIPAddress,t):n.properties.publicIPAddress=null},r.IPv4VersionType="IPv4",r._networkInterfaceIpConfigResourceType="Microsoft.Network/networkInterfaces/ipConfigurations",r.metadata={name:"NetworkExtension.Models.NetworkInterface",properties:{id:null,name:null,location:null,type:null,properties:{itemType:f.metadata.name}},entityType:!0,idProperties:["id"]},r})(t.IdReference);i.NetworkInterface=o;MsPortalFx.Data.Metadata.setTypeMetadata(o.metadata.name,o.metadata)})(i=t.Network||(t.Network={}))})(t=n.DataModels||(n.DataModels={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(t){var i;(function(i){"use strict";var r,u,f,o,e,s,h;(function(n){n[n.Tcp=0]="Tcp";n[n.Udp=1]="Udp";n[n.Any=2]="Any"})(i.NetworkSecurityGroupNetworkProtocol||(i.NetworkSecurityGroupNetworkProtocol={}));r=i.NetworkSecurityGroupNetworkProtocol,(function(n){n[n.Allow=0]="Allow";n[n.Deny=1]="Deny"})(i.NetworkSecurityGroupAccess||(i.NetworkSecurityGroupAccess={}));u=i.NetworkSecurityGroupAccess,
(function(n){n[n.Inbound=0]="Inbound";n[n.Outbound=1]="Outbound"})(i.NetworkSecurityGroupDirection||(i.NetworkSecurityGroupDirection={}));f=i.NetworkSecurityGroupDirection;o=(function(){function n(){this.provisioningState=ko.observable();this.description=ko.observable();this.protocol=ko.observable();this.sourcePortRange=ko.observable();this.sourceAddressPrefix=ko.observable();this.destinationPortRange=ko.observable();this.destinationAddressPrefix=ko.observable();this.access=ko.observable();this.priority=ko.observable();this.direction=ko.observable()}return n.metadata={name:"NetworkExtension.Models.NetworkSecurityRulePropertiesArm",properties:{provisioningState:null,description:null,protocol:null,sourcePortRange:null,sourceAddressPrefix:null,destinationPortRange:null,destinationAddressPrefix:null,access:null,priority:null,direction:null},entityType:!0},n})();i.NetworkSecurityRuleProperties=o;MsPortalFx.Data.Metadata.setTypeMetadata(o.metadata.name,o.metadata);e=(function(){function t(){this.
id=ko.observable();this.name=ko.observable();this.properties=ko.observable()}return t.getProvisioningState=function(n){return n&&n.properties&&n.properties()&&n.properties().provisioningState&&n.properties().provisioningState()},t.getProtocol=function(n){var i=n&&n.properties&&n.properties()&&n.properties().protocol&&n.properties().protocol();return i?t.getProtocolType(i):null},t.getAccess=function(n){var i=n&&n.properties&&n.properties()&&n.properties().access&&n.properties().access();return i?t.getAccessType(i):null},t.getDirection=function(n){var i=n&&n.properties&&n.properties()&&n.properties().direction&&n.properties().direction();return i?t.getDirectionType(i):null},t.getDescription=function(n){return n&&n.properties&&n.properties()&&n.properties().description&&n.properties().description()},t.getSourcePortRange=function(n){return n&&n.properties&&n.properties()&&n.properties().sourcePortRange&&n.properties().sourcePortRange()},t.getSourceAddressPrefix=function(n){return n&&n.properties&&
n.properties()&&n.properties().sourceAddressPrefix&&n.properties().sourceAddressPrefix()},t.getDestinationPortRange=function(n){return n&&n.properties&&n.properties()&&n.properties().destinationPortRange&&n.properties().destinationPortRange()},t.getPriority=function(n){return n&&n.properties&&n.properties()&&n.properties().priority&&n.properties().priority()},t.getDestinationAddressPrefix=function(n){return n&&n.properties&&n.properties()&&n.properties().destinationAddressPrefix&&n.properties().destinationAddressPrefix()},t.getIsNonDefaultRule=function(i){var u=!1,r;return i?(r=t.getPriority(i),MsPortalFx.isNullOrUndefined(r)?Diagnostics.Log.writeEntry(1,"NetworkSecurityGroup.getIsNonDefaultRule","Priority of the rule with id {0} was null or undefined, this is unexpected.".format(i.id())):u=r<=n.Constants.SecurityRuleLimits.priorityMaxValue):Diagnostics.Log.writeEntry(1,"NetworkSecurityGroup.getIsNonDefaultRule","Rule passed to this function was null."),u},t.getProtocolString=function(
t){if(!MsPortalFx.isNullOrUndefined(t)){if(t===r.Tcp)return n.Constants.ProtocolNames.TCP;if(t===r.Udp)return n.Constants.ProtocolNames.UDP;if(t===r.Any)return n.Constants.ProtocolNames.Asterisk}return Diagnostics.Log.writeEntry(1,"NetworkSecurityGroup.getProtocolString","Protocol passed to this function was null."),null},t.getProtocolType=function(t){if(t){if(StringEx.equals(t,r[r.Tcp],StringComparison.IgnoreCase))return r.Tcp;if(StringEx.equals(t,r[r.Udp],StringComparison.IgnoreCase))return r.Udp;if(StringEx.equals(t,n.Constants.ProtocolNames.Any,StringComparison.IgnoreCase)||StringEx.equals(t,"*",StringComparison.IgnoreCase))return r.Any;Diagnostics.Log.writeEntry(1,"NetworkSecurityGroup.getProtocolType","Unexpected protocol type. Type was: {0}".format(t))}return null},t.getDirectionString=function(t){if(!MsPortalFx.isNullOrUndefined(t)){if(t===f.Inbound)return n.Constants.SecurityRuleDirection.Inbound;if(t===f.Outbound)return n.Constants.SecurityRuleDirection.Outbound}return Diagnostics.
Log.writeEntry(1,"NetworkSecurityGroup.getDirectionDisplayName","Protocol passed to this function was null."),null},t.getDirectionType=function(n){if(n){if(StringEx.equals(n,f[f.Inbound],StringComparison.IgnoreCase))return f.Inbound;if(StringEx.equals(n,f[f.Outbound],StringComparison.IgnoreCase))return f.Outbound;Diagnostics.Log.writeEntry(1,"NetworkSecurityGroup.getDirectionType","Unexpected protocol type. Type was: {0}".format(n))}return null},t.getAccessString=function(t){if(!MsPortalFx.isNullOrUndefined(t)){if(t===u.Allow)return n.Constants.SecurityRuleAccess.Allow;if(t===u.Deny)return n.Constants.SecurityRuleAccess.Deny}return Diagnostics.Log.writeEntry(1,"NetworkSecurityGroup.getAccessDisplayName","Protocol passed to this function was null."),null},t.getAccessType=function(n){if(n){if(StringEx.equals(n,u[u.Allow],StringComparison.IgnoreCase))return u.Allow;if(StringEx.equals(n,u[u.Deny],StringComparison.IgnoreCase))return u.Deny;Diagnostics.Log.writeEntry(1,"NetworkSecurityGroup.getAccessType",
"Unexpected protocol type. Type was: {0}".format(n))}return null},t.normalizeNetworkSecurityRule=function(n){n.id=n.id||null;n.name=n.name||null;n.properties.provisioningState=n.properties.provisioningState||null;n.properties.description=n.properties.description||null;n.properties.sourcePortRange=n.properties.sourcePortRange||null;n.properties.sourceAddressPrefix=n.properties.sourceAddressPrefix||null;n.properties.destinationPortRange=n.properties.destinationPortRange||null;n.properties.destinationAddressPrefix=n.properties.destinationAddressPrefix||null;n.properties.protocol=n.properties.protocol||null;n.properties.access=n.properties.access||null;n.properties.direction=n.properties.direction||null;MsPortalFx.isNullOrUndefined(n.properties.priority)&&(n.properties.priority=null)},t.metadata={name:"NetworkExtension.Models.NetworkSecurityRuleArm",properties:{id:null,name:null,properties:{itemType:o.metadata.name}},entityType:!1,idProperties:["id"]},t})();i.NetworkSecurityRule=e;MsPortalFx.
Data.Metadata.setTypeMetadata(e.metadata.name,e.metadata);s=(function(){function n(){this.provisioningState=ko.observable();this.resourceGuid=ko.observable();this.defaultSecurityRules=ko.observableArray();this.securityRules=ko.observableArray();this.networkInterfaces=ko.observableArray();this.subnets=ko.observableArray()}return n.metadata={name:"NetworkExtension.Models.NetworkSecurityGroupPropertiesArm",properties:{provisioningState:null,resourceGuid:null,defaultSecurityRules:{itemType:e.metadata.name,isArray:!0},securityRules:{itemType:e.metadata.name,isArray:!0},networkInterfaces:{itemType:t.IdReference.metadata.name,isArray:!0},subnets:{itemType:i.Subnet.metadata.name,isArray:!0}},entityType:!0},n})();i.NetworkSecurityGroupProperties=s;MsPortalFx.Data.Metadata.setTypeMetadata(s.metadata.name,s.metadata);h=(function(n){function t(){n.apply(this,arguments);this.name=ko.observable();this.type=ko.observable();this.location=ko.observable();this.properties=ko.observable()}return __extends(t,
n),t.getProvisioningState=function(n){return n&&n.properties&&n.properties()&&n.properties().provisioningState&&n.properties().provisioningState()},t.getDefaultSecurityRules=function(n){var t=n&&n.properties&&n.properties()&&n.properties().defaultSecurityRules&&n.properties().defaultSecurityRules();return t&&t.length>0?t:null},t.getSecurityRules=function(n){var t=n&&n.properties&&n.properties()&&n.properties().securityRules&&n.properties().securityRules();return t&&t.length>0?t:null},t.getAllRules=function(n){var i=[],u=t.getSecurityRules(n),r;return u&&(i=u),r=t.getDefaultSecurityRules(n),r&&(i=i.concat(r)),i},t.getNetworkInterfaces=function(n){var t=n&&n.properties&&n.properties()&&n.properties().networkInterfaces&&n.properties().networkInterfaces();return t&&t.length>0?t:null},t.getSubnets=function(n){var t=n&&n.properties&&n.properties()&&n.properties().subnets&&n.properties().subnets();return t&&t.length>0?t:null},t.stripExpandedProperties=function(n){var u=t.getSubnets(n),r;u&&u.
forEach((function(n){i.Subnet.stripToId(n)}));r=t.getNetworkInterfaces(n);r&&r.forEach((function(n){i.NetworkInterface.stripToId(n)}))},t.stripToId=function(n){n.name&&delete n.name;n.type&&delete n.type;n.properties&&delete n.properties;n.location&&delete n.location},t.normalizeNetworkSecurityGroup=function(n,t,r){var f,o,s,u;n&&(n.id=n.id||null,t&&(n.name=n.name||null,n.type=n.type||null,n.location=n.location||null,n.properties.provisioningState=n.properties.provisioningState||null,n.properties.resourceGuid=n.properties.resourceGuid||null,f=n.properties.defaultSecurityRules,f&&Array.isArray(f)&&f.length>0?f.forEach((function(n){e.normalizeNetworkSecurityRule(n)})):n.properties.defaultSecurityRules=[],o=n.properties.securityRules,o&&Array.isArray(o)&&o.length>0?o.forEach((function(n){e.normalizeNetworkSecurityRule(n)})):n.properties.securityRules=[],s=n.properties.networkInterfaces,s&&Array.isArray(s)&&s.length>0?s.forEach((function(n){i.NetworkInterface.normalizeNetworkInterfaceResponse(n,r,!1)})
):n.properties.networkInterfaces=[],u=n.properties.subnets,u&&Array.isArray(u)&&u.length>0?u.forEach((function(){i.Subnet.normalizeSubnetResponse(u,r,!1)})):n.properties.subnets=[]))},t.metadata={name:"NetworkExtension.Models.NetworkSecurityGroupArm",properties:{id:null,name:null,type:null,location:null,properties:{itemType:s.metadata.name}},entityType:!0,idProperties:["id"]},t})(t.IdReference);i.NetworkSecurityGroup=h;MsPortalFx.Data.Metadata.setTypeMetadata(h.metadata.name,h.metadata)})(i=t.Network||(t.Network={}))})(t=n.DataModels||(n.DataModels={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(t){var i;(function(i){"use strict";var f=(function(){function n(){this.addressPrefixes=ko.observableArray()}return n.metadata={name:"NetworkExtension.Models.VirtualNetworkAddressSpace",properties:{addressPrefixes:{isArray:!0}},entityType:!0},n})(),e,u,o,s,r,h;i.VirtualNetworkAddressSpace=f;MsPortalFx.Data.Metadata.setTypeMetadata(f.metadata.name,f.metadata);e=(function(){function n(
){this.provisioningState=ko.observable();this.peeringState=ko.observable();this.remoteVirtualNetwork=ko.observable();this.allowVirtualNetworkAccess=ko.observable();this.allowForwardedTraffic=ko.observable();this.allowGatewayTransit=ko.observable();this.useRemoteGateways=ko.observable();this.remoteAddressSpace=ko.observable();this.remoteGateways=ko.observableArray()}return n.metadata={name:"NetworkExtension.Models.VirtualNetworkPeeringProperties",properties:{provisioningState:null,peeringState:null,remoteVirtualNetwork:{itemType:t.IdReference.metadata.name},allowVirtualNetworkAccess:null,allowForwardedTraffic:null,allowGatewayTransit:null,useRemoteGateways:null,remoteAddressSpace:{itemType:f.metadata.name},remoteGateways:{itemType:t.IdReference.metadata.name,isArray:!0}},entityType:!0},n})();i.VirtualNetworkPeeringProperties=e;MsPortalFx.Data.Metadata.setTypeMetadata(e.metadata.name,e.metadata);u=(function(){function n(){this.id=ko.observable();this.name=ko.observable();this.properties=ko.
observable()}return n.normalizeVirtualNetworkPeeringResponse=function(n){n.id=n.id||null;n.name=n.name||null;n.properties.provisioningState=n.properties.provisioningState||null;n.properties.peeringState=n.properties.peeringState||null;n.properties.remoteVirtualNetwork?n.properties.remoteVirtualNetwork.id=n.properties.remoteVirtualNetwork.id||null:n.properties.remoteVirtualNetwork=null;MsPortalFx.isNullOrUndefined(n.properties.allowVirtualNetworkAccess)&&(n.properties.allowVirtualNetworkAccess=null);MsPortalFx.isNullOrUndefined(n.properties.allowForwardedTraffic)&&(n.properties.allowForwardedTraffic=null);MsPortalFx.isNullOrUndefined(n.properties.allowGatewayTransit)&&(n.properties.allowGatewayTransit=null);MsPortalFx.isNullOrUndefined(n.properties.useRemoteGateways)&&(n.properties.useRemoteGateways=null);n.properties.remoteAddressSpace?n.properties.remoteAddressSpace.addressPrefixes=n.properties.remoteAddressSpace.addressPrefixes||[]:n.properties.remoteAddressSpace=null;var t=n.properties.
remoteGateways;t&&Array.isArray(t)&&t.length>0?t.forEach((function(n){n.id=n.id||null})):n.properties.remoteGateways=[]},n.removeReadOnlyProperties=function(n){n&&n.properties&&n.properties()&&(delete n.properties().remoteAddressSpace,delete n.properties().remoteGateways,delete n.properties().peeringState,delete n.properties().provisioningState)},n.metadata={name:"NetworkExtension.Models.VirtualNetworkPeering",properties:{id:null,name:null,properties:{itemType:e.metadata.name}},entityType:!0,idProperties:["id"],hasGloballyUniqueId:!0},n})();i.VirtualNetworkPeering=u;MsPortalFx.Data.Metadata.setTypeMetadata(u.metadata.name,u.metadata);o=(function(){function n(){this.dnsServers=ko.observableArray()}return n.metadata={name:"NetworkExtension.Models.VirtualNetworkDhcpOptions",properties:{dnsServers:{isArray:!0}},entityType:!0},n})();i.VirtualNetworkDhcpOptions=o;MsPortalFx.Data.Metadata.setTypeMetadata(o.metadata.name,o.metadata);s=(function(){function n(){this.provisioningState=ko.observable();this.
resourceGuid=ko.observable();this.addressSpace=ko.observable();this.dhcpOptions=ko.observable();this.subnets=ko.observableArray();this.virtualNetworkPeerings=ko.observableArray()}return n.metadata={name:"NetworkExtension.Models.VirtualNetworkProperties",properties:{provisioningState:null,resourceGuid:null,addressSpace:{itemType:f.metadata.name},dhcpOptions:{itemType:o.metadata.name},subnets:{itemType:i.Subnet.metadata.name,isArray:!0},virtualNetworkPeerings:{itemType:u.metadata.name,isArray:!0}},entityType:!0},n})();i.VirtualNetworkProperties=s;MsPortalFx.Data.Metadata.setTypeMetadata(s.metadata.name,s.metadata);r=(function(){function t(){this.id=ko.observable();this.name=ko.observable();this.location=ko.observable();this.type=ko.observable();this.properties=ko.observable()}return t.getProvisioningState=function(n){return n&&n.properties&&n.properties()&&n.properties().provisioningState&&n.properties().provisioningState()},t.getAddressSpacePrefixes=function(n){var t=n&&n.properties&&n.properties(
)&&n.properties().addressSpace&&n.properties().addressSpace()&&n.properties().addressSpace().addressPrefixes&&n.properties().addressSpace().addressPrefixes();return t&&t.length>0?t:null},t.getDhcpOptions=function(n){return n&&n.properties&&n.properties()&&n.properties().dhcpOptions&&n.properties().dhcpOptions()},t.getDnsServers=function(n){var i=t.getDhcpOptions(n),r=i&&i.dnsServers&&i.dnsServers();return r&&r.length>0?r:null},t.getSubnetsObservable=function(n){return n&&n.properties&&n.properties()&&n.properties().subnets},t.getSubnets=function(n){var r=t.getSubnetsObservable(n),i;return r&&(i=r(),i&&i.length>0)?i:null},t.getAllNetworkInterfaceIds=function(r){var u=[],f=t.getSubnets(r);return f&&f.forEach((function(t){var r=i.Subnet.getIpConfigurations(t);r&&r.forEach((function(t){var r=t&&t.id&&t.id(),i,f;r&&(i=FxResourceTypes.parseResourceDescriptor(r),i.types.length>0&&StringEx.equals(i.types[0],n.Constants.NetworkingTypes.networkInterface,StringComparison.IgnoreCase)&&(f=FxResourceTypes.
buildParentResourceIdFromDescriptor(i),u.push(f)))}))})),u=MsPortalFx.unique(u,(function(n,t){return StringEx.equals(n,t,StringComparison.IgnoreCase)}))},t.getGatewaySubnet=function(i){var r=t.getSubnets(i);return r?r.first((function(t){return StringEx.equals(t.name(),n.Constants.GatewayConstants.virtualNetworkGatewaySubnetName,StringComparison.IgnoreCase)})):null},t.getSubnetById=function(n,i){var r=t.getSubnets(n);return r?MsPortalFx.find(r,(function(n){return StringEx.equals(n.id(),i,StringComparison.IgnoreCase)})):null},t.getSubnetByName=function(n,i){var r=t.getSubnets(n);return r?MsPortalFx.find(r,(function(n){return StringEx.equals(n.name(),i,StringComparison.IgnoreCase)})):null},t.getPeeringsObservable=function(n){return n&&n.properties&&n.properties()&&n.properties().virtualNetworkPeerings},t.getPeerings=function(n){var r=t.getPeeringsObservable(n),i;return r&&(i=r(),i&&i.length>0)?i:null},t.getPeeringState=function(n){return n&&n.properties&&n.properties()&&n.properties().peeringState&&
n.properties().peeringState()},t.getPeeringProvisioningState=function(n){return n&&n.properties&&n.properties()&&n.properties().provisioningState&&n.properties().provisioningState()},t.getPeeringRemoteVirtualNetworkId=function(n){return n&&n.properties&&n.properties()&&n.properties().remoteVirtualNetwork&&n.properties().remoteVirtualNetwork()&&n.properties().remoteVirtualNetwork().id&&n.properties().remoteVirtualNetwork().id()},t.getPeeringRemoteAddressSpacePrefixes=function(n){var t=n&&n.properties&&n.properties()&&n.properties().remoteAddressSpace&&n.properties().remoteAddressSpace()&&n.properties().remoteAddressSpace().addressPrefixes&&n.properties().remoteAddressSpace().addressPrefixes();return t&&t.length>0?t:null},t.getPeeringAllowsGatewayTransit=function(n){return n&&n.properties&&n.properties()&&n.properties().allowGatewayTransit&&n.properties().allowGatewayTransit()},t.getPeeringUseRemoteGateways=function(n){return n&&n.properties&&n.properties()&&n.properties().useRemoteGateways&&
n.properties().useRemoteGateways()},t.virtualNetworkHasGateway=function(r){var f=!1,e=t.getGatewaySubnet(r),u;return e&&(u=i.Subnet.getIpConfigurations(e),u&&u.forEach((function(t){var i=FxResourceTypes.parseResourceDescriptor(t.id());if(StringEx.equals(i.types[0],n.Constants.NetworkingTypes.virtualNetworkGateway,StringComparison.IgnoreCase)){f=!0;return}}))),f},t.stripExpandedProperties=function(n){var u=t.getPeeringsObservable(n),r;u&&delete n.properties().virtualNetworkPeerings;r=t.getSubnets(n);r&&r.forEach((function(n){i.Subnet.stripExpandedProperties(n)}))},t.normalizeVirtualNetworkResponse=function(t,r){var f,e;t.id=t.id||null;t.name=t.name||null;t.location=t.location||null;t.type=t.type||null;t.properties.provisioningState=t.properties.provisioningState||null;f=t.properties.subnets;f&&Array.isArray(f)&&f.length>0?f.forEach((function(n){i.Subnet.normalizeSubnetResponse(n,!0,r)})):t.properties.subnets=[];t.properties.addressSpace?t.properties.addressSpace.addressPrefixes=t.properties.addressSpace.
addressPrefixes||[]:t.properties.addressSpace=null;StringEx.equals(n.Constants.NetworkingTypesWithProvider.virtualNetwork,t.type,StringComparison.IgnoreCase)?(t.properties.resourceGuid=t.properties.resourceGuid||null,t.properties.dhcpOptions?t.properties.dhcpOptions.dnsServers=t.properties.dhcpOptions.dnsServers||[]:t.properties.dhcpOptions=null,e=t.properties.virtualNetworkPeerings,e&&Array.isArray(e)&&e.length>0?e.forEach((function(n){u.normalizeVirtualNetworkPeeringResponse(n)})):t.properties.virtualNetworkPeerings=[]):(t.properties.siteId=t.properties.siteId||null,t.properties.status=t.properties.status||null,MsPortalFx.isNullOrUndefined(t.properties.inUse)&&(t.properties.inUse=null))},t.normalizeVirtualNetworkResponseNoExpand=function(n){t.normalizeVirtualNetworkResponse(n,!1)},t.metadata={name:"NetworkExtension.Models.VirtualNetwork",properties:{id:null,name:null,location:null,type:null,properties:{itemType:s.metadata.name}},entityType:!0,idProperties:["id"]},t})();i.VirtualNetwork=
r;MsPortalFx.Data.Metadata.setTypeMetadata(r.metadata.name,r.metadata);h=(function(){function t(){}return t.isArmVirtualNetwork=function(t){return StringEx.equals(n.Constants.NetworkingTypesWithProvider.virtualNetwork,t.type(),StringComparison.IgnoreCase)},t.getAddressSpacePrefixes=function(n){return t.isArmVirtualNetwork(n)?r.getAddressSpacePrefixes(n):i.VirtualNetworkClassic.getAddressSpacePrefixes(n)},t.getSubnets=function(n){return t.isArmVirtualNetwork(n)?r.getSubnets(n):i.VirtualNetworkClassic.getSubnets(n)},t.getProvisioningState=function(n){return t.isArmVirtualNetwork(n)?r.getProvisioningState(n):i.VirtualNetworkClassic.getProvisioningState(n)},t})();i.VirtualNetworkCombined=h})(i=t.Network||(t.Network={}))})(t=n.DataModels||(n.DataModels={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(n){"use strict";var t=(function(){function n(){}return n.metadata={name:"ExtensionCore.DataModels.ProviderResource",properties:{apiVersions:{isArray:!0},locations:{isArray:!0},
resourceType:null},entityType:!0,idProperties:["resourceType"]},n})(),i;n.ProviderResource=t;MsPortalFx.Data.Metadata.setTypeMetadata(t.metadata.name,t.metadata);i=(function(){function n(){}return n.metadata={name:"ExtensionCore.DataModels.Provider",properties:{id:null,namespace:null,registrationState:null,resourceTypes:{itemType:t.metadata.name,isArray:!0}},entityType:!0,hasGloballyUniqueId:!0,idProperties:["id"]},n})();n.Provider=i;MsPortalFx.Data.Metadata.setTypeMetadata(i.metadata.name,i.metadata)})(t=n.DataModels||(n.DataModels={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(n){"use strict";var t=(function(){function n(){this.value=ko.observable();this.localizedValue=ko.observable()}return n.metadata={name:"ExtensionCore.DataModels.LocalizableValue",properties:{value:null,localizedValue:null},entityType:!0},n})(),i,r;n.LocalizableValue=t;MsPortalFx.Data.Metadata.setTypeMetadata(t.metadata.name,t.metadata);i=(function(){function n(){this.id=ko.observable();this.caller=
ko.observable();this.channels=ko.observable();this.level=ko.observable();this.eventTimestamp=ko.observable();this.eventName=ko.observable();this.operationName=ko.observable();this.status=ko.observable()}return n.metadata={name:"ExtensionCore.DataModels.ManagementEvent",properties:{id:null,caller:null,channels:null,level:null,eventTimestamp:null,eventName:{itemType:t.metadata.name},operationName:{itemType:t.metadata.name},status:{itemType:t.metadata.name}},entityType:!0,idProperties:["id"]},n})();n.ManagementEvent=i;MsPortalFx.Data.Metadata.setTypeMetadata(i.metadata.name,i.metadata);r=(function(){function n(){this.value=ko.observableArray()}return n.metadata={name:"ExtensionCore.DataModels.ManagementEvents",properties:{value:{itemType:i.metadata.name,isArray:!0}},entityType:!1},n})();n.ManagementEvents=r;MsPortalFx.Data.Metadata.setTypeMetadata(r.metadata.name,r.metadata)})(t=n.DataModels||(n.DataModels={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(n){"use strict";var
r,t,i;(function(n){n[n.networkSecurityGroups=0]="networkSecurityGroups";n[n.cores=1]="cores";n[n.virtualNetworks=2]="virtualNetworks";n[n.publicIPAddresses=3]="publicIPAddresses";n[n.staticPublicIPAddresses=4]="staticPublicIPAddresses";n[n.networkInterfaces=5]="networkInterfaces";n[n.routeTables=6]="routeTables";n[n.localNetworkGateways=7]="localNetworkGateways";n[n.expressrouteCircuits=8]="expressrouteCircuits";n[n.applicationGateways=9]="applicationGateways"})(n.UsagesType||(n.UsagesType={}));r=n.UsagesType;t=(function(){function n(){}return n.metadata={name:"ExtensionCore.DataModels.UsageNameResource",properties:{localizedValue:null,value:null},entityType:!1},n})();n.UsageNameResource=t;MsPortalFx.Data.Metadata.setTypeMetadata(t.metadata.name,t.metadata);i=(function(){function n(){}return n.metadata={name:t.metadata.name,properties:{currentValue:null,limit:null,unit:null,name:{itemType:t.metadata.name}},entityType:!1},n})();n.Usages=i;MsPortalFx.Data.Metadata.setTypeMetadata(i.metadata.
name,i.metadata)})(t=n.DataModels||(n.DataModels={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(n){var t;(function(n){var t;(function(){"use strict"})(t=n.ArmTemplate||(n.ArmTemplate={}))})(t=n.DataModels||(n.DataModels={}))})(t=n.Marketplace||(n.Marketplace={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(n){var t;(function(n){"use strict";var t=(function(){function n(){this.name=ko.observable();this.addressPrefix=ko.observable()}return n.getAddressPrefix=function(n){return n&&n.addressPrefix&&n.addressPrefix()},n.metadata={name:"NetworkExtension.Models.SubnetClassic",properties:{name:null,addressPrefix:null},entityType:!0,idProperties:["id"]},n})();n.SubnetClassic=t;MsPortalFx.Data.Metadata.setTypeMetadata(t.metadata.name,t.metadata)})(t=n.Network||(n.Network={}))})(t=n.DataModels||(n.DataModels={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(n){var t;(function(n){"use strict";var i=(function(){function n(){this.addressPrefixes=
ko.observableArray()}return n.metadata={name:"NetworkExtension.Models.VirtualNetworkClassicAddressSpace",properties:{addressPrefixes:null},entityType:!0},n})(),t,r;n.VirtualNetworkClassicAddressSpace=i;MsPortalFx.Data.Metadata.setTypeMetadata(i.metadata.name,i.metadata);t=(function(){function t(){this.addressSpace=ko.observable();this.inUse=ko.observable();this.provisioningState=ko.observable();this.siteId=ko.observable();this.subnets=ko.observableArray()}return t.metadata={name:"NetworkExtension.Models.VirtualNetworkClassicProperties",properties:{addressSpace:{itemType:i.metadata.name},inUse:null,provisioningState:null,siteId:null,status:null,subnets:{itemType:n.SubnetClassic.metadata.name,isArray:!0}},entityType:!0},t})();n.VirtualNetworkClassicProperties=t;MsPortalFx.Data.Metadata.setTypeMetadata(t.metadata.name,t.metadata);r=(function(){function n(){this.id=ko.observable();this.name=ko.observable();this.location=ko.observable();this.type=ko.observable();this.properties=ko.observable()}
return n.getAddressSpacePrefixes=function(n){var t=n.properties()&&n.properties().addressSpace&&n.properties().addressSpace()&&n.properties().addressSpace().addressPrefixes&&n.properties().addressSpace().addressPrefixes();return t&&t.length>0?t:null},n.getProvisioningState=function(n){return n&&n.properties&&n.properties()&&n.properties().provisioningState&&n.properties().provisioningState()},n.getSubnets=function(n){var t=n&&n.properties()&&n.properties().subnets&&n.properties().subnets();return t&&t.length>0?t:null},n.metadata={name:"NetworkExtension.Models.VirtualNetworkClassic",properties:{id:null,name:null,location:null,type:null,properties:{itemType:t.metadata.name}},entityType:!0,idProperties:["id"]},n})();n.VirtualNetworkClassic=r;MsPortalFx.Data.Metadata.setTypeMetadata(r.metadata.name,r.metadata)})(t=n.Network||(n.Network={}))})(t=n.DataModels||(n.DataModels={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(t){function i(i,r,u){n.Validation.Requires.Argument(
"subscriptionId",i).notNullOrEmpty();n.Validation.Requires.Argument("provider",r).notNullOrEmpty();n.Validation.Requires.Argument("feature",u).notNullOrEmpty();var f=n.Constants.PreviewFeature.statusUrl.format(i,r,u);return t.runOperationWithSettings({uri:f,type:"GET",contentType:"application/json"}).then((function(n){return n.properties.state})).catch((function(n){throw new Error("PreviewFeatureApi.getPreviewFeatureRegistrationStatus: failed to get feature status for uri: '{0}'. Reason: '{1}'.".format(f,FxImpl.Diagnostics.getLogFriendlyMessage(n)));}))}function r(t,r){n.Validation.Requires.Argument("resourceId",t).notNullOrEmpty();n.Validation.Requires.Argument("features",r).notNullOrEmpty();var f=FxResourceTypes.parseResourceDescriptor(t),u;return u=r.map((function(n){return i(f.subscription,n.featureProvider,n.featureId)})),Q.all(u).then((function(t){return t.some((function(t){return!StringEx.equals(n.Constants.FeatureRegistrationState.registered,t,StringComparison.IgnoreCase)}))}))}function u(
t,r){n.Validation.Requires.Argument("resourceId",t).notNullOrEmpty();n.Validation.Requires.Argument("feature",r).notNullOrEmpty();var u=FxResourceTypes.parseResourceDescriptor(t);return i(u.subscription,r.featureProvider,r.featureId)}function f(i,r,u,f,e){e===void 0&&(e=!1);n.Validation.Requires.Argument("assetTriplet",i).notNullOrEmpty();n.Validation.Requires.Argument("assetTriplet.assetId",i.assetId).notNullOrEmpty();n.Validation.Requires.Argument("feature",r).notNullOrEmpty();n.Validation.Requires.Argument("featureDisplayName",f).notNullOrEmpty();var o=FxResourceTypes.parseResourceDescriptor(i.assetId),s=!1,h=n.Constants.PreviewFeature.registerUrl.format(o.subscription,u,r),c=t.runOperationWithSettings({uri:h,type:"POST",contentType:"application/json"}).then((function(t){t&&t.properties&&t.properties.state&&(StringEx.equals(t.properties.state,n.Constants.FeatureRegistrationState.pending,StringComparison.IgnoreCase)||StringEx.equals(t.properties.state,n.Constants.FeatureRegistrationState.
registered,StringComparison.IgnoreCase)||StringEx.equals(t.properties.state,n.Constants.FeatureRegistrationState.registering,StringComparison.IgnoreCase))&&(s=!0)})).catch((function(n){throw new Error("PreviewFeatureApi.registerPreviewFeature: failed to register feature for uri: '{0}'. Reason: '{1}'.".format(h,FxImpl.Diagnostics.getLogFriendlyMessage(n)));})),l=new NotificationUtility.NotificationSettings(ClientResources.PreviewFeature.Notifications.Register.Success.title.format(o.subscription),ClientResources.PreviewFeature.Notifications.Register.Success.message.format(f,o.subscription),ClientResources.PreviewFeature.Notifications.Register.Failure.title.format(o.subscription),ClientResources.PreviewFeature.Notifications.Register.Failure.message.format(o.subscription),ClientResources.PreviewFeature.Notifications.Register.InProgress.title.format(o.subscription),ClientResources.PreviewFeature.Notifications.Register.InProgress.message.format(f,o.subscription),i);return NotificationUtility.trackArmOperationState(
l,c),c.then((function(){if(s&&e){var i=n.Constants.PreviewFeature.registerProviderUrl.format(o.subscription,o.provider);return t.runOperationWithSettings({uri:i,type:"POST",contentType:"application/json"}).then((function(){return s})).catch((function(n){throw new Error("PreviewFeatureApi.registerPreviewFeature: failed to re-register provider for uri: '{0}'. Reason: '{1}'.".format(i,FxImpl.Diagnostics.getLogFriendlyMessage(n)));}))}return s}))}t.getPreviewFeatureRegistrationStatus=i;t.isRegistrationRequired=r;t.getPreviewFeatureRegistrationStatusById=u;t.registerPreviewFeature=f})(t=n.ArmUtils||(n.ArmUtils={}))})(ExtensionCore||(ExtensionCore={}));PropertiesViewModels=MsPortalFx.ViewModels.Parts.Properties,(function(n){var t;(function(t){"use strict";function i(){return MsPortalFx.Azure.getSelectedSubscriptions().then((function(n){return n.map((function(n){return n.subscriptionId}))}))}function r(i,r,u,f){return t.getSubscriptionIdsAsync().then((function(t){return n.Data.defaultSupplyData(i,r,u,$.extend(
{},f,{SubscriptionIds:t}))}))}function u(n,t){var i=ko.observable(""),r=ko.observable({extension:"Microsoft_Azure_Billing",detailBlade:"BillingSubscriptionsBrowseBlade",detailBladeInputs:{id:n}});return MsPortalFx.Azure.getSubscriptionInfo(n).then((function(n){i(n.displayName)})),new MsPortalFx.ViewModels.Parts.Properties.OpenBladeProperty(t,i,r)}t.getSubscriptionIdsAsync=i;t.supplyDataWithSubscriptionIds=r;t.getSubscriptionProperty=u})(t=n.Csm||(n.Csm={}))})(ExtensionCore||(ExtensionCore={})),(function(n){n[n.IgnoreCase=0]="IgnoreCase"})(StringComparison||(StringComparison={}));StringEx=(function(){function n(){}return n.equals=function(n,t,i){return typeof n!="string"||typeof t!="string"?!1:(i===StringComparison.IgnoreCase&&(n=n.toUpperCase(),t=t.toUpperCase()),n===t)},n.isStringInArray=function(t,i,r){return typeof t!="string"||!Array.isArray(i)?!1:!!i.first((function(i){return n.equals(t,i,r)}))},n.startsWith=function(n,t,i){return typeof n!="string"||typeof t!="string"?!1:(i===StringComparison.
IgnoreCase&&(n=n.toUpperCase(),t=t.toUpperCase()),n.length>=t.length&&n.indexOf(t)===0)},n.endsWith=function(n,t,i){return typeof n!="string"||typeof t!="string"?!1:(i===StringComparison.IgnoreCase&&(n=n.toUpperCase(),t=t.toUpperCase()),n.length>=t.length&&n.indexOf(t,n.length-t.length)!==-1)},n.convertToStringMap=function(n){var t={};return n.split(",").forEach((function(n){var i=n.split(":");i.length===2&&(t[i[0]]=i[1])})),t},n})(),(function(n){var t;(function(n){function i(){var i="ExtensionCore.Resources",n=window,t;if(n.Resources&&n.Resources.getResources&&(t=n.Resources.getResources(i)),!t)throw new Error("Unable to find the resources for '"+i+"'.");return function(n){return t[n]}}var t=i(),r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot;(function(n){var i,r;n.preview=t("Enrollment_preview");n.learnMore=t("Enrollment_learnMore"),(function(n){n.thankYou=t("Enrollment_Description_thankYou");n.button=t("Enrollment_Description_button")})(i=n.Description||(n.Description={})),(function(
n){n.signUp=t("Enrollment_Button_signUp");n.approvalPending=t("Enrollment_Button_approvalPending")})(r=n.Button||(n.Button={}))})(r=n.Enrollment||(n.Enrollment={})),(function(n){n.standardDS5v2Promo=t("SpecPicker_standardDS5v2Promo");n.standardDS4v2Promo=t("SpecPicker_standardDS4v2Promo");n.standardDS3v2Promo=t("SpecPicker_standardDS3v2Promo");n.standardDS2v2Promo=t("SpecPicker_standardDS2v2Promo");n.standardDS14v2Promo=t("SpecPicker_standardDS14v2Promo");n.standardDS13v2Promo=t("SpecPicker_standardDS13v2Promo");n.standardDS12v2Promo=t("SpecPicker_standardDS12v2Promo");n.standardDS11v2Promo=t("SpecPicker_standardDS11v2Promo");n.standardD5v2Promo=t("SpecPicker_standardD5v2Promo");n.standardD4v2Promo=t("SpecPicker_standardD4v2Promo");n.standardD3v2Promo=t("SpecPicker_standardD3v2Promo");n.standardD2v2Promo=t("SpecPicker_standardD2v2Promo");n.standardD14v2Promo=t("SpecPicker_standardD14v2Promo");n.standardD13v2Promo=t("SpecPicker_standardD13v2Promo");n.standardD12v2Promo=t("SpecPicker_standardD12v2Promo");
n.standardD11v2Promo=t("SpecPicker_standardD11v2Promo");n.standardA8v2=t("SpecPicker_standardA8v2");n.standardA8mv2=t("SpecPicker_standardA8mv2");n.standardA4v2=t("SpecPicker_standardA4v2");n.standardA4mv2=t("SpecPicker_standardA4mv2");n.standardA2v2=t("SpecPicker_standardA2v2");n.standardA2mv2=t("SpecPicker_standardA2mv2");n.standardA1v2=t("SpecPicker_standardA1v2");n.standardL8s=t("SpecPicker_standardL8s");n.standardL4s=t("SpecPicker_standardL4s");n.standardL32s=t("SpecPicker_standardL32s");n.standardL16s=t("SpecPicker_standardL16s");n.standardNV6=t("SpecPicker_standardNV6");n.standardNV24=t("SpecPicker_standardNV24");n.standardNV12=t("SpecPicker_standardNV12");n.standardNC6=t("SpecPicker_standardNC6");n.standardNC24r=t("SpecPicker_standardNC24r");n.standardNC24=t("SpecPicker_standardNC24");n.standardNC12=t("SpecPicker_standardNC12");n.standardH8m=t("SpecPicker_standardH8m");n.standardH8=t("SpecPicker_standardH8");n.standardH16r=t("SpecPicker_standardH16r");n.standardH16mr=t("SpecPicker_standardH16mr");
n.standardH16m=t("SpecPicker_standardH16m");n.standardH16=t("SpecPicker_standardH16");n.standardF8s=t("SpecPicker_standardF8s");n.standardF8=t("SpecPicker_standardF8");n.standardF4s=t("SpecPicker_standardF4s");n.standardF4=t("SpecPicker_standardF4");n.standardF2s=t("SpecPicker_standardF2s");n.standardF2=t("SpecPicker_standardF2");n.standardF1s=t("SpecPicker_standardF1s");n.standardF16s=t("SpecPicker_standardF16s");n.standardF16=t("SpecPicker_standardF16");n.standardF1=t("SpecPicker_standardF1");n.standardDS5v2=t("SpecPicker_standardDS5v2");n.standardDS4v2=t("SpecPicker_standardDS4v2");n.standardDS3v2=t("SpecPicker_standardDS3v2");n.standardDS2v2=t("SpecPicker_standardDS2v2");n.standardDS1v2=t("SpecPicker_standardDS1v2");n.standardDS15v2=t("SpecPicker_standardDS15v2");n.standardDS14v2=t("SpecPicker_standardDS14v2");n.standardDS13v2=t("SpecPicker_standardDS13v2");n.standardDS12v2=t("SpecPicker_standardDS12v2");n.standardDS11v2=t("SpecPicker_standardDS11v2");n.standardD15v2=t("SpecPicker_standardD15v2");
n.standardD5v2=t("SpecPicker_standardD5v2");n.standardD5=t("SpecPicker_standardD5");n.standardD4v2=t("SpecPicker_standardD4v2");n.standardD3v2=t("SpecPicker_standardD3v2");n.standardD2v2=t("SpecPicker_standardD2v2");n.standardD1v2=t("SpecPicker_standardD1v2");n.standardD14v2=t("SpecPicker_standardD14v2");n.standardD13v2=t("SpecPicker_standardD13v2");n.standardD12v2=t("SpecPicker_standardD12v2");n.standardD11v2=t("SpecPicker_standardD11v2");n.standardGS5=t("SpecPicker_standardGS5");n.standardGS4=t("SpecPicker_standardGS4");n.standardGS3=t("SpecPicker_standardGS3");n.standardGS2=t("SpecPicker_standardGS2");n.standardGS1=t("SpecPicker_standardGS1");n.standardG5=t("SpecPicker_standardG5");n.standardG4=t("SpecPicker_standardG4");n.standardG3=t("SpecPicker_standardG3");n.standardG2=t("SpecPicker_standardG2");n.standardG1=t("SpecPicker_standardG1");n.standardDS4=t("SpecPicker_standardDS4");n.standardDS3=t("SpecPicker_standardDS3");n.standardDS2=t("SpecPicker_standardDS2");n.standardDS14=t("SpecPicker_standardDS14");
n.standardDS13=t("SpecPicker_standardDS13");n.standardDS12=t("SpecPicker_standardDS12");n.standardDS11=t("SpecPicker_standardDS11");n.standardDS1=t("SpecPicker_standardDS1");n.standardD4=t("SpecPicker_standardD4");n.standardD3=t("SpecPicker_standardD3");n.standardD2=t("SpecPicker_standardD2");n.standardD14=t("SpecPicker_standardD14");n.standardD13=t("SpecPicker_standardD13");n.standardD12=t("SpecPicker_standardD12");n.standardD11=t("SpecPicker_standardD11");n.standardD1=t("SpecPicker_standardD1");n.standardA9=t("SpecPicker_standardA9");n.standardA8=t("SpecPicker_standardA8");n.standardA7=t("SpecPicker_standardA7");n.standardA6=t("SpecPicker_standardA6");n.standardA5=t("SpecPicker_standardA5");n.standardA4=t("SpecPicker_standardA4");n.standardA3=t("SpecPicker_standardA3");n.standardA2=t("SpecPicker_standardA2");n.standardA11=t("SpecPicker_standardA11");n.standardA10=t("SpecPicker_standardA10");n.standardA1=t("SpecPicker_standardA1");n.standardA0=t("SpecPicker_standardA0");n.basicA4=t("SpecPicker_basicA4");
n.basicA3=t("SpecPicker_basicA3");n.basicA2=t("SpecPicker_basicA2");n.basicA1=t("SpecPicker_basicA1");n.basicA0=t("SpecPicker_basicA0")})(u=n.SpecPicker||(n.SpecPicker={})),(function(n){var i,r;(function(n){n.ultraPerformance=t("VirtualNetworkGateway_Sku_ultraPerformance");n.highPerformance=t("VirtualNetworkGateway_Sku_highPerformance");n.standard=t("VirtualNetworkGateway_Sku_standard");n.basic=t("VirtualNetworkGateway_Sku_basic")})(i=n.Sku||(n.Sku={})),(function(n){n.routeBased=t("VirtualNetworkGateway_VpnType_routeBased");n.policyBased=t("VirtualNetworkGateway_VpnType_policyBased")})(r=n.VpnType||(n.VpnType={}))})(f=n.VirtualNetworkGateway||(n.VirtualNetworkGateway={}));n.operatingSystem=t("operatingSystem"),(function(n){var i,r,u,f;(function(n){n.useExisting=t("Create_ResourceGroup_useExisting");var i;(function(n){n.groupNameRegexValidation=t("Create_ResourceGroup_CreateNew_groupNameRegexValidation");n.groupNameLengthValidation=t("Create_ResourceGroup_CreateNew_groupNameLengthValidation");
n.title=t("Create_ResourceGroup_CreateNew_title")})(i=n.CreateNew||(n.CreateNew={}));n.title=t("Create_ResourceGroup_title");n.filteredSubscription=t("Create_ResourceGroup_filteredSubscription")})(i=n.ResourceGroup||(n.ResourceGroup={}));n.validationErrorFormat=t("Create_validationErrorFormat"),(function(n){n.title=t("Create_ResourceGroupLocation_title")})(r=n.ResourceGroupLocation||(n.ResourceGroupLocation={}));n.buttonLabel=t("Create_buttonLabel"),(function(n){n.title=t("Create_Location_title")})(u=n.Location||(n.Location={})),(function(n){n.title=t("Create_Subscription_title");n.lockedResourceGroup=t("Create_Subscription_lockedResourceGroup")})(f=n.Subscription||(n.Subscription={}))})(e=n.Create||(n.Create={}));n.agents=t("agents"),(function(n){n.help=t("Keyword_help");n.health=t("Keyword_health");n.monitor=t("Keyword_monitor");n.metric=t("Keyword_metric");n.region=t("Keyword_region");n.essential=t("Keyword_essential");n.summary=t("Keyword_summary");n.overview=t("Keyword_overview");n.id=t("Keyword_id");
n.subscription=t("Keyword_subscription");n.status=t("Keyword_status");n.name=t("Keyword_name");n.migrate=t("Keyword_migrate");n.location=t("Keyword_location")})(o=n.Keyword||(n.Keyword={}));n.quickstart=t("quickstart");n.mindaroSettingsTitle=t("mindaroSettingsTitle"),(function(n){n.updating=t("ProvisioningState_updating");n.unknown=t("ProvisioningState_unknown");n.succeeded=t("ProvisioningState_succeeded");n.failed=t("ProvisioningState_failed");n.deleting=t("ProvisioningState_deleting")})(s=n.ProvisioningState||(n.ProvisioningState={})),(function(n){var i;(function(n){n.deallocating=t("VM_Status_deallocating");n.warning=t("VM_Status_warning");n.updating=t("VM_Status_updating");n.unknown=t("VM_Status_unknown");n.stopping=t("VM_Status_stopping");var i;(function(n){n.warningNote=t("VM_Status_stoppedVM_WarningNote")})(i=n.StoppedVM||(n.StoppedVM={}));n.stoppedVM=t("VM_Status_stoppedVM");n.stopped=t("VM_Status_stopped");n.starting=t("VM_Status_starting");n.running=t("VM_Status_running");n.restarting=
t("VM_Status_restarting");n.provisioningFailed=t("VM_Status_ProvisioningFailed");n.provisioning=t("VM_Status_provisioning");n.misconfigured=t("VM_Status_misconfigured");n.failedStartingVM=t("VM_Status_FailedStartingVM");n.failed=t("VM_Status_failed");n.deleting=t("VM_Status_deleting");n.deallocated=t("VM_Status_deallocated");n.creating=t("VM_Status_creating")})(i=n.Status||(n.Status={}))})(h=n.VM||(n.VM={})),(function(n){var i;(function(n){var i;(function(n){var i,r,u;(function(n){n.title=t("PreviewFeature_Notifications_Register_Success_title");n.message=t("PreviewFeature_Notifications_Register_Success_message")})(i=n.Success||(n.Success={})),(function(n){n.title=t("PreviewFeature_Notifications_Register_InProgress_title");n.message=t("PreviewFeature_Notifications_Register_InProgress_message")})(r=n.InProgress||(n.InProgress={})),(function(n){n.title=t("PreviewFeature_Notifications_Register_Failure_title");n.message=t("PreviewFeature_Notifications_Register_Failure_message")})(u=n.Failure||(n.
Failure={}))})(i=n.Register||(n.Register={}))})(i=n.Notifications||(n.Notifications={}))})(c=n.PreviewFeature||(n.PreviewFeature={})),(function(n){var i,r;(function(n){n.leadingZerosIpAddress=t("Network_Validation_leadingZerosIpAddress");n.virtualNetworkNameLength=t("Network_Validation_virtualNetworkNameLength");n.invalidCIDRBlockWithSuggestion=t("Network_Validation_invalidCIDRBlockWithSuggestion");n.addressRangeDisplayEnd=t("Network_Validation_addressRangeDisplayEnd");n.addressRangeDisplay=t("Network_Validation_addressRangeDisplay");n.routeTableAddressPrefix=t("Network_Validation_routeTableAddressPrefix");n.pathRegex=t("Network_Validation_pathRegex");n.unexpectedCIDRError=t("Network_Validation_unexpectedCIDRError");n.regex=t("Network_Validation_regex");n.nameLength=t("Network_Validation_nameLength");n.emptyAddressRange=t("Network_Validation_emptyAddressRange");n.addressRangeSummary=t("Network_Validation_addressRangeSummary");n.missingAddressSpace=t("Network_Validation_missingAddressSpace");
n.subnetOverlaps=t("Network_Validation_subnetOverlaps");n.subnetNotContained=t("Network_Validation_subnetNotContained");n.reserved=t("Network_Validation_reserved");n.notInSubnet=t("Network_Validation_notInSubnet");n.notInRange=t("Network_Validation_notInRange");n.privateSpace=t("Network_Validation_privateSpace");n.prefix=t("Network_Validation_prefix");n.octet=t("Network_Validation_octet");n.nonNullSubnet=t("Network_Validation_nonNullSubnet");n.nonNullAddress=t("Network_Validation_nonNullAddress");n.exactPrefix=t("Network_Validation_exactPrefix");n.minPrefix=t("Network_Validation_minPrefix");n.maxPrefix=t("Network_Validation_maxPrefix");n.malformedSubnet=t("Network_Validation_malformedSubnet");n.malformedAddress=t("Network_Validation_malformedAddress")})(i=n.Validation||(n.Validation={})),(function(n){var i;(function(n){var i;(function(n){n.invalidRange=t("Network_IpAddress_Validation_IpRange_invalidRange");n.invalidIP=t("Network_IpAddress_Validation_IpRange_invalidIP")})(i=n.IpRange||(n.
IpRange={}));n.notInSubnet=t("Network_IpAddress_Validation_notInSubnet");n.ipIsReserved=t("Network_IpAddress_Validation_ipIsReserved");n.errorMessage=t("Network_IpAddress_Validation_errorMessage")})(i=n.Validation||(n.Validation={}))})(r=n.IpAddress||(n.IpAddress={}));n.validation=t("Network_Validation")})(l=n.Network||(n.Network={})),(function(n){n.enabled=t("General_enabled");n.disabled=t("General_disabled")})(a=n.General||(n.General={})),(function(n){n.global=t("Region_global")})(v=n.Region||(n.Region={})),(function(n){n.resultsWithLocation=t("Picker_resultsWithLocation");n.results=t("Picker_results");n.noResultsWithLocation=t("Picker_noResultsWithLocation");n.noResults=t("Picker_noResults")})(y=n.Picker||(n.Picker={}));n.configuration=t("configuration");n.diagnosticsLogs=t("diagnosticsLogs");n.diagnostics=t("diagnostics");n.properties=t("properties");n.overview=t("overview"),(function(n){n.deleting=t("ContentState_deleting");n.updating=t("ContentState_updating");n.updateFailed=t("ContentState_updateFailed");
n.deleteFailed=t("ContentState_deleteFailed")})(p=n.ContentState||(n.ContentState={})),(function(n){n.deleteCommand=t("Command_deleteCommand");n.save=t("Command_save");n.edit=t("Command_edit");n.discard=t("Command_discard")})(w=n.Command||(n.Command={}));n.noResults=t("noResults"),(function(n){n.failed=t("BladeStatus_failed");n.disabled=t("BladeStatus_disabled");n.updating=t("BladeStatus_updating");n.deleting=t("BladeStatus_deleting")})(b=n.BladeStatus||(n.BladeStatus={}));n.unknown=t("unknown"),(function(n){var i,r,u;(function(n){n.large=t("ApplicationGateway_SkuSize_Large");n.medium=t("ApplicationGateway_SkuSize_Medium");n.small=t("ApplicationGateway_SkuSize_Small")})(i=n.SkuSize||(n.SkuSize={})),(function(n){n.prevention=t("ApplicationGateway_WafMode_prevention");n.detection=t("ApplicationGateway_WafMode_detection")})(r=n.WafMode||(n.WafMode={})),(function(n){n.waf=t("ApplicationGateway_Tier_waf");n.standard=t("ApplicationGateway_Tier_standard")})(u=n.Tier||(n.Tier={}))})(k=n.ApplicationGateway||
(n.ApplicationGateway={}));n.uniqueResourceNameValidation=t("uniqueResourceNameValidation"),(function(n){n.none=t("Text_none")})(d=n.Text||(n.Text={}));n.notConfigured=t("notConfigured"),(function(n){n.name=t("ColumnName_name")})(g=n.ColumnName||(n.ColumnName={})),(function(n){var i;(function(n){var i,r,u,f,e;n.defaultInvalidMessage=t("StorageAccount_Type_defaultInvalidMessage"),(function(n){n.name=t("StorageAccount_Type_StandardZoneRedundant_name")})(i=n.StandardZoneRedundant||(n.StandardZoneRedundant={})),(function(n){n.name=t("StorageAccount_Type_StandardReadAccessGeoRedundant_name")})(r=n.StandardReadAccessGeoRedundant||(n.StandardReadAccessGeoRedundant={})),(function(n){n.name=t("StorageAccount_Type_StandardLocallyRedundant_name")})(u=n.StandardLocallyRedundant||(n.StandardLocallyRedundant={})),(function(n){n.name=t("StorageAccount_Type_StandardGeoRedundant_name")})(f=n.StandardGeoRedundant||(n.StandardGeoRedundant={})),(function(n){n.name=t("StorageAccount_Type_PremiumLocallyRedundant_name")})(
e=n.PremiumLocallyRedundant||(n.PremiumLocallyRedundant={}))})(i=n.Type||(n.Type={}))})(nt=n.StorageAccount||(n.StorageAccount={})),(function(n){n.subscriptionRegisterationTimedOut=t("Quota_subscriptionRegisterationTimedOut");n.subscriptionRegisterationFailed=t("Quota_subscriptionRegisterationFailed");n.quotaRetrievalFailed=t("Quota_quotaRetrievalFailed");n.full=t("Quota_full")})(tt=n.Quota||(n.Quota={})),(function(n){n.isInRange=t("Validation_isInRange");n.invalidArgument=t("Validation_invalidArgument");var i;(function(n){n.regexNoSpecialCharacters=t("Validation_ResourceGroup_regexNoSpecialCharacters");n.unique=t("Validation_ResourceGroup_unique");n.regex=t("Validation_ResourceGroup_regex");n.maxLength=t("Validation_ResourceGroup_maxLength")})(i=n.ResourceGroup||(n.ResourceGroup={}));n.required=t("Validation_required");n.confirmPassword=t("Validation_confirmPassword")})(it=n.Validation||(n.Validation={}));n.serviceNameFormat=t("serviceNameFormat");n.noContent=t("noContent");n.noCertificateWithThumbprintFormat=
t("NoCertificateWithThumbprintFormat"),(function(n){n.resourceIdLabel=t("Properties_resourceIdLabel")})(rt=n.Properties||(n.Properties={})),(function(n){n.subscriptionIdLabel=t("ResourceSummary_subscriptionIdLabel");n.subscriptionNameLabel=t("ResourceSummary_subscriptionNameLabel");n.location=t("ResourceSummary_location")})(ut=n.ResourceSummary||(n.ResourceSummary={})),(function(n){n.reconnectingMessage=t("LogStream_reconnectingMessage");n.connectionLostMessage=t("LogStream_connectionLostMessage");n.connectingMessage=t("LogStream_connectingMessage")})(ft=n.LogStream||(n.LogStream={}));n.reasonMessage=t("reasonMessage"),(function(n){var i;(function(n){n.title=t("Field_ConfirmPassword_title")})(i=n.ConfirmPassword||(n.ConfirmPassword={}))})(et=n.Field||(n.Field={}));n.loading=t("loading");n.certificateValidation=t("certificateValidation");n.zettaBytesLong=t("zettaBytesLong");n.zettaBytes=t("zettaBytes");n.yottaBytesLong=t("yottaBytesLong");n.yottaBytes=t("yottaBytes");n.teraBytesLong=t("teraBytesLong");
n.teraBytes=t("teraBytes");n.petaBytesLong=t("petaBytesLong");n.petaBytes=t("petaBytes");n.megaBytesLong=t("megaBytesLong");n.megaBytes=t("megaBytes");n.kiloBytesLong=t("kiloBytesLong");n.kiloBytes=t("kiloBytes");n.gigaBytesLong=t("gigaBytesLong");n.gigaBytes=t("gigaBytes");n.genericErrorMessage=t("genericErrorMessage");n.exaBytesLong=t("exaBytesLong");n.exaBytes=t("exaBytes"),(function(n){var i,r;(function(n){n.fieldMustBeUnique=t("EditableGrid_Validation_fieldMustBeUnique")})(i=n.Validation||(n.Validation={})),(function(n){n.maxDisplayFormat=t("EditableGrid_MultiselectDropdown_maxDisplayFormat");n.displayFormat=t("EditableGrid_MultiselectDropdown_displayFormat")})(r=n.MultiselectDropdown||(n.MultiselectDropdown={}));n.hiddenForSecurity=t("EditableGrid_hiddenForSecurity")})(ot=n.EditableGrid||(n.EditableGrid={}));n.bytesLong=t("bytesLong");n.bytes=t("bytes")})(t=n.Resources||(n.Resources={}))})(ExtensionCore||(ExtensionCore={}));ClientResources=ExtensionCore.Resources,(function(n){var t;(function(
t){"use strict";function st(n){return n&&t.specIdFromLowerCase[n.toLowerCase()]}function ht(n){var t=w[n];return t?t:(MsPortalFx.Base.Diagnostics.Log.writeEntry(1,"ExtensionCore.Constants.getSpecIdDisplayName","The specId {0} was missing from the string map (specIdToDisplayNameMap) of VM sizes.".format(n)),n)}function ct(n){return n===t.VmSize.Standard_GS1||n===t.VmSize.Standard_GS2||n===t.VmSize.Standard_GS3||n===t.VmSize.Standard_GS4||n===t.VmSize.Standard_GS5}function lt(n){return StringEx.equals(n,t.ProvisioningState.Failed,StringComparison.IgnoreCase)}var et=(function(){function n(){}return n.previewGridItemLimit=10,n})(),i,r,ot,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft;t.ViewModelLimits=et;i=(function(){function n(){}return n.InProgress="InProgress",n.Success="Success",n.Warning="Warning",n.Failure="Failure",n})();t.NotificationEventType=i;r=(function(){function n(){}return n.DefaultPrecision=2,n})();t.Formatter=r,(function(n){n[n.StandardLRS=0]="StandardLRS";n[n.StandardZRS=1]=
"StandardZRS";n[n.StandardGRS=2]="StandardGRS";n[n.StandardRAGRS=3]="StandardRAGRS";n[n.PremiumLRS=4]="PremiumLRS"})(t.StorageAccountTypeEnum||(t.StorageAccountTypeEnum={}));ot=t.StorageAccountTypeEnum;t.SecurityRuleLimits={nameMaxLength:80,priorityMinValue:100,priorityMaxValue:4096,priorityStepSize:10};t.NetworkSecurityRuleLimits={nameMaxLength:80};u=(function(){function n(){}return n.PremiumLocallyRedundant="Premium_LRS",n.StandardLocallyRedundant="Standard_LRS",n.StandardZoneRedundant="Standard_ZRS",n.StandardGeoRedundant="Standard_GRS",n.StandardReadAccessGeoRedundant="Standard_RAGRS",n})();t.StorageAccountType=u;f=(function(){function n(){}return n.GeneralAccount="Storage",n.BlobAccount="BlobStorage",n})();t.StorageAccountKind=f;e=(function(){function n(){}return n.isDiagnosticsEnabledForStorageAccount="isDiagnosticsEnabledForStorageAccount",n.getStoragePremiumLocations="getStoragePremiumLocations",n.loadStorageExtension="loadStorageExtension",n.getSasUri="getSasUri",n})();t.RpcFunctions=
e;o=(function(){function n(){}return n.Premium="Premium",n.Standard="Standard",n})();t.StorageAccountPerformance=o;s=(function(){function n(){}return n.Cool="Cool",n.Hot="Hot",n})();t.StorageAccountAccessTier=s;t.registeredString="Registered";h=(function(){function n(){}return n.staticAllocationMethod="Static",n.dynamicAllocationMethod="Dynamic",n})();t.IpAddressAllocationMethods=h;t.VmSize={A0:"Standard_A0",A1:"Standard_A1",A2:"Standard_A2",A3:"Standard_A3",A4:"Standard_A4",A5:"Standard_A5",A6:"Standard_A6",A7:"Standard_A7",A8:"Standard_A8",A9:"Standard_A9",A10:"Standard_A10",A11:"Standard_A11",Basic_A0:"Basic_A0",Basic_A1:"Basic_A1",Basic_A2:"Basic_A2",Basic_A3:"Basic_A3",Basic_A4:"Basic_A4",A1_v2:"Standard_A1_v2",A2_v2:"Standard_A2_v2",A4_v2:"Standard_A4_v2",A8_v2:"Standard_A8_v2",A2m_v2:"Standard_A2m_v2",A4m_v2:"Standard_A4m_v2",A8m_v2:"Standard_A8m_v2",Standard_D1_v2:"Standard_D1_v2",Standard_D2_v2:"Standard_D2_v2",Standard_D3_v2:"Standard_D3_v2",Standard_D4_v2:"Standard_D4_v2",Standard_D5_v2:
"Standard_D5_v2",Standard_D11_v2:"Standard_D11_v2",Standard_D12_v2:"Standard_D12_v2",Standard_D13_v2:"Standard_D13_v2",Standard_D14_v2:"Standard_D14_v2",Standard_D15_v2:"Standard_D15_v2",Standard_D2_v2_Promo:"Standard_D2_v2_Promo",Standard_D3_v2_Promo:"Standard_D3_v2_Promo",Standard_D4_v2_Promo:"Standard_D4_v2_Promo",Standard_D5_v2_Promo:"Standard_D5_v2_Promo",Standard_D11_v2_Promo:"Standard_D11_v2_Promo",Standard_D12_v2_Promo:"Standard_D12_v2_Promo",Standard_D13_v2_Promo:"Standard_D13_v2_Promo",Standard_D14_v2_Promo:"Standard_D14_v2_Promo",Standard_D1:"Standard_D1",Standard_D2:"Standard_D2",Standard_D3:"Standard_D3",Standard_D4:"Standard_D4",Standard_D11:"Standard_D11",Standard_D12:"Standard_D12",Standard_D13:"Standard_D13",Standard_D14:"Standard_D14",Standard_DS1:"Standard_DS1",Standard_DS2:"Standard_DS2",Standard_DS3:"Standard_DS3",Standard_DS4:"Standard_DS4",Standard_DS11:"Standard_DS11",Standard_DS12:"Standard_DS12",Standard_DS13:"Standard_DS13",Standard_DS14:"Standard_DS14",Standard_G1:
"Standard_G1",Standard_G2:"Standard_G2",Standard_G3:"Standard_G3",Standard_G4:"Standard_G4",Standard_G5:"Standard_G5",Standard_GS1:"Standard_GS1",Standard_GS2:"Standard_GS2",Standard_GS3:"Standard_GS3",Standard_GS4:"Standard_GS4",Standard_GS5:"Standard_GS5",Standard_DS1_v2:"Standard_DS1_v2",Standard_DS2_v2:"Standard_DS2_v2",Standard_DS3_v2:"Standard_DS3_v2",Standard_DS4_v2:"Standard_DS4_v2",Standard_DS5_v2:"Standard_DS5_v2",Standard_DS11_v2:"Standard_DS11_v2",Standard_DS12_v2:"Standard_DS12_v2",Standard_DS13_v2:"Standard_DS13_v2",Standard_DS14_v2:"Standard_DS14_v2",Standard_DS15_v2:"Standard_DS15_v2",Standard_DS2_v2_Promo:"Standard_DS2_v2_Promo",Standard_DS3_v2_Promo:"Standard_DS3_v2_Promo",Standard_DS4_v2_Promo:"Standard_DS4_v2_Promo",Standard_DS5_v2_Promo:"Standard_DS5_v2_Promo",Standard_DS11_v2_Promo:"Standard_DS11_v2_Promo",Standard_DS12_v2_Promo:"Standard_DS12_v2_Promo",Standard_DS13_v2_Promo:"Standard_DS13_v2_Promo",Standard_DS14_v2_Promo:"Standard_DS14_v2_Promo",Standard_F1:"Standard_F1",
Standard_F2:"Standard_F2",Standard_F4:"Standard_F4",Standard_F8:"Standard_F8",Standard_F16:"Standard_F16",Standard_F1s:"Standard_F1s",Standard_F2s:"Standard_F2s",Standard_F4s:"Standard_F4s",Standard_F8s:"Standard_F8s",Standard_F16s:"Standard_F16s",Standard_H8:"Standard_H8",Standard_H8m:"Standard_H8m",Standard_H16:"Standard_H16",Standard_H16m:"Standard_H16m",Standard_H16r:"Standard_H16r",Standard_H16mr:"Standard_H16mr",Standard_NV6:"Standard_NV6",Standard_NV12:"Standard_NV12",Standard_NV24:"Standard_NV24",Standard_NC6:"Standard_NC6",Standard_NC12:"Standard_NC12",Standard_NC24:"Standard_NC24",Standard_NC24r:"Standard_NC24r",Standard_L4s:"Standard_L4s",Standard_L8s:"Standard_L8s",Standard_L16s:"Standard_L16s",Standard_L32s:"Standard_L32s"};t.CommonPorts={Custom:-1,Port_21:21,Port_22:22,Port_25:25,Port_53:53,Port_80:80,Port_110:110,Port_143:143,Port_389:389,Port_443:443,Port_465:465,Port_993:993,Port_995:995,Port_1433:1433,Port_3306:3306,Port_3389:3389,Port_5432:5432,Port_5672:5672,Port_5984:
5984,Port_5986:5986,Port_6379:6379,Port_6984:6984,Port_7199:7199,Port_7474:7474,Port_8093:8093,Port_8985:8985,Port_9042:9042,Port_9160:9160,Port_9200:9200,Port_9300:9300,Port_11211:11211,Port_22133:22133,Port_27017:27017,Port_49152:49152,Port_65535:65535};t.PortValidationLimits={PortInclusiveMinimum:1,PortInclusiveMaximum:65535,IntervalInclusiveMinimum:5,IntervalInclusiveMaximum:2147483646,ConsecutiveFailureInclusiveMinimum:2,ConsecutiveFailureInclusiveMaximum:429496729};t.SecurityRuleDirection={Inbound:"Inbound",Outbound:"Outbound"};t.SecurityRuleAccess={Allow:"Allow",Deny:"Deny"};t.ProtocolNames={Asterisk:"*",Any:"Any",UDP:"UDP",TCP:"TCP",HTTP:"HTTP",HTTPS:"HTTPS",InternalUdp:"Udp",InternalTcp:"Tcp",InternalHTTP:"Http"};t.LoadDistribution={Default:"Default",SourceIp:"SourceIP",SourceIpAndProtocol:"SourceIPProtocol"};t.SourceAndDestinationFilter={Asterisk:"*",Any:"Any",CidrBlock:"CIDR block",Tag:"Tag"};t.SecurityRulesTags={Internet:"Internet",VirtualNetwork:"VirtualNetwork",AzureLoadBalancer:
"AzureLoadBalancer"};t.PortRange={Asterisk:"*",Any:"Any",ApplicationGatewayListenerMinPortValue:1,Range:"-",RangeFormat:"{0}-{1}",minValue:0,maxValue:65535};t.LoadBalancingRuleTimeoutRanges={IdleTimeoutMin:4,IdleTimeoutMax:30,IdleTimeoutDefault:4,IdleTimeoutStep:1};t.InternalLoadBalancer={LargestValidPrefixForSubnet:29,ReservedIPAddressesAtBeginningOfSubnet:4};t.ServiceNames={Custom:"Custom",UDP_DNS:"DNS (UDP)",TCP_RDP:"RDP",TCP_WinRM:"WinRM",TCP_SSH:"SSH",TCP_FTP:"FTP",TCP_SMTP:"SMTP",TCP_DNS:"DNS (TCP)",TCP_HTTP:"HTTP",TCP_POP3:"POP3",TCP_IMAP:"IMAP",TCP_LDAP:"LDAP",TCP_HTTPS:"HTTPS",TCP_SMTPS:"SMTPS",TCP_IMAPS:"IMAPS",TCP_POP3S:"POP3S",TCP_MS_SQL:"MS SQL",TCP_MySQL:"MySQL",TCP_PostgreSQL:"PostgreSQL",TCP_RabbitMQ:"RabbitMQ",TCP_CouchDB_HTTP:"CouchDB",TCP_Redis:"Redis",TCP_CouchDB_HTTPS:"CouchDB (HTTPS)",TCP_Cassandra_JMX:"Cassandra (JMX)",TCP_Neo4J:"Neo4J",TCP_Riak:"Riak",TCP_Riak_JMX:"Riak (JMX)",TCP_Cassandra:"Cassandra",TCP_Cassandra_Thrift:"Cassandra (Thrift)",TCP_ElasticSearch:
"ElasticSearch",TCP_Memcached:"Memcached",TCP_Kestrel:"Kestrel",TCP_MongoDB:"MongoDB",TCP_Dynamic_Ports:"Dynamic ports"};t.ServiceNamesInGrid={UDP_DNS:"DNS",TCP_DNS:"DNS",TCP_CouchDB_HTTP:"CouchDB",TCP_CouchDB_HTTPS:"CouchDB",TCP_Cassandra_JMX:"Cassandra JMX",TCP_Riak_JMX:"Riak JMX",TCP_Cassandra_Thrift:"Cassandra Thrift"};c=(function(){function n(){}return n.StatusPrefix="PROVISIONINGSTATE",n.Creating="CREATING",n.Updating="UPDATING",n.Deleting="DELETING",n.Failed="FAILED",n.Succeeded="SUCCEEDED",n})();t.ProvisioningState=c;l=(function(){function n(){}return n.StatusPrefix="POWERSTATE",n.Starting="STARTING",n.Running="RUNNING",n.Stopping="STOPPING",n.Stopped="STOPPED",n.Deallocated="DEALLOCATED",n.Deallocating="DEALLOCATING",n})();t.VMPowerState=l;a=(function(){function n(){}return n.StatusPrefix="OSSTATE",n})();t.OsState=a;v=(function(){function n(){}return n.previewPublisherOffer="-preview",n})();t.VmPublisher=v;y=(function(){function n(){}return n.StatusPrefix="MIGRATIONPHASE",n})();t.MigrationPhase=
y;p=(function(){function n(){}return n.GetVirtualMachineStatusList=function(){var t=[];return t.push(n.Unknown),t.push(n.Creating),t.push(n.Updating),t.push(n.Deleting),t.push(n.Running),t.push(n.Starting),t.push(n.Stopping),t.push(n.Stopped),t.push(n.Failed),t.push(n.Deallocated),t.push(n.Deallocating),t},n.Unknown="UNKNOWN",n.Creating="CREATING",n.Updating="UPDATING",n.Deleting="DELETING",n.Running="RUNNING",n.Starting="STARTING",n.Stopping="STOPPING",n.Stopped="STOPPED",n.Failed="FAILED",n.Deallocated="DEALLOCATED",n.Deallocating="DEALLOCATING",n})();t.VMStatus=p;t.V2Providers={computeProvider:"Microsoft.Compute",networkProvider:"Microsoft.Network",storageProvider:"Microsoft.Storage",containerServiceProvider:"Microsoft.ContainerService",recoveryServices:"Microsoft.RecoveryServices",importExport:"Microsoft.ImportExport"};t.V1Providers={computeProvider:"Microsoft.ClassicCompute",networkProvider:"Microsoft.ClassicNetwork",storageProvider:"Microsoft.ClassicStorage"};t.ResourceTypes={resourceGroups:
"Microsoft.Resources/resourceGroups",classicCloudServiceRole:"Microsoft.ClassicCompute/domainNames/slots/roles",classicStorageServices:"Microsoft.ClassicStorage/storageAccounts/services",storageServices:"microsoft.storage/storageaccounts/services",alertRules:"microsoft.insights/alertrules",autoScaleSettings:"microsoft.insights/autoscalesettings",keyVault:"Microsoft.KeyVault/vaults"};t.ArmResourceQueries={standardFormat:"{0}/subscriptions/{1}/resources/{2}{3}",filterByResourceTypeAndLocation:"&$filter=(resourceType eq '{0}' and location eq '{1}')"};t.ComputeTypes={availabilitySet:"availabilitySets",virtualMachine:"virtualMachines",virtualMachineScaleSet:"virtualMachineScaleSets"};t.ComputeModelNames={virtualMachineScaleSet:"ComputeExtension.Models.VirtualMachineScaleSetData"};t.NetworkingTypes={applicationGateway:"applicationGateways",connections:"connections",expressRouteCircuit:"expressRouteCircuits",loadBalancer:"loadBalancers",localNetworkGateway:"localNetworkGateways",networkInterface:
"networkInterfaces",networkWatcher:"networkWatchers",networkSecurityGroup:"networkSecurityGroups",networkSecurityRule:"securityRules",publicIpAddress:"publicIpAddresses",routeTable:"routeTables",subnet:"subnets",virtualNetwork:"virtualNetworks",virtualNetworkGateway:"virtualNetworkGateways",virtualNetworkPeering:"virtualNetworkPeerings"};t.NetworkingTypesWithProvider={connection:t.V2Providers.networkProvider+"/"+t.NetworkingTypes.connections,loadBalancer:t.V2Providers.networkProvider+"/"+t.NetworkingTypes.loadBalancer,localNetworkGateway:t.V2Providers.networkProvider+"/"+t.NetworkingTypes.localNetworkGateway,networkInterface:t.V2Providers.networkProvider+"/"+t.NetworkingTypes.networkInterface,networkWatcher:t.V2Providers.networkProvider+"/"+t.NetworkingTypes.networkWatcher,networkSecurityGroup:t.V2Providers.networkProvider+"/"+t.NetworkingTypes.networkSecurityGroup,publicIpAddress:t.V2Providers.networkProvider+"/"+t.NetworkingTypes.publicIpAddress,subnet:t.V2Providers.networkProvider+"/"+
t.NetworkingTypes.virtualNetwork+"/"+t.NetworkingTypes.subnet,routeTable:t.V2Providers.networkProvider+"/"+t.NetworkingTypes.routeTable,virtualNetwork:t.V2Providers.networkProvider+"/"+t.NetworkingTypes.virtualNetwork,virtualNetworkGateway:t.V2Providers.networkProvider+"/"+t.NetworkingTypes.virtualNetworkGateway};t.ComputingTypesWithProvider={availabilitySet:t.V2Providers.computeProvider+"/"+t.ComputeTypes.availabilitySet,virtualMachine:t.V2Providers.computeProvider+"/"+t.ComputeTypes.virtualMachine};t.NetworkingUrlFormats={networkWatcherEntity:"/subscriptions/{0}/resourceGroups/{1}/provider/Microsoft.Network/networkWatchers/{2}"};t.BatchedRequests={route:"/api/BatchARMRequestsFunction"};t.HeaderStringMap={msPath:"x-ms-path-query"};t.PollingDefaults={succeededProvisioningState:"Succeeded",pollInterval:4e3,timeLimit:6e4};t.IpAddressDefaults={suffix_16:"/16",suffix_24:"/24",defaultPrivateIp:"10.0.0.0/16",defaultSubnet:"10.0.0.0/24",defaultSubnetName:"default",dnsSuffix:".{0}".concat(window.
fx.environment.publicIpDomainNameSuffix)};t.AuditLogsTimeframeDefaultInMinutes={SevenDays:10080,TwoWeeks:20160};w={Standard_A0:ClientResources.SpecPicker.standardA0,Standard_A1:ClientResources.SpecPicker.standardA1,Standard_A2:ClientResources.SpecPicker.standardA2,Standard_A3:ClientResources.SpecPicker.standardA3,Standard_A4:ClientResources.SpecPicker.standardA4,Standard_A5:ClientResources.SpecPicker.standardA5,Standard_A6:ClientResources.SpecPicker.standardA6,Standard_A7:ClientResources.SpecPicker.standardA7,Standard_A8:ClientResources.SpecPicker.standardA8,Standard_A9:ClientResources.SpecPicker.standardA9,Basic_A0:ClientResources.SpecPicker.basicA0,Basic_A1:ClientResources.SpecPicker.basicA1,Basic_A2:ClientResources.SpecPicker.basicA2,Basic_A3:ClientResources.SpecPicker.basicA3,Basic_A4:ClientResources.SpecPicker.basicA4,Standard_A1v2:ClientResources.SpecPicker.standardA1v2,Standard_A2v2:ClientResources.SpecPicker.standardA2v2,Standard_A4v2:ClientResources.SpecPicker.standardA4v2,Standard_A8v2:
ClientResources.SpecPicker.standardA8v2,Standard_A2mv2:ClientResources.SpecPicker.standardA2mv2,Standard_A4mv2:ClientResources.SpecPicker.standardA4mv2,Standard_A8mv2:ClientResources.SpecPicker.standardA8mv2,Standard_D1_v2:ClientResources.SpecPicker.standardD1v2,Standard_D2_v2:ClientResources.SpecPicker.standardD2v2,Standard_D3_v2:ClientResources.SpecPicker.standardD3v2,Standard_D4_v2:ClientResources.SpecPicker.standardD4v2,Standard_D5_v2:ClientResources.SpecPicker.standardD5v2,Standard_D11_v2:ClientResources.SpecPicker.standardD11v2,Standard_D12_v2:ClientResources.SpecPicker.standardD12v2,Standard_D13_v2:ClientResources.SpecPicker.standardD13v2,Standard_D14_v2:ClientResources.SpecPicker.standardD14v2,Standard_D15_v2:ClientResources.SpecPicker.standardD15v2,Standard_D2_v2_Promo:ClientResources.SpecPicker.standardD2v2Promo,Standard_D3_v2_Promo:ClientResources.SpecPicker.standardD3v2Promo,Standard_D4_v2_Promo:ClientResources.SpecPicker.standardD4v2Promo,Standard_D5_v2_Promo:ClientResources.
SpecPicker.standardD5v2Promo,Standard_D11_v2_Promo:ClientResources.SpecPicker.standardD11v2Promo,Standard_D12_v2_Promo:ClientResources.SpecPicker.standardD12v2Promo,Standard_D13_v2_Promo:ClientResources.SpecPicker.standardD13v2Promo,Standard_D14_v2_Promo:ClientResources.SpecPicker.standardD14v2Promo,Standard_D1:ClientResources.SpecPicker.standardD1,Standard_D2:ClientResources.SpecPicker.standardD2,Standard_D3:ClientResources.SpecPicker.standardD3,Standard_D4:ClientResources.SpecPicker.standardD4,Standard_D11:ClientResources.SpecPicker.standardD11,Standard_D12:ClientResources.SpecPicker.standardD12,Standard_D13:ClientResources.SpecPicker.standardD13,Standard_D14:ClientResources.SpecPicker.standardD14,Standard_G1:ClientResources.SpecPicker.standardG1,Standard_G2:ClientResources.SpecPicker.standardG2,Standard_G3:ClientResources.SpecPicker.standardG3,Standard_G4:ClientResources.SpecPicker.standardG4,Standard_G5:ClientResources.SpecPicker.standardG5,Standard_GS1:ClientResources.SpecPicker.standardGS1,
Standard_GS2:ClientResources.SpecPicker.standardGS2,Standard_GS3:ClientResources.SpecPicker.standardGS3,Standard_GS4:ClientResources.SpecPicker.standardGS4,Standard_GS5:ClientResources.SpecPicker.standardGS5,Standard_DS1:ClientResources.SpecPicker.standardDS1,Standard_DS2:ClientResources.SpecPicker.standardDS2,Standard_DS3:ClientResources.SpecPicker.standardDS3,Standard_DS4:ClientResources.SpecPicker.standardDS4,Standard_DS11:ClientResources.SpecPicker.standardDS11,Standard_DS12:ClientResources.SpecPicker.standardDS12,Standard_DS13:ClientResources.SpecPicker.standardDS13,Standard_DS14:ClientResources.SpecPicker.standardDS14,Standard_DS1_v2:ClientResources.SpecPicker.standardDS1v2,Standard_DS2_v2:ClientResources.SpecPicker.standardDS2v2,Standard_DS3_v2:ClientResources.SpecPicker.standardDS3v2,Standard_DS4_v2:ClientResources.SpecPicker.standardDS4v2,Standard_DS5_v2:ClientResources.SpecPicker.standardDS5v2,Standard_DS11_v2:ClientResources.SpecPicker.standardDS11v2,Standard_DS12_v2:ClientResources.
SpecPicker.standardDS12v2,Standard_DS13_v2:ClientResources.SpecPicker.standardDS13v2,Standard_DS14_v2:ClientResources.SpecPicker.standardDS14v2,Standard_DS15_v2:ClientResources.SpecPicker.standardDS15v2,Standard_DS2_v2_Promo:ClientResources.SpecPicker.standardDS2v2Promo,Standard_DS3_v2_Promo:ClientResources.SpecPicker.standardDS3v2Promo,Standard_DS4_v2_Promo:ClientResources.SpecPicker.standardDS4v2Promo,Standard_DS5_v2_Promo:ClientResources.SpecPicker.standardDS5v2Promo,Standard_DS11_v2_Promo:ClientResources.SpecPicker.standardDS11v2Promo,Standard_DS12_v2_Promo:ClientResources.SpecPicker.standardDS12v2Promo,Standard_DS13_v2_Promo:ClientResources.SpecPicker.standardDS13v2Promo,Standard_DS14_v2_Promo:ClientResources.SpecPicker.standardDS14v2Promo,Standard_F1:ClientResources.SpecPicker.standardF1,Standard_F2:ClientResources.SpecPicker.standardF2,Standard_F4:ClientResources.SpecPicker.standardF4,Standard_F8:ClientResources.SpecPicker.standardF8,Standard_F16:ClientResources.SpecPicker.standardF16,
Standard_F1s:ClientResources.SpecPicker.standardF1s,Standard_F2s:ClientResources.SpecPicker.standardF2s,Standard_F4s:ClientResources.SpecPicker.standardF4s,Standard_F8s:ClientResources.SpecPicker.standardF8s,Standard_F16s:ClientResources.SpecPicker.standardF16s,Standard_H8:ClientResources.SpecPicker.standardH8,Standard_H8m:ClientResources.SpecPicker.standardH8m,Standard_H16:ClientResources.SpecPicker.standardH16,Standard_H16m:ClientResources.SpecPicker.standardH16m,Standard_H16r:ClientResources.SpecPicker.standardH16r,Standard_H16mr:ClientResources.SpecPicker.standardH16mr,Standard_NV6:ClientResources.SpecPicker.standardNV6,Standard_NV12:ClientResources.SpecPicker.standardNV12,Standard_NV24:ClientResources.SpecPicker.standardNV24,Standard_NC6:ClientResources.SpecPicker.standardNC6,Standard_NC12:ClientResources.SpecPicker.standardNC12,Standard_NC24:ClientResources.SpecPicker.standardNC24,Standard_NC24r:ClientResources.SpecPicker.standardNC24r,Standard_L4s:ClientResources.SpecPicker.standardL4s,
Standard_L8s:ClientResources.SpecPicker.standardL8s,Standard_L16s:ClientResources.SpecPicker.standardL16s,Standard_L32s:ClientResources.SpecPicker.standardL32s};t.specIdFromLowerCase={standard_a0:"Standard_A0",standard_a1:"Standard_A1",standard_a2:"Standard_A2",standard_a3:"Standard_A3",standard_a4:"Standard_A4",standard_a5:"Standard_A5",standard_a6:"Standard_A6",standard_a7:"Standard_A7",standard_a8:"Standard_A8",standard_a9:"Standard_A9",basic_a0:"Basic_A0",basic_a1:"Basic_A1",basic_a2:"Basic_A2",basic_a3:"Basic_A3",basic_a4:"Basic_A4",standard_a1_v2:"Standard_A1_v2",standard_a2_v2:"Standard_A2_v2",standard_a4_v2:"Standard_A4_v2",standard_a8_v2:"Standard_A8_v2",standard_a2m_v2:"Standard_A2m_v2",standard_a4m_v2:"Standard_A4m_v2",standard_a8m_v2:"Standard_A8m_v2",standard_d1_v2:"Standard_D1_v2",standard_d2_v2:"Standard_D2_v2",standard_d3_v2:"Standard_D3_v2",standard_d4_v2:"Standard_D4_v2",standard_d5_v2:"Standard_D5_v2",standard_d11_v2:"Standard_D11_v2",standard_d12_v2:"Standard_D12_v2",
standard_d13_v2:"Standard_D13_v2",standard_d14_v2:"Standard_D14_v2",standard_d15_v2:"Standard_D15_v2",standard_d2_v2_promo:"Standard_D2_v2_Promo",standard_d3_v2_promo:"Standard_D3_v2_Promo",standard_d4_v2_promo:"Standard_D4_v2_Promo",standard_d5_v2_promo:"Standard_D5_v2_Promo",standard_d11_v2_promo:"Standard_D11_v2_Promo",standard_d12_v2_promo:"Standard_D12_v2_Promo",standard_d13_v2_promo:"Standard_D13_v2_Promo",standard_d14_v2_promo:"Standard_D14_v2_Promo",standard_d1:"Standard_D1",standard_d2:"Standard_D2",standard_d3:"Standard_D3",standard_d4:"Standard_D4",standard_d11:"Standard_D11",standard_d12:"Standard_D12",standard_d13:"Standard_D13",standard_d14:"Standard_D14",standard_g1:"Standard_G1",standard_g2:"Standard_G2",standard_g3:"Standard_G3",standard_g4:"Standard_G4",standard_g5:"Standard_G5",standard_gs1:"Standard_GS1",standard_gs2:"Standard_GS2",standard_gs3:"Standard_GS3",standard_gs4:"Standard_GS4",standard_gs5:"Standard_GS5",standard_ds1:"Standard_DS1",standard_ds2:"Standard_DS2",
standard_ds3:"Standard_DS3",standard_ds4:"Standard_DS4",standard_ds11:"Standard_DS11",standard_ds12:"Standard_DS12",standard_ds13:"Standard_DS13",standard_ds14:"Standard_DS14",standard_ds1_v2:"Standard_DS1_v2",standard_ds2_v2:"Standard_DS2_v2",standard_ds3_v2:"Standard_DS3_v2",standard_ds4_v2:"Standard_DS4_v2",standard_ds5_v2:"Standard_DS5_v2",standard_ds11_v2:"Standard_DS11_v2",standard_ds12_v2:"Standard_DS12_v2",standard_ds13_v2:"Standard_DS13_v2",standard_ds14_v2:"Standard_DS14_v2",standard_ds15_v2:"Standard_DS15_v2",standard_ds2_v2_promo:"Standard_DS2_v2_Promo",standard_ds3_v2_promo:"Standard_DS3_v2_Promo",standard_ds4_v2_promo:"Standard_DS4_v2_Promo",standard_ds5_v2_promo:"Standard_DS5_v2_Promo",standard_ds11_v2_promo:"Standard_DS11_v2_Promo",standard_ds12_v2_promo:"Standard_DS12_v2_Promo",standard_ds13_v2_promo:"Standard_DS13_v2_Promo",standard_ds14_v2_promo:"Standard_DS14_v2_Promo",standard_f1:"Standard_F1",standard_f2:"Standard_F2",standard_f4:"Standard_F4",standard_f8:"Standard_F8",
standard_f16:"Standard_F16",standard_f1s:"Standard_F1s",standard_f2s:"Standard_F2s",standard_f4s:"Standard_F4s",standard_f8s:"Standard_F8s",standard_f16s:"Standard_F16s",standard_h8:"Standard_H8",standard_h8m:"Standard_H8m",standard_h16:"Standard_H16",standard_h16m:"Standard_H16m",standard_h16r:"Standard_H16r",standard_h16mr:"Standard_H16mr",standard_nv6:"Standard_NV6",standard_nv12:"Standard_NV12",standard_nv24:"Standard_NV24",standard_nc6:"Standard_NC6",standard_nc12:"Standard_NC12",standard_nc24:"Standard_NC24",standard_nc24r:"Standard_NC24r",standard_l4s:"Standard_L4s",standard_l8s:"Standard_L8s",standard_l16s:"Standard_L16s",standard_l32s:"Standard_L32s"};t.lseriesVmSizes=[t.VmSize.Standard_L4s,t.VmSize.Standard_L8s,t.VmSize.Standard_L16s,t.VmSize.Standard_L32s];t.sanitizeHardwareSize=st;t.getSpecIdDisplayName=ht;t.isSpecIdGSSeries=ct;t.isProvisioningStateFailed=lt;t.links={applicationGatewaySkuDocumentation:"https://azure.microsoft.com/documentation/articles/application-gateway-introduction/#gateway-sizes-and-instances",
resourceGroupDocumentation:"http://go.microsoft.com/fwlink/?linkid=394637",connectionTypeDocumentation:"https://azure.microsoft.com/documentation/articles/vpn-gateway-cross-premises-options/",expressRouteTierDocumentation:"https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/#networking-limits",expressRouteDataDocumentation:"https://azure.microsoft.com/pricing/details/expressroute",expressRouteLearnMoreLinkVNet:"https://azure.microsoft.com/documentation/articles/expressroute-howto-linkvnet-arm/",expressRouteImportFromClassicDocumentation:"https://azure.microsoft.com/documentation/articles/expressroute-move/",gatewayTypeDocumentation:"https://azure.microsoft.com/documentation/articles/vpn-gateway-cross-premises-options/",loadBalancerInternalDocumentation:"https://azure.microsoft.com/documentation/articles/load-balancer-internal-overview/",loadBalancerPublicDocumentation:"https://azure.microsoft.com/documentation/articles/load-balancer-internet-overview/",
loadBalancerProbeDocumentation:"https://azure.microsoft.com/documentation/articles/load-balancer-custom-probe-overview/#learn-about-the-types-of-probes",virtualNetworkMultipleIp:"https://docs.microsoft.com/azure/virtual-network/virtual-network-multiple-ip-addresses-portal/",virtualNetworkDnsDocumentation:"https://azure.microsoft.com/documentation/articles/virtual-networks-name-resolution-for-vms-and-role-instances/#name-resolution-using-your-own-dns-server",vNetGatewaySku:"https://azure.microsoft.com/documentation/articles/vpn-gateway-about-vpngateways/",vNetGatewayLearnMoreVirtualNetwork:"https://azure.microsoft.com/documentation/services/virtual-network/",VNetGatewayLearnMoreVPNType:"https://azure.microsoft.com/documentation/services/virtual-network/",vNetGatewayResetLearnMore:"https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-resetgw-classic/",applicationGatewayLearnMoreVirtualNetwork:"https://azure.microsoft.com/documentation/services/virtual-network/",virtualNetworkPeeringDocumentation:
"https://azure.microsoft.com/documentation/articles/virtual-networks-nsg/",virtualNetworkPeeringOverview:"https://azure.microsoft.com/documentation/articles/virtual-network-peering-overview/",previewSupplementalTerms:"https://azure.microsoft.com/support/legal/preview-supplemental-terms/",deleteClassicStorageAccountDisks:"https://azure.microsoft.com/documentation/articles/storage-cannot-delete-storage-account-container-vhd/",managedDisksCreateVM:"https://go.microsoft.com/fwlink/?linkid=839650",diskSizeCostLearnMore:"https://go.microsoft.com/fwlink/?linkid=843142",diskPerformanceLearnMore:"https://go.microsoft.com/fwlink/?linkid=838986",pricingTerms:"https://azure.microsoft.com/pricing/calculator",virtualMachineCaptureImageWindowsDocumentation:"https://go.microsoft.com/fwlink/?linkid=842598",virtualMachineCaptureImageLinuxDocumentation:"https://go.microsoft.com/fwlink/?linkid=842864",virtualMachineUseSshKeyWindowsLearnMore:"https://docs.microsoft.com/azure/virtual-machines/virtual-machines-linux-ssh-from-windows",
virtualMachineUseSshKeyOtherLearnMore:"https://docs.microsoft.com/en-us/azure/virtual-machines/virtual-machines-linux-mac-create-ssh-keys"};t.ResourcesUrl={getResource:"{0}{1}?api-version={2}",getResourcesForResourceGroup:"{0}/{1}/resources",getResourcesForSubscription:"{0}/subscriptions/{1}/resources",listResourcesForResourceGroup:"{0}{resourceGroupId}/resources?api-version=2015-01-01",listAllProviders:"{0}/providers/Microsoft.Authorization/providerOperations?api-version=2015-07-01-preview&$expand=resourceTypes"};t.ResourcesUrlRelative={listResourceGroups:"/subscriptions/{0}/resourcegroups?api-version=2015-01-01"};t.FlowLogsUrl={getFlowLogsSettings:"{0}{1}/queryFlowLogStatus?api-version=2016-12-01",updateFlowLogsSettings:"{0}{1}/configureFlowLog?api-version=2016-12-01"};t.PreviewFeature={registerUrl:n.ArmUtils.endpoint+"/subscriptions/{0}/providers/Microsoft.Features/providers/{1}/features/{2}/register?api-version=2015-12-01",statusUrl:n.ArmUtils.endpoint+"/subscriptions/{0}/providers/Microsoft.Features/providers/{1}/features/{2}?api-version=2015-12-01",
registerProviderUrl:n.ArmUtils.endpoint+"/subscriptions/{0}/providers/{1}/register?api-version=2015-01-01"};t.ResourceNameCheck={url:n.ArmUtils.endpoint+"/providers/microsoft.resources/checkresourcename?api-version={0}"};t.FeatureRegistrationState={notRegistered:"NotRegistered",pending:"Pending",registering:"Registering",registered:"Registered"};t.gatewayTypes={vpn:"Vpn",expressRoute:"ExpressRoute"};t.connectionTypes={ipSec:"Site-to-site (IPsec)",vnetToVnet:"VNet-to-VNet",expressRoute:"ExpressRoute"};t.virtualNetworkGatewayTypes={policyBased:"PolicyBased",routeBased:"RouteBased"};t.classicNetworkExtensionNames={extensionName:"Microsoft_Azure_Classic_Network",virtualNetworkBlade:"VirtualNetworkBlade"};t.expandParameters={applicationGatewayExpandPublicIpAddress:"&$expand=frontendIPConfigurations/publicIPAddress,httpListeners/frontendPort",routeTableExpandSubnet:"&$expand=subnets",subnetExpandIpConfiguration:"&$expand=ipConfigurations",virtualNetworkExpandSubnetIpConfiguration:"&$expand=subnets/ipConfigurations",
virtualNetworkGatewayApiExpand:"&$expand=ipConfigurations/publicIPAddress,ipConfigurations/subnet",networkInterfaceExpandPublicIpAddressAndNetworkSecurityGroup:"&$expand=ipConfigurations/publicIPAddress,networkSecurityGroup",networkSecurityGroupExpandSubnetsAndNetworkInterfaces:"&$expand=networkInterfaces,subnets",loadBalancerExpandFrontendIPConfigurations:"&$expand=frontendIPConfigurations/publicIPAddress,frontendIPConfigurations/subnet",vmScaleSetExpandInstanceView:"&$expand=instanceView",virtualMachineExpandInstanceView:"&$expand=instanceView",virtualMachineExtensionExpandInstanceView:"&$expand=instanceView"};t.filterParameters={autoscaleEvents:"&$filter=caller eq 'Microsoft.Insights/autoscaleSettings' and resourceUri eq '{0}' and eventTimestamp ge '{1}' and status eq '{2}'"};t.selectParameters={autoscaleEvents:"&$select=eventTimestamp,eventName,operationName"};b=(function(){function t(){}return t.getVirtualNetworkGatewaySkuDisplayName=function(t){var i=this.virtualNetworkGatewaySkuMap[
t];return!i&&n.Utilities.Telemetry.isNewEvent("getVirtualNetworkGatewaySkuDisplayName-"+t)?(MsPortalFx.Base.Diagnostics.Log.writeEntry(1,"Constants.virtualNetworkGatewayConstants.getvirtualNetworkGatewaySkuDisplayName","The skuInternal {0} was missing from the string map (virtualNetworkGatewaySkuMap) of Sku Sizes.".format(t)),t):i},t.getVirtualNetworkGatewayVpnTypeDisplayName=function(t){var i=this.vpnTypesNameMap[t];return!i&&n.Utilities.Telemetry.isNewEvent("getVirtualNetworkGatewayVpnTypeDisplayName-"+t)?(MsPortalFx.Base.Diagnostics.Log.writeEntry(1,"Constants.GatewayConstants.getVirtualNetworkGatewayVpnTypeDisplayName","The vpnTypeInternalText {0} was missing from the string map (vpnTypesNameMap) of VPN Types.".format(t)),t):i},t.virtualNetworkGatewaySubnetName="GatewaySubnet",t.virtualNetworkGatewaySubnetIdSuffix="/subnets/GatewaySubnet",t.connectionAutoGeneratedNameFormatterDirected="{0}-to-{1}",t.connectionAutoGeneratedNameFormatterUndirected="{0}-{1}",t.defaultSubnetSize=24,t.maximumRecommendedSubnetSize=
28,t.maximumSubnetSize=29,t.virtualNetworkGatewaySkus={basic:"Basic",standard:"Standard",highPerformance:"HighPerformance",ultraPerformance:"UltraPerformance"},t.virtualNetworkGatewaySkuMap={Basic:ClientResources.VirtualNetworkGateway.Sku.basic,Standard:ClientResources.VirtualNetworkGateway.Sku.standard,HighPerformance:ClientResources.VirtualNetworkGateway.Sku.highPerformance,UltraPerformance:ClientResources.VirtualNetworkGateway.Sku.ultraPerformance},t.virtualNetworkGatewayTypes={policyBased:"PolicyBased",routeBased:"RouteBased"},t.vpnTypesNameMap={RouteBased:ClientResources.VirtualNetworkGateway.VpnType.routeBased,PolicyBased:ClientResources.VirtualNetworkGateway.VpnType.policyBased},t.gatewayTypes={vpn:"Vpn",expressRoute:"ExpressRoute"},t.Defaults={skuVpnTypeRouteBased:t.virtualNetworkGatewaySkus.standard,skuVpnTypePolicyBased:t.virtualNetworkGatewaySkus.basic,skuExpressRouteType:t.virtualNetworkGatewaySkus.standard},t})();t.GatewayConstants=b;k=(function(){function t(){}return t.getApplicationGatewaySkuSizeDisplayName=
function(t){var i=this.applicationGatewaySkuSizeMap[t];return!i&&n.Utilities.Telemetry.isNewEvent("getApplicationGatewaySkuSizeDisplayName-"+t)?(MsPortalFx.Base.Diagnostics.Log.writeEntry(1,"Constants.ApplicationGatewayConstants.getApplicationGatewaySkuSizeDisplayName","The skuSizeInternal {0} was missing from the string map (applicationGatewaySkuSizeMap) of Sku Sizes.".format(t)),t):i},t.getApplicationGatewayTiersDisplayName=function(t){var i=this.applicationGatewayTiersMap[t];return!i&&n.Utilities.Telemetry.isNewEvent("getApplicationGatewayTiersDisplayName-"+t)?(MsPortalFx.Base.Diagnostics.Log.writeEntry(1,"Constants.ApplicationGatewayConstants.applicationGatewayTiersDisplayName","The tierInternal {0} was missing from the string map (applicationGatewayTiersMap) of Tiers.".format(t)),t):i},t.getWafModeDisplayName=function(t){var i=this.wafModeMap[t];return!i&&n.Utilities.Telemetry.isNewEvent("getWafModeDisplayName-"+t)?(MsPortalFx.Base.Diagnostics.Log.writeEntry(1,"Constants.ApplicationGatewayConstants.wafModeDisplayName",
"The wafModeInternal {0} was missing from the string map (wafModeMap) of WAF Modes.".format(t)),t):i},t.getSubnetDisplayName=function(n,i){return t.subnetDisplayNameFormatter.format(n,i)},t.isWafEligibleTier=function(n){return StringEx.equals(n,t.applicationGatewayTiers.waf,StringComparison.IgnoreCase)},t.applicationGatewaySkuSizes={standardSmall:"Standard_Small",standardMedium:"Standard_Medium",standardLarge:"Standard_Large",wafMedium:"WAF_Medium",wafLarge:"WAF_Large"},t.applicationGatewaySkuSizeMap={Standard_Small:ClientResources.ApplicationGateway.SkuSize.small,Standard_Medium:ClientResources.ApplicationGateway.SkuSize.medium,Standard_Large:ClientResources.ApplicationGateway.SkuSize.large,WAF_Medium:ClientResources.ApplicationGateway.SkuSize.medium,WAF_Large:ClientResources.ApplicationGateway.SkuSize.large},t.applicationGatewayTiers={standard:"Standard",waf:"WAF"},t.applicationGatewayTiersMap={Standard:ClientResources.ApplicationGateway.Tier.standard,WAF:ClientResources.ApplicationGateway.
Tier.waf},t.wafMode={prevention:"Prevention",detection:"Detection"},t.wafModeMap={Prevention:ClientResources.ApplicationGateway.WafMode.prevention,Detection:ClientResources.ApplicationGateway.WafMode.detection},t.ruleTypes={basic:"Basic",pathBased:"PathBasedRouting"},t.cookieBasedAffinityInternalValues={enabled:"Enabled",disabled:"Disabled"},t.privateIpAllocationMethodInternalValues={"static":"Static",dynamic:"Dynamic"},t.protocolTypes={http:"http",https:"https"},t.protocolToPortNumberMapping={http:80,https:443},t.protocolToPortNumberStringMapping={http:"80",https:"443"},t.frontEndIpAddressTypes={"public":"Public","private":"Private"},t.pathHintText="/content/*",t.subnetDisplayNameFormatter="{0} ({1})",t.Limits={minCapacity:1,maxCapacity:10,minProbeTimeout:1,maxProbeTimeout:86400,minProbeInterval:0,maxProbeInterval:86400,minProbeUnhealthyThreshold:0,maxProbeUnhealthyThreshold:20},t.Defaults={capacity:2,skuSizeStandard:t.applicationGatewaySkuSizes.standardMedium,skuSizeWaf:t.applicationGatewaySkuSizes.
wafMedium,tier:t.applicationGatewayTiers.standard,frontEndIpAddressType:t.frontEndIpAddressTypes.public,defaultPort:t.protocolToPortNumberMapping.http,isHttpsProtocol:!1,isIpConfigurationType:!1,isNicType:!1,httpSettingsPort:80,httpSettingsCookieBasedAffinityEnabled:!0,httpSettingsRequestTimeout:20,httpSettingsCustomProbeEnabled:!1,probesInterval:30,probesTimeout:30,probesUnhealthyThreshold:3,specifyPrivateIpAddress:!1,upgradeForWaf:!1,wafEnabled:!0,wafMode:t.wafMode.detection,wafRuleSetType:"OWASP",wafRuleSetVersion:"3.0"},t})();t.ApplicationGatewayConstants=k;d=(function(){function n(){}return n.standard="Standard",n.premium="Premium",n})();t.ExpressRouteTiers=d;g=(function(){function n(){}return n.unlimited="UnlimitedData",n.metered="MeteredData",n})();t.ExpressRouteData=g;nt=(function(){function n(){}return n.authoritativeNSRecordRegex="^ns\\d-\\d{0,3}(\\.ppe)?.azure-dns.(com|net|org|info)\\.?$",n.authoritativeRecord="@",n.wildcard="*",n.dnsZoneLabelRegex="^[a-zA-Z0-9_-]{1,63}$",n.dnsZoneType=
"dnszones",n.dnsRecordSetTypeA="dnszones/a",n.dnsRecordSetTypeAAAA="dnszones/aaaa",n.dnsRecordSetTypeCNAME="dnszones/cname",n.dnsRecordSetTypeMX="dnszones/mx",n.dnsRecordSetTypeSRV="dnszones/srv",n.dnsRecordSetTypeTXT="dnszones/txt",n.dnsRecordSetTypePTR="dnszones/ptr",n.ttl="TTL",n.maxDnsNameLength=253,n.minValue=0,n.maxTtlValue=2147483647,n.maxTxtLength=255,n.maxTxtTotalLength=1024,n.maxSoaValue=4294967295,n.maxMxSrvValue=65535,n.minLabelLength=1,n.maxLabelLength=63,n.minLabelCount=2,n.maxLabelCount=34,n.maxRecordCount=20,n.maxZoneNameDisplayLength=50,n.disallowedZoneNames=["cloudapp.net"],n})();t.DnsZoneConstants=nt;tt=(function(){function n(){}return n.empty="0.0.0.0",n})();t.IpAddresses=tt;it=(function(){function n(){}return n.loadBalancerEntity="loadBalancerEntity",n.networkInterfaceEntity="networkInterfaceEntity",n.publicIpAddressEntity="publicIpAddressEntity",n})();t.SharedObservableNames=it;rt=(function(){function n(){}return n.Status={started:"Started",succeeded:"Succeeded",inProgress:
"In Progress",failed:"Failed",active:"Active",resolved:"Resolved"},n.EventName={autoscaleAction:"AutoscaleAction"},n.MaxDaysRetrievedFromApi=30,n})();t.ManagementEventConstants=rt;ut=(function(){function n(){}return n.VNetNameMaxLength=64,n.VNetNameMinLength=2,n.StorageAccountMaxLength=24,n})();t.LengthConstants=ut;ft=(function(){function n(){}return n.gatewaySubnetMaxCidr=29,n.gatewaySubnetMaxCidrExpressRouteType=28,n.gatewaySubnetMinCidr=16,n.subnetMaxCidr=29,n.vnetAddressSpaceMaxCidr=32,n.localNetworkGatewayIPRangeMaxCidr=32,n.expressRouteMaxCidr=30,n.expressRouteMinCidr=30,n.pointToSiteMinCidr=24,n.pointToSiteMaxCidr=32,n})();t.CidrConstants=ft;t.SkuNameForManagedDisksTrue="Aligned";t.SkuNameForManagedDisksFalse="Classic";t.FaultDomainCapabilityName="MaximumPlatformFaultDomainCount"})(t=n.Constants||(n.Constants={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(t){"use strict";function i(t){var i=n.ArmUtils.endpoint+"/subscriptions/{0}/providers{1}".format(t,n.Versions.
ArmApiVersions.getInstance().resourceProvider);return n.ArmUtils.corsCollectionSupplier("GET",i,null,null)}function r(t,r){var u=Q.defer();return i(t).then((function(t){var i=t.first((function(n){return StringEx.equals(n.namespace,r,StringComparison.IgnoreCase)}));i&&StringEx.equals(i.registrationState,n.Constants.registeredString,StringComparison.IgnoreCase)?u.resolve(!0):u.resolve(!1)}),(function(n){MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"ExtensionCore.Utilities.isRegistered","Unable to retrieve registration status for subscription {0}. The error message was: {1}.".format(t,FxImpl.Diagnostics.getLogFriendlyMessage(n)));u.resolve(!1)})),u.promise}function u(n,t){var u=Q.defer(),f=0,e={},o=t.split("/"),s=o[0],r;for(t=o[1],r=0;r<n.length;r++)i(n[r]).then((function(n){var i=n.first((function(n){return StringEx.equals(n.namespace,s,StringComparison.IgnoreCase)})),r;i&&i.id&&i.resourceTypes&&(r=i.resourceTypes.first((function(n){return StringEx.equals(n.resourceType,t,StringComparison.IgnoreCase)})
),r&&(e[i.id.slice(15,51)]=r.locations))})).finally((function(){f++;f===n.length&&u.resolve(e)}));return u.promise}t.listProviders=i;t.isProviderRegistered=r;t.listResourceLocations=u})(t=n.Utilities||(n.Utilities={}))})(ExtensionCore||(ExtensionCore={}));Notifications=MsPortalFx.Hubs.Notifications,(function(n){var t;(function(t){var i;(function(t){"use strict";function i(t,i,r,u){n.Validation.Requires.Argument("notificationParams",t).notNullOrEmpty();n.Validation.Requires.Argument("operationPromise",i).notNullOrEmpty();n.Validation.Requires.Argument("progressHandler",r).notNullOrEmpty();n.Validation.Requires.Argument("errorHandler",u).notNullOrEmpty();var e=t.initializationTitle?t.initializationTitle:t.inProgressTitle,o=t.initializationMessage?t.initializationMessage:t.inProgressMessage,f=new MsPortalFx.Hubs.Notifications.ClientNotification({title:e,description:o,status:MsPortalFx.Hubs.Notifications.NotificationStatus.InProgress,asset:t.assetInfo});return f.publish(),i.then((function(n){n&&
(n.deploymentStatusCode||n&&n.deployment&&n.deployment.properties&&n.deployment.properties.provisioningState&&n.deployment.properties.provisioningState.toLowerCase()=="failed")?u(n.deployment):(f.title=t.successTitle,f.description=t.successMessage,f.status=MsPortalFx.Hubs.Notifications.NotificationStatus.Success,f.publish())})),i.progress(r),i.catch(u),f}function f(t,u){n.Validation.Requires.Argument("notificationParams",t).notNullOrEmpty();n.Validation.Requires.Argument("operationPromise",u).notNullOrEmpty();var f,e=function(n){f.title=t.inProgressTitle;f.description=t.inProgressMessage;f.status=MsPortalFx.Hubs.Notifications.NotificationStatus.InProgress;n.correlationId&&(f.correlationIds.push(n.correlationId),f.publish())},o=function(n){var u=r(n),e={errorMsg:u},o=[Arm.DeploymentStatusCode.InvalidArgs,Arm.DeploymentStatusCode.ErrorSubmittingDeploymentRequest],i=o.indexOf(n.deploymentStatusCode)>-1,s=i&&t.initializationFailureTitle?t.initializationFailureTitle:t.failureTitle,h=i&&t.initializationFailureMessage?
t.initializationFailureMessage:t.failureMessage;f.title=s;f.description=h.format(e);f.status=MsPortalFx.Hubs.Notifications.NotificationStatus.Error;f.publish()};f=i(t,u,e,o)}function e(t,r,u){var s=this,f,e,o;n.Validation.Requires.Argument("notificationParams",t).notNullOrEmpty();n.Validation.Requires.Argument("operationPromise",r).notNullOrEmpty();e=function(n){f.title=t.inProgressTitle;f.description=t.inProgressMessage;f.status=MsPortalFx.Hubs.Notifications.NotificationStatus.InProgress;n.correlationId&&(f.correlationIds.push(n.correlationId),f.publish())};o=function(n){var c=s.getErrorMessage(n),i={errorMsg:c};if(f.title=t.failureTitle,f.description=t.failureMessage.format(i),f.status=MsPortalFx.Hubs.Notifications.NotificationStatus.Error,u&&t.canceledAndSupersededTitle&&t.canceledAndSupersededMessage){var o=!1,h=n&&n.error&&typeof n.error=="function"&&n.error().responseJSON&&n.error().responseJSON.error,r=h&&h.details,e="";r&&Array.isArray(r)&&(o=r.some((function(n){return n&&StringEx.
equals(n.code,"CanceledAndSupersededDueToAnotherOperation",StringComparison.IgnoreCase)?(e=n.message,!0):!1})));o&&(i.errorMsg=e?e:i.errorMsg,f.title=t.canceledAndSupersededTitle,f.description=t.canceledAndSupersededMessage.format(i),f.status=MsPortalFx.Hubs.Notifications.NotificationStatus.Information)}f.publish()};f=i(t,r,e,o)}function o(t,i){var e=this,r,f,u;n.Validation.Requires.Argument("notificationParams",t).notNullOrEmpty();n.Validation.Requires.Argument("operationPromise",i).notNullOrEmpty();r=new MsPortalFx.Hubs.Notifications.ClientNotification({title:t.inProgressTitle,description:t.inProgressMessage,status:MsPortalFx.Hubs.Notifications.NotificationStatus.InProgress,asset:t.assetInfo});r.publish();f=function(){r.title=t.successTitle;r.description=t.successMessage;r.status=MsPortalFx.Hubs.Notifications.NotificationStatus.Information;r.publish()};u=function(n){var i={errorMsg:n};r.title=t.failureTitle;r.description=t.failureMessage.format(i);r.status=MsPortalFx.Hubs.Notifications.
NotificationStatus.Error;r.publish()};i.done((function(t){if(t&&t.error){var i=t.error.message||n.Resources.genericErrorMessage;u(i)}else f()})).progress((function(){r.title=t.inProgressTitle;r.description=t.inProgressMessage;r.status=MsPortalFx.Hubs.Notifications.NotificationStatus.InProgress;r.publish()})).fail((function(n){var t=e.getErrorMessage(n);u(t)}))}function s(t){var i;return i=typeof t=="string"?t:this.getXhrError(t),i||(i=n.Resources.genericErrorMessage),i}function h(n){if(!n)return"";if(n.responseJSON)return n.responseJSON.Message||n.responseJSON.message||n.responseJSON.error&&n.responseJSON.error.message||"";if(n.statusText)return n.statusText;try{if(n.responseText){var t=JSON.parse(n.responseText);if(t)return t.Message||t.message||""}}catch(i){}return""}function r(t){var i=n.Resources.genericErrorMessage;return t.message?i=t.message:t.properties&&t.properties.error&&t.properties.error.message&&(i=t.properties.error.message),i}var u=(function(){function n(n,t,i,r,u,f,e,o,s,h,c,
l,a){this._inProgressTitle=u;this._inProgressMessage=f;this._successTitle=n;this._successMessage=t;this._failureTitle=i;this._failureMessage=r;this._initializationTitle=o;this._initializationMessage=s;this._initializationFailureTitle=h;this._initializationFailureMessage=c;this._canceledAndSupersededTitle=l;this._canceledAndSupersededMessage=a;e&&typeof e.assetId!="string"&&MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"NotificationsV3.NotificationsV3","assetId should be of type string, found type"+typeof e.assetId);this.assetInfo=e}return Object.defineProperty(n.prototype,"inProgressTitle",{get:function(){return this._inProgressTitle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inProgressMessage",{get:function(){return this._inProgressMessage},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"successTitle",{get:function(){return this._successTitle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"successMessage",{get:function(){return this.
_successMessage},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"failureTitle",{get:function(){return this._failureTitle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"failureMessage",{get:function(){return this._failureMessage},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"initializationTitle",{get:function(){return this._initializationTitle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"initializationMessage",{get:function(){return this._initializationMessage},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"initializationFailureTitle",{get:function(){return this._initializationFailureTitle},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"initializationFailureMessage",{get:function(){return this._initializationFailureMessage},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canceledAndSupersededMessage",{get:function(){return this._canceledAndSupersededMessage}
,enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canceledAndSupersededTitle",{get:function(){return this._canceledAndSupersededTitle},enumerable:!0,configurable:!0}),n})();t.NotificationSettings=u;t.trackOperationStateCommon=i;t.trackDeploymentOperationState=f;t.trackArmOperationState=e;t.trackOperationState=o;t.getErrorMessage=s;t.getXhrError=h;t.getDeploymentErrorMessage=r})(i=t.NotificationsV3||(t.NotificationsV3={}))})(t=n.UI||(n.UI={}))})(ExtensionCore||(ExtensionCore={}));Arm=MsPortalFx.Azure.ResourceManager;FxForms=MsPortalFx.ViewModels.Forms,(function(n){var t;(function(t){"use strict";var o=(function(){function n(){this.subscriptionDropdown=ko.observable(!1);this.resourceGroupDropdown=ko.observable(!1);this.locationDropdown=ko.observable(!1);this.nameTextBox=ko.observable(!1)}return n})(),i,u,r,f,e;t.CreateAssetBaseControlsToDisable=o;i=(function(){function n(){this.subscription=ko.observable();this.location=ko.observable();this.resourceGroup=ko.observable({createNew:
!0,value:{name:null,location:null,provisioningState:null}})}return n})();t.CreateAssetBasicsDataModel=i;u=(function(n){function t(){n.apply(this,arguments);this.id=ko.observable();this.name=ko.observable()}return __extends(t,n),t})(i);t.CreateAssetDataModel=u;r=(function(i){function r(r,u,f,e){var h=this,l,c,o,s;i.call(this,r);this._options=f;this._galleryItem=ko.observable();this._resourceProvidersObservable=ko.observable();this._resourceTypesObservable=ko.observable();this._container=r;e&&e.galleryOptions&&e.galleryOptions.galleryItem&&this._galleryItem(e.galleryOptions.galleryItem);this._resourceTypesObservable([this._options.providerName]);this._resourceTypesObservable([].concat(this._getLocationsResourceType()));this._configureControlsBase();l=this.valid;this.valid=ko.pureComputed((function(){return l()&&h.subscriptionDropDown.valid()&&h.resourceGroupDropDown.valid()&&h.locationDropDown.valid()}));c=t.getQuotasAsyncValidator(this._container,this._options,this.subscriptionDropDown,this.locationDropDown,
this._updateUsages.bind(this));this._options.useGenericActionBar?(o=new MsPortalFx.ViewModels.ActionBars.GenericActionBar.ViewModel(r),this._options.useDefaultGenericActionBarLabel||o.actionButtonLabel(n.Resources.Create.buttonLabel),this._options.usagesToCheck&&(o.enableErrorInfoBox(!0),o.asyncValidations.push(c)),this.actionBar=o):(s=new MsPortalFx.ViewModels.ActionBars.CreateActionBar.ViewModel(r),this._options.usagesToCheck&&(s.enableErrorInfoBox(!0),s.asyncValidations.push(c)),this.actionBar=s);this._validActionBarSubscription=this.valid.subscribe(r,this.actionBar.valid)}return __extends(r,i),r.prototype._getLocationsResourceType=function(){return!this._options.resourceUsesGlobalLocation?this._options.providerName+"/"+this._options.resourceType:"Microsoft.Resources/resourceGroups"},r.prototype._updateUsages=function(){},r.prototype._getResourceGroupDropDownOptions=function(){return{options:ko.observableArray([]),form:this,accessor:this.createEditScopeAccessor((function(n){return n.
resourceGroup})),label:ko.observable(ClientResources.Create.ResourceGroup.title),subscriptionIdObservable:this.subscriptionDropDown.subscriptionId,validations:ko.observableArray([new MsPortalFx.ViewModels.RequiredValidation])}},r.prototype._getSubscriptionDropDownOptions=function(){return{form:this,accessor:this.createEditScopeAccessor((function(n){return n.subscription})),options:ko.observableArray([]),filterByGalleryItem:this._galleryItem,validations:ko.observableArray([new MsPortalFx.ViewModels.RequiredValidation]),resourceProviders:this._resourceProvidersObservable}},r.prototype._getLocationDropDownOptions=function(){return{subscriptionIdObservable:this.subscriptionDropDown.subscriptionId,resourceTypesObservable:this._resourceTypesObservable,form:this,accessor:this.createEditScopeAccessor((function(n){return n.location})),options:ko.observableArray([]),validations:ko.observableArray([new MsPortalFx.ViewModels.RequiredValidation])}},r.prototype._configureControlsBase=function(){this.subscriptionDropDown=
new MsPortalFx.Azure.Subscriptions.DropDown(this._container,this._getSubscriptionDropDownOptions());this.locationDropDown=new MsPortalFx.Azure.Locations.DropDown(this._container,this._getLocationDropDownOptions());this.resourceGroupDropDown=new MsPortalFx.Azure.ResourceGroups.DropDown(this._container,this._getResourceGroupDropDownOptions());var n=this._options.baseControlsToDisable;n&&(this.subscriptionDropDown.enabled(!n.subscriptionDropdown()),this.locationDropDown.enabled(!n.locationDropdown()),this.resourceGroupDropDown.enabled(!n.resourceGroupDropdown()))},Object.defineProperty(r.prototype,"_dataModel",{get:function(){return this.editScope()&&this.editScope().root?this.editScope().root:null},enumerable:!0,configurable:!0}),r})(MsPortalFx.ViewModels.Forms.Form.ViewModel);t.CreateBasicsViewModel=r;f=(function(i){function r(n,r,u){var e=this,f,o;this._container=n;this._options=u;this._configureParameterProvider();this.editScope=this.parameterProvider.editScope;i.call(this,n,r,u);this._defaultsComputeInProgress=
ko.observable(!1);this._defaultsComputeInProgressPromise=Q.defer();this._container.operations.add(this._defaultsComputeInProgressPromise.promise,{blockUi:!0});this._configureNameTextBox();u.isNonMPCreate||(t.initArmProvisioner(this,n,r),u.customNotifications&&(f=this.armProvisioner.provisioningPromise,f?f.subscribe(n,(function(n){n&&NotificationUtility.trackDeploymentOperationState(u.customNotifications(),n)})):MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"CreateAssetViewModel.constructor","Arm provisioner promise was null.")));o=this.valid;this.valid=ko.pureComputed((function(){return o()&&e.nameTextBox.valid()&&!e._defaultsComputeInProgress()}));this._validActionBarSubscription.dispose();this._validActionBarSubscription=this.valid.subscribe(n,this.actionBar.valid);this._wireEventSubscriptions()}return __extends(r,i),r.prototype.supplyTemplateDeploymentOptions=function(n){return t.supplyTemplateDeploymentOptionsHelper(this,n)},r.prototype._processProvisioningConfig=function(){return Q()},
r.prototype._computeDefaults=function(n){return Q(n)},r.prototype.getDeploymentTemplateFileUri=function(){throw new AbstractMethodError("CreateAssetViewModel","getDeploymentTemplateFileUri");},r.prototype.getDeploymentTemplateJson=function(){throw new AbstractMethodError("CreateAssetViewModel","getDeploymentTemplateJson");},r.prototype.getDeploymentTemplateParameters=function(){throw new AbstractMethodError("CreateAssetViewModel","getDeploymentTemplateParameters");},r.prototype._getEmptyDefault=function(){return new this._options.createAssetDataModelType},r.prototype._configureParameterProvider=function(){var n=this,t=null;this._options.specifyParameterProviderMetadataType&&(t=this._options.createAssetDataModelType.metadata.name);this.parameterProvider=new MsPortalFx.ViewModels.ParameterProvider(this._container,{editScopeMetadataType:t,mapIncomingDataForEditScopeAsync:function(){var t=Q.defer();return n._defaultsComputeInProgress(!0),n._processProvisioningConfig().then((function(){if(n.
_options.isNonMPCreate){var t=n.parameterProvider.configFromCollector();return n._computeNonMPDefaults(t)}return n._computeDefaultsBase()})).then((function(i){n._defaultsComputeInProgress(!1);t.resolve(i)}),(function(i){n._defaultsComputeInProgress(!1);t.resolve(n._getEmptyDefault());MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"CreateAssetViewModel.mapIncomingDataForEditScopeAsync","Failed to get subscription defaults: {0}.".format(FxImpl.Diagnostics.getLogFriendlyMessage(i)))})),t.promise},mapOutgoingDataForCollector:function(){return n.supplyTemplateDeploymentOptions(n._dataModel)}})},r.prototype._configureNameTextBox=function(){var t=this;this.nameTextBox=new FxForms.TextBox.ViewModel(this._container,this,this.createEditScopeAccessor((function(n){return n.name})),{label:ko.observable(ClientResources.ColumnName.name),validations:ko.observableArray([new MsPortalFx.ViewModels.RequiredValidation,new MsPortalFx.ViewModels.CustomValidation("",function(i){return n.Validation.checkNameAvailabilityCreate(
i,t.subscriptionDropDown.value,{name:t.resourceGroupDropDown.value()&&t.resourceGroupDropDown.value().value&&t.resourceGroupDropDown.value().value.name,isNew:t.resourceGroupDropDown.value()&&t.resourceGroupDropDown.value().createNew},t._options)})])})},r.prototype._wireEventSubscriptions=function(){var n=this;this._defaultsComputeInProgress.subscribe(this._container,(function(t){if(!t){n._defaultsComputeInProgressPromise.resolve();var i=n._options.baseControlsToDisable;n.nameTextBox.enabled(!(i&&i.nameTextBox()));n.subscriptionDropDown.enabled(!(i&&i.subscriptionDropdown()));n.locationDropDown.enabled(!(i&&i.locationDropdown()));n.resourceGroupDropDown.enabled(!(i&&i.resourceGroupDropdown()))}}));this.resourceGroupDropDown.value.subscribe(this._container,(function(t){t&&!t.createNew&&t.value.name&&n.nameTextBox.value()&&n.nameTextBox.triggerValidation()}))},r.prototype._computeDefaultsBase=function(){var t=this._getEmptyDefault(),n=this.armProvisioner&&this.armProvisioner.armProvisioningConfig&&
this.armProvisioner.armProvisioningConfig.galleryCreateOptions;return n&&(this._galleryItem(n.galleryItem),n.subscriptionId&&t.subscription({subscriptionId:n.subscriptionId,displayName:n.subscriptionDisplayName,uniqueDisplayName:null,tenantId:null,subscriptionPolicies:null,state:null,authorizationSource:null}),n.resourceGroupLocation&&t.location({name:n.resourceGroupLocation,displayName:n.resourceGroupLocationDisplayName})),t.subscription()&&t.location()||MsPortalFx.Base.Diagnostics.Log.writeEntry(1,"CreateAssetViewModel._computeDefaultsBase","Compute default base couldn't assign a value to either location or subscription. Defaults object: {0}.".format(ko.toJSON(t))),this._computeDefaults(t)},r.prototype._computeNonMPDefaults=function(n){var r=this,t=this._getEmptyDefault(),i=Q.defer();return n.location&&t.location({name:n.location,displayName:null}),n.resourceGroup&&t.resourceGroup({createNew:!1,value:{name:n.resourceGroup,location:n.location,provisioningState:null}}),MsPortalFx.Azure.
getSubscriptionInfo(n.subscriptionId).then((function(n){t.subscription(n)})).finally((function(){r._computeDefaults(t).then((function(n){i.resolve(n)}))})),i.promise},Object.defineProperty(r.prototype,"_dataModel",{get:function(){return this.editScope()&&this.editScope().root?this.editScope().root:null},enumerable:!0,configurable:!0}),r})(r);t.CreateAssetViewModel=f;e=(function(n){function i(i,r,u){n.call(this,i);this._options=u;this._wizardReady=ko.observable(!1);this._wizardSelectable=new MsPortalFx.ViewModels.Selectable;this._container=i;this._configureParameterProvider();this.editScope=this.parameterProvider.editScope;this.actionBar=new MsPortalFx.ViewModels.ActionBars.CreateActionBar.ViewModel(i);this.actionBar.showActionBar(!1);t.initArmProvisioner(this,i,r,!0);this.wizard=new MsPortalFx.ViewModels.Controls.Wizard.ViewModel(r&&r.content)}return __extends(i,n),i.prototype.getDeploymentTemplateFileUri=function(){throw new AbstractMethodError("CreateAssetWizardViewModelBase","getDeploymentTemplateFileUri");
},i.prototype.getDeploymentTemplateJson=function(){throw new AbstractMethodError("CreateAssetWizardViewModelBase","getDeploymentTemplateJson");},i.prototype.getDeploymentTemplateParameters=function(){throw new AbstractMethodError("CreateAssetWizardViewModelBase","getDeploymentTemplateParameters");},i.prototype.supplyTemplateDeploymentOptions=function(n){return t.supplyTemplateDeploymentOptionsHelper(this,n)},i.prototype.supplyTemplateDeploymentOptionsSafe=function(n){var t=null;try{t=this.supplyTemplateDeploymentOptions(n)}catch(i){MsPortalFx.Base.Diagnostics.Log.writeEntry(1,"CreateAssetWizardViewModelBase.supplyTemplateDeploymentOptionsSafe","supplyTemplateDeploymentOptions threw an exception. Maybe the wizard called it before the data was ready? Details: {0}".format(FxImpl.Diagnostics.getLogFriendlyMessage(i)))}return t},i.prototype._initializeWizard=function(n){var t=this;ko.reactor(n,(function(){t._wizardSelectable.isSelected(!1);t._wizardSelectable.isSelected(!!t.wizard.selection(
)&&t._wizardReady())}));this.wizard.selection.subscribe(n,(function(n){!n&&t._currentStepId&&(t.wizard.stepOutput({status:t.wizard.steps().first((function(n){return n.stepId===t._currentStepId})).status(),action:4,stepId:t._currentStepId}),t._currentStepId=null,t._wizardReady(!0))}));this.wizard.mode=MsPortalFx.ViewModels.Controls.Wizard.WizardMode.Sequential},i.prototype._openFirstStep=function(){var n=this;this.editScope.subscribe(this._container,(function(){n.wizard.initialize()}))},i.prototype._getEmptyDefault=function(){return new this._options.createAssetDataModelType},i.prototype._configureParameterProvider=function(){var n=this,t=null;this._options.specifyParameterProviderMetadataType&&(t=this._options.createAssetDataModelType.metadata.name);this.parameterProvider=new MsPortalFx.ViewModels.ParameterProvider(this._container,{editScopeMetadataType:t,mapIncomingDataForEditScope:function(t){return n.parameterProviderIncoming=t,n._wizardReady(!0),n._getEmptyDefault()},mapOutgoingDataForCollector:
function(){return n.supplyTemplateDeploymentOptions(n._dataModel)}})},Object.defineProperty(i.prototype,"_dataModel",{get:function(){return this.editScope()&&this.editScope().root?this.editScope().root:null},enumerable:!0,configurable:!0}),i})(FxForms.Form.ViewModel);t.CreateAssetWizardViewModelBase=e})(t=n.Create||(n.Create={}))})(ExtensionCore||(ExtensionCore={}));FxViewModels=MsPortalFx.ViewModels,(function(n){var t;(function(t){"use strict";function i(n,t,i,r){n.armProvisioner=new Arm.Provisioner(t,i,{supplyTemplateDeploymentOptions:function(){var t=n.supplyTemplateDeploymentOptions(n._dataModel);return t?t.resourceGroupName||MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"CreateBaseHelpers.initArmProvisioner.supplyTemplateDeploymentOptions","FATAL: Deployment options has no RG selection! Deployment name: '{0}', Subscription ID: '{1}', Template: {2}.".format(t.deploymentName,t.subscriptionId,t.templateLinkUri||t.templateJson)):MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"CreateBaseHelpers.initArmProvisioner.supplyTemplateDeploymentOptions",
"FATAL: Deployment options provided to armProvisioner is null!"),Q(t)},actionBar:n.actionBar,parameterProvider:n.parameterProvider,createFeatures:r?16:32})}function r(t,i){var u=t.armProvisioner&&t.armProvisioner.armProvisioningConfig&&t.armProvisioner.armProvisioningConfig.galleryCreateOptions,l=i.name(),e=i.subscription().subscriptionId,o=i.resourceGroup().value.name,a=i.location().name,s=t._options.providerName,v=t._options.resourceType,y="/subscriptions/"+e+"/resourcegroups/"+o+"/providers/"+s+"/"+v+"/"+l,p=t.getDeploymentTemplateParameters(),w=u&&n.Utilities.getDeploymentName(u.deploymentName),f={subscriptionId:e,resourceGroupName:o,resourceGroupLocation:a,parameters:p,deploymentName:w,resourceProviders:[s],resourceId:y,suppressDefaultNotifications:!!t._options.customNotifications},r=null,c;try{r=t.getDeploymentTemplateJson();f.templateJson=r}catch(h){h instanceof AbstractMethodError||MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"CreateBaseHelpers.supplyTemplateDeploymentOptionsHelper",
"Base class method getDeploymentTemplateJson() was overridden in the derived class, but it threw an unexpected exception.Error was: {0}.".format(FxImpl.Diagnostics.getLogFriendlyMessage(h)))}return r||(c=t.getDeploymentTemplateFileUri(),r=u&&u.deploymentTemplateFileUris[c],f.templateLinkUri=r),f}function u(n,t,i,r){var u=new FxViewModels.Selectable,f,e;t.registerForDispose(u);f=t;typeof f.registerSelectable=="function"&&f.registerSelectable(t.createChildLifetime(),MsPortalFx.getUniqueId(),u,{openInContextPane:!0,persistentContextPane:!0});n.enableErrorInfoBox(!0);e={validate:function(){var e=MsPortalFx.Resources.Strings.Azure.ResourceManager.Provisioner,u=e.ArmValidation,o=Q().then((function(){return Arm.Deployments.validateTemplate(i()).then((function(){return FxViewModels.getValidationResult()})).catch((function(n){return n.status===0?(MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"CreateBaseHelpers.enableDeploymentValidation-{0}".format(r),"A network error occurred. Error details: {0}".format(
FxImpl.Diagnostics.getLogFriendlyMessage(n))),FxViewModels.getValidationResult(u.networkFailure)):{valid:!1,message:u.validationFailed,blade:{extension:MsPortalFx.Base.Constants.ExtensionNames.Hubs,detailBlade:"ArmErrorsBlade",detailBladeInputs:{errors:n.error}}}}))})),f=Q.timeout(o,Arm.Provisioner.armValidationTimeout).catch((function(){return MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"CreateBaseHelpers.enableDeploymentValidation-{0}".format(r),"Deployment validation timeout out. Returning validation success and submitting deployment."),FxViewModels.getValidationResult()})),n=t;return n.operations&&n.operations.add&&n.operations.add(f,{blockUi:!0,shieldType:1}),f}};n.infoBoxSelectable=u;n.asyncValidations.push(e)}function f(t,i,r,u,f){return{validate:function(){var e=Q.defer(),o=r.value(),s=u.value();return f&&f(),i&&!i.usagesToCheck||i.usagesToCheck().length===0?e.resolve(FxViewModels.getValidationResult()):o&&o.subscriptionId&&s&&s.name&&i&&i.providerName?n.Utilities.ListUsages(o.subscriptionId,
i.providerName,s.name,t).then((function(t){var r=i.usagesToCheck().first((function(i){var r=t.first((function(t){return StringEx.equals(t.name.value,n.DataModels.UsagesType[i],StringComparison.IgnoreCase)})),u;return r&&r.currentValue>=r.limit?(u=ClientResources.Quota.full.format(r.name.localizedValue,r.currentValue,r.name.localizedValue),e.resolve(FxViewModels.getValidationResult(u)),!0):!1}));r||e.resolve(FxViewModels.getValidationResult())})).catch((function(n){Diagnostics.Log.writeEntry(2,"CreateBaseHelpers.getQuotasAsyncValidator","Unable to retrieve quotas for subscription {0}. Error was {1}".format(r.value().subscriptionId,FxImpl.Diagnostics.getLogFriendlyMessage(n)));e.resolve(FxViewModels.getValidationResult())})):e.resolve(FxViewModels.getValidationResult()),e.promise}}}t.initArmProvisioner=i;t.supplyTemplateDeploymentOptionsHelper=r;t.enableDeploymentValidation=u;t.getQuotasAsyncValidator=f})(t=n.Create||(n.Create={}))})(ExtensionCore||(ExtensionCore={}));var FxBase=MsPortalFx.Base,ViewModels=
MsPortalFx.ViewModels,Grid=ViewModels.Controls.Lists.Grid,Extensions=Grid.Extensions,FxData=MsPortalFx.Data,ExtensionCore;(function(n){var t;(function(n){"use strict";var t=(function(n){function t(t){var u=this,i,r;n.call(this);i=t.lifetime;r=this._sourceItems=MsPortalFx.initObservableArray(t.sourceItems);this._filter=t.filter||function(){return!0};this._compare=t.compare||function(n,t,i){var r=0;return n.some((function(n){var f=n.sortOrder,u;return f!==FxData.SortOrder.Unsorted&&(u=n.itemKey,r=MsPortalFx.compare(t[u],i[u]),f===FxData.SortOrder.Descending&&(r=-r)),r!==0})),r};this.items=ko.observableArray();this.metadata=ko.observable({});r.subscribeAndRun(i,(function(){u._reset=!0}))}return __extends(t,n),Object.defineProperty(t.prototype,"sourceItems",{get:function(){return this._sourceItems},enumerable:!0,configurable:!0}),t.prototype.resetNavigation=function(){return this._reset=!0,n.prototype.resetNavigation.call(this)},t.prototype.loadBySkipTake=function(n,t,i,r){var e=this,u=this._reset,
o,s,h,f;return this._reset=!1,(u||!MsPortalFx.deepEquals(r,this._sortBy))&&(this._sortBy=r,o={},this._sortedItems=MsPortalFx.stableSort(this._sourceItems(),(function(n,t){return e._compare(r,n,t,o)})),u=!0),(u||i!==this._filterText)&&(this._filterText=i,s={},this._filteredItems=(this._sortedItems||[]).filter((function(n){return e._filter(i,n,s)})),this._filteredItems=this._filteredItems||[],u=!0),n=n||0,(u||n!==this._skip||t!==this._take)&&(this._skip=n,this._take=t,h=(this._filteredItems||[]).slice(n,n+t),this.items(h)),f=(this._filteredItems||[]).length,f!==this._total&&(this._total=f,this.metadata({totalItemCount:f})),Q()},t})(MsPortalFx.Data.DataNavigatorBase);n.ArrayNavigator=t})(t=n.Data||(n.Data={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(n){"use strict";var f=(function(){function n(){}return n.ProcessorTotalPercentageProcessorTime="\\Processor(_Total)\\% Processor Time",n.ProcessorTotalPercentageInterruptTime="\\Processor(_Total)\\% Interrupt Time",n.ProcessorTotalPercentagePrivilegedTime=
"\\Processor(_Total)\\% Privileged Time",n.ProcessorInformationTotalParkingStatus="\\Processor Information(_Total)\\Parking Status",n.ProcessorTotalPercentageUserTime="\\Processor(_Total)\\% User Time",n.ProcessorInformationTotalPercentageProcessorPerformance="\\Processor Information(_Total)\\% Processor Performance",n.ProcessorInformationTotalProcessorFrequency="\\Processor Information(_Total)\\Processor Frequency",n.SystemThreads="\\System\\Threads",n.SystemProcesses="\\System\\Processes",n.ThreadTotalContextSwitches="\\Thread(_Total)\\Context Switches/sec",n.MemoryCommittedBytes="\\Memory\\Committed Bytes",n.MemoryAvailableBytes="\\Memory\\Available Bytes",n.MemoryPercentageCommittedBytesInUse="\\Memory\\% Committed Bytes In Use",n.MemoryCacheFaults="\\Memory\\Cache Faults/sec",n.MemoryPageFaults="\\Memory\\Page Faults/sec",n.MemoryPageReads="\\Memory\\Page Reads/sec",n.MemoryPages="\\Memory\\Pages/sec",n.MemoryTransitionFaults="\\Memory\\Transition Faults/sec",n.MemoryPoolPagedBytes=
"\\Memory\\Pool Paged Bytes",n.MemoryPoolNonpagedBytes="\\Memory\\Pool Nonpaged Bytes",n.ProcessTotalPercentageProcessorTime="\\Process(_Total)\\% Processor Time",n.ProcessTotalPageFaults="\\Process(_Total)\\Page Faults/sec",n.ProcessTotalThreadCount="\\Process(_Total)\\Thread Count",n.ProcessTotalHandleCount="\\Process(_Total)\\Handle Count",n.ProcessTotalPrivateBytes="\\Process(_Total)\\Private Bytes",n.ProcessTotalWorkingSet="\\Process(_Total)\\Working Set",n.ProcessTotalWorkingSetPrivate="\\Process(_Total)\\Working Set - Private",n.PhysicalDiskTotalDiskReadBytes="\\PhysicalDisk(_Total)\\Disk Read Bytes/sec",n.PhysicalDiskTotalDiskWriteBytes="\\PhysicalDisk(_Total)\\Disk Write Bytes/sec",n.WebServiceTotalBytesTotal="\\Web Service(_Total)\\Bytes Total/Sec",n.WebServiceTotalISAPIExtensionRequests="\\Web Service(_Total)\\ISAPI Extension Requests/sec",n.WebServiceTotalConnectionAttempts="\\Web Service(_Total)\\Connection Attempts/sec",n.WebServiceTotalCurrentConnections="\\Web Service(_Total)\\Current Connections",
n.WebServiceTotalGetRequests="\\Web Service(_Total)\\Get Requests/sec",n.WebServiceTotalPostRequests="\\Web Service(_Total)\\Post Requests/sec",n.TCPv4ConnectionsEstablished="\\TCPv4\\Connections Established",n.TCPv4ConnectionFailures="\\TCPv4\\Connection Failures",n.TCPv4ConnectionsReset="\\TCPv4\\Connections Reset",n.TCPv4SegmentsSent="\\TCPv4\\Segments Sent/sec",n.TCPv4SegmentsReceived="\\TCPv4\\Segments Received/sec",n.TCPv4SegmentsRetransmitted="\\TCPv4\\Segments Retransmitted/sec",n.ASPNETApplicationsRunning="\\ASP.NET\\Applications Running",n.ASPNETRequestWaitTime="\\ASP.NET\\Request Wait Time",n.ASPNETRequestExecutionTime="\\ASP.NET\\Request Execution Time",n.ASPNETRequestsQueued="\\ASP.NET\\Requests Queued",n.ASPNETRequestsRejected="\\ASP.NET\\Requests Rejected",n.ASPNETApplicationsTotalRequests="\\ASP.NET Applications(__Total__)\\Requests/Sec",n.ASPNETApplicationsTotalErrorsTotal="\\ASP.NET Applications(__Total__)\\Errors Total/Sec",n.ASPNETApplicationsTotalRequestsInApplicationQueue=
"\\ASP.NET Applications(__Total__)\\Requests In Application Queue",n.ASPNETApplicationsTotalPipelineInstanceCount="\\ASP.NET Applications(__Total__)\\Pipeline Instance Count",n.ASPNETApplicationsTotalRequestsExecuting="\\ASP.NET Applications(__Total__)\\Requests Executing",n.NETCLRJitGlobalPercentageTimeinJit="\\.NET CLR Jit(_Global_)\\% Time in Jit",n.NETCLRLoadingGlobalPercentageTimeLoading="\\.NET CLR Loading(_Global_)\\% Time Loading",n.NETCLRLocksAndThreadsGlobalCurrentQueueLength="\\.NET CLR LocksAndThreads(_Global_)\\Current Queue Length",n.NETCLRLocksAndThreadsGlobalContentionRate="\\.NET CLR LocksAndThreads(_Global_)\\Contention Rate / sec",n.NETCLRLocksAndThreadsGlobalCurrentlogicalThreads="\\.NET CLR LocksAndThreads(_Global_)\\# of current logical Threads",n.NETCLRLocksAndThreadsGlobalCurrentphysicalThreads="\\.NET CLR LocksAndThreads(_Global_)\\# of current physical Threads",n.NETCLRMemoryGlobalPercentageTimeinGC="\\.NET CLR Memory(_Global_)\\% Time in GC",n.NETCLRMemoryGlobalAllocatedBytes=
"\\.NET CLR Memory(_Global_)\\Allocated Bytes/sec",n.NETCLRMemoryGlobalGen0heapsize="\\.NET CLR Memory(_Global_)\\Gen 0 heap size",n.NETCLRMemoryGlobalGen1heapsize="\\.NET CLR Memory(_Global_)\\Gen 1 heap size",n.NETCLRMemoryGlobalGen2heapsize="\\.NET CLR Memory(_Global_)\\Gen 2 heap size",n.NETCLRMemoryGlobalLargeObjectHeapsize="\\.NET CLR Memory(_Global_)\\Large Object Heap size",n.NETCLRMemoryGlobalBytesinallHeaps="\\.NET CLR Memory(_Global_)\\# Bytes in all Heaps",n.NETCLRNetworkingGlobalConnectionsEstablished="\\.NET CLR Networking(_Global_)\\Connections Established",n.NETCLRRemotingGlobalRemoteCalls="\\.NET CLR Remoting(_Global_)\\Remote Calls/sec",n.NETCLRExceptionsGlobalExcepsThrown="\\.NET CLR Exceptions(_Global_)\\# of Exceps Thrown / sec",n.NETCLRInteropGlobalMarshalling="\\.NET CLR Interop(_Global_)\\# of marshalling",n})(),t,i,r,u;n.WindowsVirtualMachineMetrics=f;t=(function(){function n(){}return n.ProcessorTotalPercentageProcessorTime="Percentage CPU",n.NetworkIn="Network In",
n.NetworkOut="Network Out",n.DiskReadBytes="Disk Read Bytes",n.DiskWriteBytes="Disk Write Bytes",n.DiskReadOperationsPerSec="Disk Read Operations/Sec",n.DiskWriteOperationsPerSec="Disk Write Operations/Sec",n})();n.WindowsMdmVirtualMachineMetrics=t;i=(function(){function n(){}return n.MemoryAvailable="\\Memory\\AvailableMemory",n.MemoryPercentAvailable="\\Memory\\PercentAvailableMemory",n.MemoryUsed="\\Memory\\UsedMemory",n.MemoryPercentage="\\Memory\\PercentUsedMemory",n.MemoryUsedByCache="\\Memory\\PercentUsedByCache",n.PagesPerSecond="\\Memory\\PagesPerSec",n.PageReads="\\Memory\\PagesReadPerSec",n.PageWrites="\\Memory\\PagesWrittenPerSec",n.SwapPercentAvailable="\\Memory\\PercentAvailableSwap",n.SwapAvailable="\\Memory\\AvailableSwap",n.SwapUsed="\\Memory\\UsedSwap",n.SwapPercentUsed="\\Memory\\PercentUsedSwap",n.CPUIdleTime="\\Processor\\PercentIdleTime",n.CPUUserTime="\\Processor\\PercentUserTime",n.CPUNiceTime="\\Processor\\PercentNiceTime",n.CPUPrivilegedTime="\\Processor\\PercentPrivilegedTime",
n.CPUInterruptTime="\\Processor\\PercentInterruptTime",n.CPUDPCTime="\\Processor\\PercentDPCTime",n.CPUPercentageGuestOS="\\Processor\\PercentProcessorTime",n.CPUIOWaitTime="\\Processor\\PercentIOWaitTime",n.DiskTotalBytes="\\PhysicalDisk\\BytesPerSecond",n.DiskReadGuestOS="\\PhysicalDisk\\ReadBytesPerSecond",n.DiskWriteGuestOS="\\PhysicalDisk\\WriteBytesPerSecond",n.DiskTransfers="\\PhysicalDisk\\TransfersPerSecond",n.DiskReads="\\PhysicalDisk\\ReadsPerSecond",n.DiskWrites="\\PhysicalDisk\\WritesPerSecond",n.DiskReadTime="\\PhysicalDisk\\AverageReadTime",n.DiskWriteTime="\\PhysicalDisk\\AverageWriteTime",n.DiskTransferTime="\\PhysicalDisk\\AverageTransferTime",n.DiskQueueLength="\\PhysicalDisk\\AverageDiskQueueLength",n.NetworkOutGuestOS="\\NetworkInterface\\BytesTransmitted",n.NetworkInGuestOS="\\NetworkInterface\\BytesReceived",n.PacketsSent="\\NetworkInterface\\PacketsTransmitted",n.PacketsReceived="\\NetworkInterface\\PacketsReceived",n.NetworkTotalBytes="\\NetworkInterface\\BytesTotal",
n.PacketsReceivedErrors="\\NetworkInterface\\TotalRxErrors",n.PacketsSentErrors="\\NetworkInterface\\TotalTxErrors",n.NetworkCollisions="\\NetworkInterface\\TotalCollisions",n})();n.LinuxVirtualMachineMetrics=i;r=(function(){function n(){}return n.ProcessorTotalPercentageProcessorTime="Percentage CPU",n.NetworkIn="Network In",n.NetworkOut="Network Out",n.DiskReadBytes="Disk Read Bytes",n.DiskWriteBytes="Disk Write Bytes",n.DiskReadOperationsPerSec="Disk Read Operations/Sec",n.DiskWriteOperationsPerSec="Disk Write Operations/Sec",n})();n.LinuxMdmVirtualMachineMetrics=r;u=(function(){function n(){}return n.Throughput="Throughput",n})();n.ApplicationGatewayMetrics=u})(t=n.Models||(n.Models={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(t){"use strict";var i=n.DataModels.Network,r=(function(){function n(){this.id=ko.observable();this.name=ko.observable();this.description=ko.observable();this.direction=ko.observable();this.access=ko.observable();this.protocol=ko.observable();
this.priority=ko.observable();this.sourceAddressPrefix=ko.observable();this.sourcePortRange=ko.observable();this.destinationAddressPrefix=ko.observable();this.destinationPortRange=ko.observable()}return n.convertNetworkSecurityRuleToSecurityRuleModelArm=function(t){var r=new n;return t&&t.id()?(r.id(t.id()),r.name(t.name()),r.direction(i.NetworkSecurityRule.getDirection(t)),r.access(i.NetworkSecurityRule.getAccess(t)),r.protocol(i.NetworkSecurityRule.getProtocol(t)),r.priority(i.NetworkSecurityRule.getPriority(t)),r.sourcePortRange(i.NetworkSecurityRule.getSourcePortRange(t)),r.destinationPortRange(i.NetworkSecurityRule.getDestinationPortRange(t)),r.sourceAddressPrefix(i.NetworkSecurityRule.getSourceAddressPrefix(t)),r.destinationAddressPrefix(i.NetworkSecurityRule.getDestinationAddressPrefix(t))):t?Diagnostics.Log.writeEntry(2,"SecurityRuleModelArm.convertNetworkSecurityRuleToSecurityRuleModelArm","The security rule lacked an ID."):Diagnostics.Log.writeEntry(2,"SecurityRuleModelArm.convertNetworkSecurityRuleToSecurityRuleModelArm",
"The security rule to convert was null."),r},n.convertNetworkSecurityRuleArrayToSecurityRuleModelArm=function(t){var i=[];return t&&t.length>0&&t.forEach((function(t){i.push(n.convertNetworkSecurityRuleToSecurityRuleModelArm(t))})),i},n})();t.SecurityRuleModelArm=r})(t=n.Models||(n.Models={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(){"use strict"})(t=n.Models||(n.Models={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(n){var t;(function(n){var t;(function(n){var t;(function(n){"use strict";var i=(function(){function n(){}return n.PremiumLocallyRedundant="Premium_LRS",n.StandardLocallyRedundant="Standard_LRS",n.StandardZoneRedundant="Standard_ZRS",n.StandardGeoRedundant="Standard_GRS",n.StandardReadAccessGeoRedundant="Standard_RAGRS",n})(),t;n.StorageAccountType=i;t=(function(){function n(){}return n.Blob="Blob",n.Container="Container",n})();n.StoragePickerTarget=t})(t=n.StorageContainerPicker||(n.StorageContainerPicker={}))})(t=n.Storage||(n.Storage=
{}))})(t=n.Extensions||(n.Extensions={}))})(t=n.Portal||(n.Portal={}))})(Microsoft||(Microsoft={}));Interface=Microsoft.Portal.Extensions.Storage.StorageContainerPicker,(function(n){var t;(function(n){"use strict";var t=(function(){function n(){}return n.metadata={name:"ExtensionCore.Models.StorageContainerPickerModel",properties:{storageAccountId:null,storageAccountType:null,containerUri:null,sasUri:null,containerSasUri:null,size:null},entityType:!0,idProperties:["id"]},n})();n.StorageContainerPickerModel=t;MsPortalFx.Data.Metadata.setTypeMetadata(t.metadata.name,t.metadata)})(t=n.Models||(n.Models={}))})(ExtensionCore||(ExtensionCore={}));Diagnostics=MsPortalFx.Base.Diagnostics,(function(n){var t;(function(n){"use strict";var t,i,r;(function(n){n[n.networkSecurityGroupUsage=0]="networkSecurityGroupUsage";n[n.coresUsage=1]="coresUsage";n[n.networkInterfacesUsage=2]="networkInterfacesUsage";n[n.virtualNetworksUsage=3]="virtualNetworksUsage";n[n.publicIPAddressesUsage=4]="publicIPAddressesUsage";
n[n.staticPublicIPAddressesUsage=5]="staticPublicIPAddressesUsage";n[n.availabilitySetsUsage=6]="availabilitySetsUsage";n[n.virtualMachinesUsage=7]="virtualMachinesUsage";n[n.virtualMachinesScaleSetsUsage=8]="virtualMachinesScaleSetsUsage";n[n.storageAccountsUsage=9]="storageAccountsUsage"})(n.UsageTypes||(n.UsageTypes={}));t=n.UsageTypes;i=(function(){function n(){}return n.GetUsageName=function(i){switch(i){case t.networkSecurityGroupUsage:return n.networkSecurityGroupUsage;case t.coresUsage:return n.coresUsage;case t.networkInterfacesUsage:return n.networkInterfacesUsage;case t.virtualNetworksUsage:return n.virtualNetworksUsage;case t.publicIPAddressesUsage:return n.publicIPAddressesUsage;case t.staticPublicIPAddressesUsage:return n.staticPublicIPAddressesUsage;case t.availabilitySetsUsage:return n.availabilitySetUsage;case t.virtualMachinesUsage:return n.virtualMachinesUsage;case t.virtualMachinesScaleSetsUsage:return n.virtualMachinesScaleSetsUsage;case t.storageAccountsUsage:return n.
storageAccountsUsage;default:return Diagnostics.Log.writeEntry(1,"Usage.GetUsageName","No matching string for UsageType: {0}.".format(i)),null}},n.availabilitySetUsage="availabilitySets",n.networkSecurityGroupUsage="NetworkSecurityGroups",n.coresUsage="cores",n.networkInterfacesUsage="NetworkInterfaces",n.virtualNetworksUsage="VirtualNetworks",n.publicIPAddressesUsage="PublicIPAddresses",n.staticPublicIPAddressesUsage="StaticPublicIPAddresses",n.virtualMachinesUsage="virtualMachines",n.virtualMachinesScaleSetsUsage="virtualMachineScaleSets",n.storageAccountsUsage="StorageAccounts",n})();n.Usage=i;r=(function(){function n(){}return n})();n.UsageName=r})(t=n.Models||(n.Models={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(n){var t;(function(n){"use strict";(function(n){n[n.ShowCreateItem=1]="ShowCreateItem";n[n.ShowNoneItem=2]="ShowNoneItem"})(n.PickerDisplayFlags||(n.PickerDisplayFlags={}));var t=n.PickerDisplayFlags})(t=n.BaseViewModels||(n.BaseViewModels={}))})(t=n.
UI||(n.UI={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(n){"use strict";var t=(function(){function n(){}return n.standard="standard",n.premium="premium",n})();n.DiskType=t})(t=n.Constants||(n.Constants={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(){"use strict"})(t=n.Models||(n.Models={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(n){var t;(function(n){var t;(function(){"use strict"})(t=n.Networking||(n.Networking={}))})(t=n.Extensions||(n.Extensions={}))})(t=n.Portal||(n.Portal={}))})(Microsoft||(Microsoft={})),(function(n){var t;(function(n){var t;(function(n){var t;(function(n){var t;(function(n){"use strict";var i=(function(){function n(){}return n.PremiumLocallyRedundant="Premium_LRS",n.StandardLocallyRedundant="Standard_LRS",n.StandardZoneRedundant="Standard_ZRS",n.StandardGeoRedundant="Standard_GRS",n.StandardReadAccessGeoRedundant="Standard_RAGRS",n})(),t;n.StorageAccountType=i;t=(function(){function n(){}return n.GeneralAccount=
"Storage",n.BlobAccount="BlobStorage",n})();n.StorageAccountKind=t})(t=n.StorageAccountPicker||(n.StorageAccountPicker={}))})(t=n.Storage||(n.Storage={}))})(t=n.Extensions||(n.Extensions={}))})(t=n.Portal||(n.Portal={}))})(Microsoft||(Microsoft={}));ObjectEx=(function(){function n(){}return n.isObject=function(n){return n&&typeof n=="object"&&!(n instanceof Date)&&!Array.isArray(n)},n})(),(function(n){var t;(function(){"use strict";function t(t){var r=[],i,u;for(i in t)t.hasOwnProperty(i)&&r.push({key:i,value:t[i]});return r.sort((function(n,t){return n.key<t.key?-1:1})),u=r.map((function(t){return'"'+t.key+'":'+n(t.value)})),"{"+u.join(",")+"}"}function n(n){return ObjectEx.isObject(n)?t(n):Array.isArray(n)?i(n):JSON.stringify(n)}function i(t){var i=t.map((function(t){return n(t)}));return"["+i.join(",")+"]"}JSON.stringifyOrdered||(JSON.stringifyOrdered=n)})(t=n.Polyfills||(n.Polyfills={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(t){"use strict";function u(n){return n?(n=
$.extend({},t.defaultAjaxSettings,n),n.traditional&&n.data&&(n.data=typeof n.data=="string"?n.data:JSON.stringify(n.data||{})),n):n}function r(t,i){i=u(i);var r=i;return t&&!t.toLowerCase().startsWith("http")&&(t=MsPortalFx.ensurePrefix(t,"/"),t=n.ArmUtils.controllerEndpoint+t,r.invokeApi="api/invoke"),r.uri=t,r}function i(n,t){var i=r(n,t);return MsPortalFx.Base.Net.ajax(i)}function f(n,t){var i=r(n,t);return MsPortalFx.Base.Net.cachedAjax(i)}function e(n,t){return i(n,{data:t,type:"POST"})}function o(n,t){return i(n,{data:t,type:"PUT"})}function s(n){return i(n,{type:"GET"})}t.defaultAjaxSettings={cache:!0,contentType:"application/json",traditional:!0,setAuthorizationHeader:!0};t.ajax=i;t.cachedAjax=f;t.post=e;t.put=o;t.get=s})(t=n.Net||(n.Net={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(t){"use strict";function i(n){n.loader||(typeof n.poll!="boolean"&&(n.poll=!0),n.pollInterval||(n.pollInterval=window.fx.environment.pollingInterval),n.supplyData||(n.supplyData=
r),typeof n.extendEntryLifetimes!="boolean"&&(n.extendEntryLifetimes=!0))}function f(n){if(n.assetDeletedOptions){var t=n.supplyData;n.supplyData=function(i,r,u,f,e,o){return t(i,r,u,f,e,o).catch((function(t){if(t&&t.status===404&&MsPortalFx.UI.AssetManager.notifyAssetDeleted(n.assetDeletedOptions.assetType,n.assetDeletedOptions.getAssetId(e)),t&&t.jqXHR){t.jqXHR.status===404&&MsPortalFx.UI.AssetManager.notifyAssetDeleted(n.assetDeletedOptions.assetType,n.assetDeletedOptions.getAssetId(e));throw t;}}))}}}function h(t,i,r,u){return n.Net.ajax(i,{type:t,headers:r,data:u})}function r(t,i,r,u){return Q(n.Net.cachedAjax(i,{type:t,headers:r,data:u}))}function c(n,t,i,u,f){return r(f,t,u,i)}function l(t){var i=n.Utilities.parseValueArray(t);return{data:i}}var e=(function(n){function t(t){i(t);f(t);n.call(this,t)}return __extends(t,n),t})(MsPortalFx.Data.EntityCache),u,o,s;t.EntityCache=e;MsPortalFx.Data.EntityCache=e;u=(function(n){function t(t){i(t);n.call(this,t)}return __extends(t,n),t})(MsPortalFx.
Data.QueryCache);t.QueryCache=u;MsPortalFx.Data.QueryCache=u;o=(function(n){function t(t){i(t);n.call(this,t)}return __extends(t,n),t})(MsPortalFx.Data.DataCacheLoader);MsPortalFx.Data.DataCacheLoader=o;s=(function(n){function t(t){this.config=t;i(t);f(this.config);this._isHttpPutOrPost()&&this._setHttpPutOrPostConfigOptions(this.config);n.call(this,t)}return __extends(t,n),t.prototype.serializeParams=function(t){if(this.config.serializeParams)return this.config.serializeParams(t);var i=n.prototype.serializeParams.call(this,t)||"";return this._isHttpPutOrPost()&&t&&(i="{0} - {1}".format(i,JSON.stringifyOrdered(ko.toJS(t)))),i.toUpperCase()},t.prototype._setHttpPutOrPostConfigOptions=function(){var t=this,n;this.config.requestBody||(this.config.requestBody=function(n){return n});this.config.supplyData||(this.config.supplyData=r);n=this.config.supplyData;this.config.supplyData=function(i,r,u,f,e,o){var s=t.config.requestBody(e);return ObjectEx.isObject(s)&&(f=f||{},$.extend(f,s),f=ko.toJSON(
f)),n(i,r,u,f,e,o)}},t.prototype._isHttpPutOrPost=function(){var n=this.config.httpMethod||"GET";return!StringEx.equals(n,"GET",StringComparison.IgnoreCase)},t})(MsPortalFx.Data.DataCacheLoader);t.DataCacheLoader=s;t.defaultSupplyDataNoCaching=h;t.defaultSupplyData=r;t.defaultFetchData=c;t.processValueArrayServerResponse=l})(t=n.Data||(n.Data={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(n){"use strict";var t=(function(){function n(){}return n})();n.ComingSoonInfo=t})(t=n.ComingSoon||(n.ComingSoon={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(n){"use strict";var t=(function(){function n(){}return n.AllTimeRanges=function(){return[n.ThirtyMinutes,n.SixHours,n.TwentyFourHours,n.SevenDays,n.OneHour]},n.GetMetricTimeRange=function(t){return n.AllTimeRanges().first((function(n){return n.TimeRange===t}))},n.SevenDays={TimeRange:"P7D",TimeGrain:"P1D",DisplayName:"7 Days",LongFormatter:"MM/dd",ShortFormatter:"dd",DisplayNameForPartTitle:"past week"},n.TwentyFourHours=
{TimeRange:"PT24H",TimeGrain:"PT1H",DisplayName:"24 Hours",LongFormatter:"ht",ShortFormatter:"h",DisplayNameForPartTitle:"today"},n.SixHours={TimeRange:"PT6H",TimeGrain:"PT1H",DisplayName:"6 Hours",LongFormatter:"ht",ShortFormatter:"h",DisplayNameForPartTitle:""},n.ThirtyMinutes={TimeRange:"PT30M",TimeGrain:"PT1M",DisplayName:"Half Hour",LongFormatter:"min",ShortFormatter:"m",DisplayNameForPartTitle:""},n.OneHour={TimeRange:"PT1H",TimeGrain:"PT5M",DisplayName:"One Hour",LongFormatter:"min",ShortFormatter:"m",DisplayNameForPartTitle:"past hour"},n})();n.MetricTimeRange=t})(t=n.Models||(n.Models={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(n){"use strict";var t=(function(){function n(){this.id=ko.observable();this.name=ko.observable();this.securityRules=ko.observableArray();this.prePopulatedSecurityRules=ko.observableArray()}return n.metadata={name:"NetworkExtension.Models.NetworkSecurityGroupPickerModel",properties:{id:null,name:null,securityRules:{isArray:!0},defaultSecurityRules:
{isArray:!0}},entityType:!0,idProperties:["id"]},n})();n.NetworkSecurityGroupPickerModel=t;MsPortalFx.Data.Metadata.setTypeMetadata(t.metadata.name,t.metadata)})(t=n.Models||(n.Models={}))})(ExtensionCore||(ExtensionCore={}));Interfaces=Microsoft.Portal.Extensions.Storage.StorageAccountPicker,(function(n){var t;(function(n){"use strict";var t=(function(){function n(){this.id=ko.observable();this.isExisting=ko.observable();this.isClassicStorageAccount=ko.observable();this.storageAccountName=ko.observable();this.storageAccountType=ko.observable();this.storageAccountKind=ko.observable();this.hasDiagnostics=ko.observable();this.blobEndpoint=ko.observable();this.location=ko.observable()}return n.metadata={name:"ExtensionCore.Models.StorageAccountPickerData",properties:{id:null,storageAccountName:null,isExisting:null,isClassicStorageAccount:null,storageAccountType:null,storageAccountKind:null,hasDiagnostics:null,blobEndpoint:null,location:null},idProperties:["id"]},n})();n.StorageAccountPickerData=
t;MsPortalFx.Data.Metadata.setTypeMetadata(t.metadata.name,t.metadata)})(t=n.Models||(n.Models={}))})(ExtensionCore||(ExtensionCore={}));NetworkingSharedInterfaces=Microsoft.Portal.Extensions.Networking,(function(n){var t;(function(n){"use strict";var t=(function(){function n(){this.id=ko.observable();this.name=ko.observable();this.addressSpace=ko.observable();this.addressPrefixes=ko.observable();this.subnetName=ko.observable();this.subnetAddressPrefix=ko.observable();this.location=ko.observable();this.usage=ko.observable()}return n.metadata={name:"NetworkExtension.Models.VirtualNetworkPickerModel",properties:{id:null,name:null,addressSpace:null,addressPrefixes:null,subnetName:null,subnetAddressPrefix:null,location:null,usage:null},entityType:!1,idProperties:["id"]},n})();n.VirtualNetworkPickerModel=t;MsPortalFx.Data.Metadata.setTypeMetadata(t.metadata.name,t.metadata)})(t=n.Models||(n.Models={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(n){"use strict";var t=(function(
){function n(){this.id=ko.observable();this.publicIpAddressName=ko.observable();this.ipAddress=ko.observable();this.publicIpAllocationMethod=ko.observable();this.location=ko.observable();this.usage=ko.observable();this.staticIpUsage=ko.observable();this.domainNameLabel=ko.observable()}return n.metadata={name:"NetworkExtension.Models.PublicIpAddressPickerData",properties:{id:null,publicIpAddressName:null,ipAddress:null,publicIpAllocationMethod:null,location:null,usage:null,staticIpUsage:null,domainNameLabel:null},entityType:!1,idProperties:["id"]},n})();n.PublicIpAddressPickerData=t;MsPortalFx.Data.Metadata.setTypeMetadata(t.metadata.name,t.metadata)})(t=n.Models||(n.Models={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(t){"use strict";var i=(function(){function t(t){var i=this;if(!t)throw new ArgumentError(n.Resources.Network.Validation.nonNullAddress);this.address=t.split(".").map((function(r){if(!i._isNumeric(r))throw new ArgumentError(n.Resources.Network.Validation.
malformedAddress.format(t));return parseInt(r,10)}));this._validateIpValue();this._calculateByteValues()}return t.prototype.toString=function(){return n.Network.IPv4Address.bytesToAddressString(this.subnetBytes)},t.prototype.equals=function(n){return this.subnetBytes===n.subnetBytes},t.prototype.isIpInRange=function(n,t){return n.subnetBytes<=this.subnetBytes&&this.subnetBytes<t.subnetBytes},t.bytesToAddressString=function(n){return"{0}.{1}.{2}.{3}".format((n&4278190080)>>>24,(n&16711680)>>>16,(n&65280)>>>8,(n&255)>>>0)},t.prototype._isNumeric=function(n){return/^[0-9]+$/.test(n)},t.prototype._validateIpValue=function(){if(this.address.length!==4)throw new ArgumentError(n.Resources.Network.Validation.malformedAddress.format(this.address.join(".")));this._validateOctet(0);this._validateOctet(1);this._validateOctet(2);this._validateOctet(3)},t.prototype._validateOctet=function(t){if(isNaN(this.address[t])||this.address[t]<(t===0?1:0)||this.address[t]>255)throw new ArgumentError(n.Resources.
Network.Validation.octet.format(t+1,this.address[t],t===0?1:0,255));},t.prototype._calculateByteValues=function(){this.subnetBytes=(this.address[0]<<24>>>0|this.address[1]<<16>>>0|this.address[2]<<8>>>0|this.address[3]<<0>>>0)>>>0},t})();t.IPv4Address=i})(t=n.Network||(n.Network={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(t){"use strict";var i=(function(t){function i(i){if(!i)throw new ArgumentError(n.Resources.Network.Validation.nonNullSubnet);var r=i.split("/");if(r.length===1)this.prefix=32;else if(r.length>2)throw new ArgumentError(n.Resources.Network.Validation.malformedSubnet.format(i));else this.prefix=this._isNumeric(r[1])?parseInt(r[1],10):-1;t.call(this,r[0]);this._validatePrefix();this._calculateSubnetByteValues()}return __extends(i,t),i.prototype.toString=function(){return"{0}/{1}".format(t.prototype.toString.call(this),this.prefix)},i.prototype.toAddressString=function(){return t.prototype.toString.call(this)},i.prototype.isOtherSubnetContained=function(
n){return this.prefix<=n.prefix&&(this.subnetNetMaskBytes&n.subnetBroadcastAddressBytes)>>>0===this.subnetMaskBytes},i.prototype.doesSubnetOverlap=function(n){return this.isOtherSubnetContained(n)||n.isOtherSubnetContained(this)},i.prototype.getFirstAddressInRange=function(t){return n.Network.IPv4Address.bytesToAddressString(((this.subnetBytes&this.subnetNetMaskBytes)>>>0)+(t?t:0))},i.prototype.getLastAddressInRange=function(t){return n.Network.IPv4Address.bytesToAddressString(this.subnetBroadcastAddressBytes-(t?t:0))},i.prototype.doesContainIp=function(n){var t=new i(n.toString());return this.isOtherSubnetContained(t)},i.prototype.getSubnetRange=function(n,t){return"{0} - {1}".format(this.getFirstAddressInRange(n),this.getLastAddressInRange(t))},i.prototype.getUsableIpAddressCount=function(n,t){return n=n?n:0,t=t?t:0,this.subnetBroadcastAddressBytes-((this.subnetBytes&this.subnetNetMaskBytes)>>>0)-n-t+1},i.prototype.getChildSubnet=function(n,t){var o=this._getUsablePrefix(n,!0),r,u,f,
e;if(t&&t.length){for(t.sort((function(n,t){return n.subnetBytes<t.subnetBytes?-1:1})),r=new i(this.getFirstAddressInRange()+"/"+o),u=!0;u;)for(u=!1,f=0;f<t.length;f++)if(e=t[f],r.doesSubnetOverlap(e)){r=e.getNextSubnet(n);u=!0;break}return this.isOtherSubnetContained(r)?r:null}return new i(this.getFirstAddressInRange()+"/"+o)},i.prototype.getIpAddress=function(t){var i=t?t:0;if(this.getUsableIpAddressCount()<i)throw new ArgumentError("offset","The requested IP Address is not in this subnet");return n.Network.IPv4Address.bytesToAddressString(this.subnetBytes+i)},i.prototype.getNextSubnet=function(t){var r=this._getUsablePrefix(t,!1),u,f;return r<this.prefix?(f=new i(this.toAddressString()+"/"+r),u=n.Network.IPv4Address.bytesToAddressString(f.subnetBroadcastAddressBytes+1)):u=n.Network.IPv4Address.bytesToAddressString(this.subnetBroadcastAddressBytes+1),new i(u+"/"+r)},i.prototype.findContainingAddressSpace=function(n){var r,t,u;if(!n||n.length===undefined)throw new ArgumentError("addressSpaces",
"The list of address spaces must be an array");for(typeof n[0]=="string"&&(n=n.map((function(n){return new i(n)}))),r=n,t=0;t<r.length;t++)if(u=r[t],u.isOtherSubnetContained(this))return u;return null},i.prototype._validateOctet=function(t){if(isNaN(this.address[t])||this.address[t]<0||this.address[t]>255)throw new ArgumentError(n.Resources.Network.Validation.octet.format(t+1,this.address[t],0,255));},i.prototype._getUsablePrefix=function(n,t){var i=this.prefix;if(n){if(typeof n=="string"&&(n=parseInt(n,10)),t&&n<this.prefix)throw new ArgumentError("prefix","The supplied prefix was smaller than the parent. It must be greater than or equal to the parent");i=n}return i},i.findSubnetGap=function(t,r,u){var o,c,f,w,h,s,a,p,l;if(!t)throw new ArgumentError("existingSubnets","existingSubnets must not be null");if(r<1||r>32)throw new ArgumentError("desiredPrefix",n.Resources.Network.Validation.prefix);if(t.length===0)return new i("10.0.0.0/"+r.toString());for(o=[],typeof t[0]=="string"?t.forEach(
(function(n){try{var t=new i(n);o.push(t)}catch(r){MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"IPv4Subnet: findSubnetGap","Subnet is malformatted: {0}.".format(FxImpl.Diagnostics.getLogFriendlyMessage(r)))}})):o=t,o.sort((function(n,t){return n.subnetBroadcastAddressBytes<t.subnetBroadcastAddressBytes?-1:1})),c=[],f=0;f<o.length;f++)if(w=c.first((function(n){return n===f})),!w)for(h=0;h<o.length;h++)f!==h&&o[f].isOtherSubnetContained(o[h])&&c.push(h);if(s=o.filter((function(n,t){var i=c.first((function(n){return n===t}));return i===null})),a=new i("10.0.0.0/"+r),a.subnetBroadcastAddressBytes<s[0].subnetBytes)return a;var e,v=new i("10.0.0.0/8"),y=new i("172.16.0.0/12"),b=new i("192.168.0.0/16");for(f=0;f<s.length;f++)if(p=s[f].prefix>r?new i(s[f].toAddressString()+"/"+r.toString()):s[f],l=f+1<s.length?s[f+1]:null,l===null||l.subnetBytes-p.subnetBroadcastAddressBytes>=Math.pow(2,32-r))if(e=new i(n.Network.IPv4Address.bytesToAddressString(p.subnetBroadcastAddressBytes+1)+"/"+r),u){if(v.isOtherSubnetContained(
e)||y.isOtherSubnetContained(e)||b.isOtherSubnetContained(e))return e;if(l===null){if(e.subnetBroadcastAddressBytes<v.subnetBytes)return r>=8?new i("10.0.0.0/"+r):null;if(e.subnetBytes>v.subnetBroadcastAddressBytes&&e.subnetBroadcastAddressBytes<y.subnetBytes)return r>=12?new i("172.16.0.0/"+r):null;if(e.subnetBytes>y.subnetBroadcastAddressBytes&&e.subnetBroadcastAddressBytes<b.subnetBytes)return r>=16?new i("192.168.0.0/"+r):null}}else return e;return null},i.prototype._validatePrefix=function(){if(this.prefix<1||this.prefix>32)throw new ArgumentError("Prefix",n.Resources.Network.Validation.prefix);},i.prototype._calculateSubnetByteValues=function(){this.subnetNetMaskBytes=4294967295<<32-this.prefix>>>0;this.subnetMaskBytes=(this.subnetNetMaskBytes&this.subnetBytes)>>>0;this.subnetBroadcastAddressBytes=((this.subnetNetMaskBytes^4294967295)>>>0|this.subnetBytes)>>>0},i})(t.IPv4Address);t.IPv4Subnet=i})(t=n.Network||(n.Network={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(
t){"use strict";function i(t,i){var r={};return t.forEach((function(t){var u=new n.Network.IPv4Subnet(t),f=i.map((function(t){return new n.Network.IPv4Subnet(t)})).filter((function(n){return u.isOtherSubnetContained(n)}));r[t]=f})),r}function r(i,r){try{var u=new t.IPv4Subnet(i);return r(n.Resources.Network.Validation.addressRangeSummary.format(u.getFirstAddressInRange(),u.getLastAddressInRange(),u.getUsableIpAddressCount())),!0}catch(f){r(n.Resources.Network.Validation.emptyAddressRange);f instanceof ArgumentError||MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"ExtensionCore.Network.tryGetAddressRangeSummary","Unexpected error encountered when forming subnet: {0}. Input was: {1}.".format(FxImpl.Diagnostics.getLogFriendlyMessage(f),i))}return!1}t.getSubnetsInAddressSpaces=i;t.tryGetAddressRangeSummary=r})(t=n.Network||(n.Network={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(t){"use strict";function s(t){return new MsPortalFx.ViewModels.CustomValidation("",function(r){var
u={valid:!0,message:undefined};return!r||t&&StringEx.equals(n.Constants.IpAddresses.empty,r,StringComparison.IgnoreCase)||(u=i(r)),Q(u)})}function i(i){var r={valid:!0,message:undefined},u;try{u=new t.IPv4Address(i);i.split(".").forEach((function(t){t.length>1&&StringEx.equals(t[0],"0",StringComparison.IgnoreCase)&&(r.valid=!1,r.message=n.Resources.Network.Validation.leadingZerosIpAddress.format(t,i))}))}catch(f){r.valid=!1;r.message=n.Resources.Network.IpAddress.Validation.errorMessage}return r}function h(t){return new MsPortalFx.ViewModels.CustomValidation("",function(r){var f=n.Resources.Network.IpAddress.Validation.IpRange,o=!!r&&r.indexOf("-")!==-1,s=!!r&&r.indexOf(";")!==-1,h=t&&t.emptyTextOk,e,u;return t.mixRangeSetNotAllowed&&o&&s?MsPortalFx.ViewModels.getValidationResultPromise(t.mixRangeSetErrorText):(e=!!r&&r.split(";"),e=e&&e.filter((function(n){return!!n})),u=MsPortalFx.ViewModels.getValidationResult(),!e||e.length===0)?h?Q(u):MsPortalFx.ViewModels.getValidationResultPromise(f.
invalidIP.format(r)):(e.every((function(t){var r=t.split("-"),s;if(r=r.filter((function(n){return!!n})),r.length===1)s=r[0],u=i(s),u.valid||(u.message=f.invalidIP.format(s));else if(r.length===2){var e=r[0],o=r[1],h={valid:!0,message:undefined},c={valid:!0,message:undefined};StringEx.equals(n.Constants.IpAddresses.empty,e,StringComparison.IgnoreCase)||(h=i(e));StringEx.equals(n.Constants.IpAddresses.empty,o,StringComparison.IgnoreCase)||(c=i(o));u.valid=h.valid&&c.valid;u.valid||(u.message=h.valid?f.invalidIP.format(o):c.valid?f.invalidIP.format(e):f.invalidIP.format(e).concat(" ",f.invalidIP.format(o)))}else u.valid=!1,u.message=f.invalidRange.format(t);return u.valid})),Q(u))})}function c(t,i,r){return new MsPortalFx.ViewModels.CustomValidation("",function(u){var o=!!u&&u.indexOf("-")!==-1,s=!!u&&u.indexOf(";")!==-1,h=r&&r.emptyTextOk,e,f;return r.mixRangeSetNotAllowed&&o&&s?MsPortalFx.ViewModels.getValidationResultPromise(r.mixRangeSetErrorText):(e=!!u&&u.split(";"),e=e&&e.filter((function(
n){return!!n})),f=MsPortalFx.ViewModels.getValidationResult(),!e||e.length===0)?h?Q(f):MsPortalFx.ViewModels.getValidationResultPromise(t):(e.every((function(r){var u=r.split("-"),e,o;return u=u.filter((function(n){return!!n})),u.length===1?(e=+u[0],(e<n.Constants.PortRange.minValue||e>n.Constants.PortRange.maxValue||!StringEx.equals(u[0],e+""))&&(f.valid=!1,f.message=t)):u.length===2?(e=+u[0],o=+u[1],(e<n.Constants.PortRange.minValue||e>n.Constants.PortRange.maxValue||!StringEx.equals(u[0],e+"")||o<n.Constants.PortRange.minValue||o>n.Constants.PortRange.maxValue||!StringEx.equals(u[1],o+""))&&(f.valid=!1,f.message=t),e>o&&(f.valid=!1,f.message=i)):(f.valid=!1,f.message=i),f.valid})),Q(f))})}function l(t){return new MsPortalFx.ViewModels.CustomValidation("",function(r){var u={valid:!0,message:undefined},c=!!r&&r.indexOf("-")!==-1;if(c){var h=r.split("-"),f=h[0],e=h[1],o={valid:!0,message:undefined},s={valid:!0,message:undefined};StringEx.equals(n.Constants.IpAddresses.empty,f,StringComparison.
IgnoreCase)&&t||(o=i(f));StringEx.equals(n.Constants.IpAddresses.empty,e,StringComparison.IgnoreCase)&&t||(s=i(e));u.valid=o.valid&&s.valid;u.valid||(u.message=o.valid?n.Resources.Network.IpAddress.Validation.IpRange.invalidIP.format(e):s.valid?n.Resources.Network.IpAddress.Validation.IpRange.invalidIP.format(f):n.Resources.Network.IpAddress.Validation.IpRange.invalidIP.format(f).concat(" ",n.Resources.Network.IpAddress.Validation.IpRange.invalidIP.format(e)))}else!r||StringEx.equals(n.Constants.IpAddresses.empty,r,StringComparison.IgnoreCase)&&t||(u=i(r));return Q(u)})}function a(n){return new MsPortalFx.ViewModels.CustomValidation("",function(i){var r={valid:!0,message:undefined};if(i!==""&&!StringEx.equals(i,"*")&&!StringEx.isStringInArray(i,n,StringComparison.IgnoreCase))try{new t.IPv4Subnet(i)}catch(u){r.valid=!1;r.message=u.message}return Q(r)})}function v(t,i){return new MsPortalFx.ViewModels.CustomValidation("",function(r){var u={valid:!0,message:undefined},f,e,o;return r&&!StringEx.
equals(r,"*",StringComparison.IgnoreCase)&&(f=r.split("-"),f.length>2?(u.valid=!1,u.message=i):(e=+f[0],e<n.Constants.PortRange.minValue||e>n.Constants.PortRange.maxValue||!StringEx.equals(f[0],e+"")?(u.valid=!1,u.message=t):f.length===2&&(o=+f[1],o<n.Constants.PortRange.minValue||o>n.Constants.PortRange.maxValue||!StringEx.equals(f[1],o+"")?(u.valid=!1,u.message=t):e>o&&(u.valid=!1,u.message=i)))),Q(u)})}function y(i,r){return new MsPortalFx.ViewModels.CustomValidation("",function(u){var e=new t.IPv4Address(u),f={valid:!0,message:undefined};return e.isIpInRange(i,r)||(f.valid=!1,f.message=n.Resources.Network.Validation.notInRange.format(i.toString(),n.Network.IPv4Address.bytesToAddressString(r.subnetBytes-1))),Q(f)})}function p(i){return new MsPortalFx.ViewModels.CustomValidation("",function(r){var f=new t.IPv4Address(r),u={valid:!0,message:undefined};return i.doesContainIp(f)||(u.valid=!1,u.message=n.Resources.Network.Validation.notInSubnet.format(i.toString())),Q(u)})}function w(i){
return new MsPortalFx.ViewModels.CustomValidation("",function(r){var e,u={valid:!1,message:""};try{e=new t.IPv4Address(r);u.valid=!0}catch(f){u.valid=!1;f instanceof ArgumentError?u.message=f.message:(u.message=n.Resources.Network.Validation.unexpectedCIDRError,MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"ExtensionCore.Network.Validators.getIpAddressInSubnetValidatorObservable","Unexpected error encountered on validation: {0}. Input was: {1}.".format(FxImpl.Diagnostics.getLogFriendlyMessage(f),r)))}return u.valid&&i&&i()&&!i().doesContainIp(e)&&(u.valid=!1,u.message=n.Resources.Network.Validation.notInSubnet.format(i().toString())),Q(u)})}function b(i){return new MsPortalFx.ViewModels.CustomValidation("",function(r){for(var e=new t.IPv4Address(r),u={valid:!0,message:undefined},f=0;f<i.length;++f)if(e.equals(i[f])){u.valid=!1;u.message=n.Resources.Network.Validation.reserved;break}return Q(u)})}function r(i,r){var f,e=r.split("/").length===2,u={valid:!0,message:null};try{f=new t.IPv4Subnet(
r)}catch(s){return u.valid=!1,u.message=s.message,u}if(i.prefixRequired&&!e)return u.valid=!1,u.message=n.Resources.Network.Validation.prefix.format(r),u;if(i.cidrBlockValidationRequired){var h=f.subnetMaskBytes,o=n.Network.IPv4Address.bytesToAddressString(h),c=StringEx.equals(o,f.getIpAddress(),StringComparison.IgnoreCase);if(!c)return u.valid=!1,u.message=n.Resources.Network.Validation.invalidCIDRBlockWithSuggestion.format(r,o,f.prefix),u}return e&&(i.maxCidr&&i.minCidr&&i.maxCidr===i.minCidr?f.prefix!==i.maxCidr&&(u.valid=!1,u.message=n.Resources.Network.Validation.exactPrefix.format(i.maxCidr)):(i.maxCidr&&f.prefix>i.maxCidr&&(u.valid=!1,u.message=n.Resources.Network.Validation.maxPrefix.format(i.maxCidr)),i.minCidr&&f.prefix<i.minCidr&&(u.valid=!1,u.message=n.Resources.Network.Validation.maxPrefix.format(i.minCidr)))),u}function k(n){return new MsPortalFx.ViewModels.CustomValidation("",function(t){return Q(r(n,t))})}function d(i){return new MsPortalFx.ViewModels.CustomValidation("",
function(r){var u={valid:!0,message:undefined},f,e;if(i())try{f=new t.IPv4Subnet(r);e=new t.IPv4Subnet(i.peek());e.isOtherSubnetContained(f)||(u.valid=!1,u.message=n.Resources.Network.Validation.subnetNotContained.format(i.peek()))}catch(o){u.valid=!1;u.message=o.message}else u.valid=!1,u.message=n.Resources.Network.Validation.missingAddressSpace;return Q(u)})}function g(i){return new MsPortalFx.ViewModels.CustomValidation("",function(r){var o="",e=i(),u={valid:!1,message:undefined},f,s,h;if(e){for(f=0;f<e.length;f++)if(!u.valid)try{s=new t.IPv4Subnet(r);h=new t.IPv4Subnet(e[f]);h.isOtherSubnetContained(s)?u.valid=!0:o=f<e.length-1?o+ClientResources.Network.Validation.addressRangeDisplay.format(e[f]):o+ClientResources.Network.Validation.addressRangeDisplayEnd.format(e[f])}catch(c){u.message=c.message}}else u.message=n.Resources.Network.Validation.missingAddressSpace;return u.valid||(u.message=ClientResources.Network.Validation.subnetNotContained.format(o)),Q(u)})}function nt(i){return new
MsPortalFx.ViewModels.CustomValidation("",function(r){var u={valid:!0,message:undefined},f;try{f=new t.IPv4Subnet(r);i()&&i().forEach((function(i){var r=new t.IPv4Subnet(i);f.isOtherSubnetContained(r)||(u.valid=!1,u.message=n.Resources.Network.Validation.subnetNotContained.format(i))}))}catch(e){u.valid=!1;u.message=e.message}return Q(u)})}function tt(i){return new MsPortalFx.ViewModels.CustomValidation("",function(r){var u={valid:!0,message:undefined};try{var h=new t.IPv4Subnet(r),o=i(),s=null,f=null,c=Object.keys(o).first((function(n){s=n;f=o[n];var i=new t.IPv4Subnet(f);return h.doesSubnetOverlap(i)}));c&&(u.valid=!1,u.message=ClientResources.Network.Validation.subnetOverlaps.format(s,f))}catch(e){u.valid=!1;e instanceof ArgumentError?u.message=e.message:(u.message=n.Resources.Network.Validation.unexpectedCIDRError,MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"ExtensionCore.Network.Validators.getSubnetDoesntOverlapWithOtherSubnets","Unexpected error encountered on validation: {0}. Input was: {1}.".
format(FxImpl.Diagnostics.getLogFriendlyMessage(e),r)))}return Q(u)})}function it(){return new MsPortalFx.ViewModels.CustomValidation("",function(i){var r={valid:!0,message:undefined},f=[new t.IPv4Subnet("224.0.0.0/4"),new t.IPv4Subnet("255.255.255.255/32"),new t.IPv4Subnet("127.0.0.0/8"),new t.IPv4Subnet("169.254.0.0/16"),new t.IPv4Subnet("168.63.129.16/32")],u;try{u=new t.IPv4Subnet(i);f.forEach((function(t){u.isOtherSubnetContained(t)&&(r.valid=!1,r.message=n.Resources.Network.Validation.privateSpace)}))}catch(e){r.valid=!1;r.message=e.message}return Q(r)})}function rt(i){return new MsPortalFx.ViewModels.CustomValidation("",function(r){var u={valid:!0,message:undefined},e,f,o,s;try{e=new t.IPv4Address(r)}catch(h){return u.valid=!1,u.message=n.Resources.Network.IpAddress.Validation.errorMessage,Q(u)}return f=i&&i(),f&&(o=new t.IPv4Address(f.getFirstAddressInRange(n.Constants.InternalLoadBalancer.ReservedIPAddressesAtBeginningOfSubnet)),s=new t.IPv4Address(f.getLastAddressInRange()),e.isIpInRange(
o,s)||(u.valid=!1,u.message=n.Resources.Network.IpAddress.Validation.ipIsReserved.format(r,f.toString()))),Q(u)})}function ut(i){return new MsPortalFx.ViewModels.CustomValidation("",function(r){var u=t.tryGetAddressRangeSummary(r,i),f="";return u||(f=n.Resources.Network.Validation.malformedSubnet.format(r)),Q({valid:u,message:f})})}function ft(t,i,r,u){return new MsPortalFx.ViewModels.CustomValidation("",function(f){var e=Q.defer(),o;return t()&&i()&&f&&!StringEx.equals(f,r&&r(),StringComparison.IgnoreCase)?(o="{0}/subscriptions/{1}/providers/Microsoft.Network/locations/{2}/CheckDnsNameAvailability?domainNameLabel={3}&{4}".format(n.ArmUtils.endpoint,t(),i(),f,ArmApiVersions.getInstance().dnsLabelValidation),MsPortalFx.Base.Net.ajax({isBackgroundTask:!1,uri:o,type:"GET",setAuthorizationHeader:!0}).then((function(n){e.resolve({valid:n.available,message:u})}),(function(n){var i=JSON.parse(n.responseText),u=i?i.error.message:"",r=i.error.code;r.localeCompare("DomainNameLabelReserved")||r.localeCompare(
"DomainNameLabelProfane")||MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"getPublicIpDnsNameValidator","Unable to checkDnsNameLabelAvailability for subscription {0}. The error message was: {1}".format(t,FxImpl.Diagnostics.getLogFriendlyMessage(i)));e.resolve({valid:!1,message:u})}))):e.resolve({valid:!0,message:""}),e.promise})}function et(n){var i=!0,t;return i=/^[a-z\d]([a-z\d\-]{0,61}[a-z\d])?(\.[a-z\d]([a-z\d\-]{0,61}[a-z\d])?)*$/i.test(n),t=MsPortalFx.last(n.split(".")),i&&!!t&&isNaN(+t)}var u,f,e,o;t.getIpAddressValidator=s;t.validateIpAddress=i;t.getSingleRangeOrSetIPAddressValidator=h;t.getSingleRangeOrSetPortValidator=c;t.getIPOrIPRangeAddressValidator=l;t.getSecurityRuleAddressPrefixValidator=a;t.getPortRangeValidator=v;t.getIpAddressInRangeValidator=y;t.getIpAddressInSubnetValidator=p;t.getIpAddressInSubnetValidatorObservable=w;t.getIpAddressNotReservedValidator=b;t.performCidrValidation=r;t.getCidrValidator=k;t.getSubnetIsContainedInAddressSpaceValidator=d;t.getSubnetIsContainedInAddressSpaceArrayValidator=
g;t.getAddressSpaceContainsAllSubnets=nt;t.getSubnetDoesntOverlapWithOtherSubnets=tt;t.getPrivateSubnetValidator=it;t.getIPAddressNotReservedInSubnetValidator=rt;t.getRangeValidationWithSummaryText=ut;t.getPublicIpDnsNameValidator=ft;u=(function(t){function i(){t.call(this,1,80,n.Resources.Network.Validation.nameLength)}return __extends(i,t),i})(MsPortalFx.ViewModels.LengthRangeValidation);t.NetworkNameMaxLengthValidation=u;f=(function(t){function i(){var i=n.Resources.Network.Validation.regex;t.call(this,"^[^_\\W]([\\w-.]{0,78}[\\w])?$",i)}return __extends(i,t),i})(MsPortalFx.ViewModels.RegExMatchValidation);t.NetworkNameRegexValidation=f;e=(function(t){function i(){t.call(this,n.Constants.LengthConstants.VNetNameMinLength,n.Constants.LengthConstants.VNetNameMaxLength,n.Resources.Network.Validation.virtualNetworkNameLength)}return __extends(i,t),i})(MsPortalFx.ViewModels.LengthRangeValidation);t.VirtualNetworkNameMaxLengthValidation=e;o=(function(t){function i(){var i=n.Resources.Network.Validation.
routeTableAddressPrefix;t.call(this,"^((([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])(.)){3})([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])((/)([0-9]|[1-2][0-9]|3[0-2]))?$",i)}return __extends(i,t),i})(MsPortalFx.ViewModels.RegExMatchValidation);t.RouteTableAddressPrefixValidator=o;t.isValidFqdn=et})(t=n.Network||(n.Network={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(){"use strict";function n(n){var t={};return this.forEach((function(i){var r=n(i);r&&(t[r]=i)})),t}function t(n,t){var i=[],r;return n?(r=t||function(n,t){return typeof n=="string"?StringEx.equals(n,t):n===t},this.forEach((function(t){for(var f,u=0;u<n.length;u++)if(f=n[u],r(t,f)){i.push(t);break}})),i):i}function i(n){var t=[];return this.forEach((function(i){var r=t.firstIndex((function(t){return n?n(i,t):i===t}));r<0&&t.push(i)})),t}function r(n,t,i){var u="",r=this.slice();return r.length===1?u=r[0]:r.length===2?u=i?r.join(i):u=r.join(t):r.length>2&&(u=[r.slice(0,r.length-1).join(n),r[r.length-1]].join(t)),u}Array.prototype.
toDictionary||Object.defineProperty(Array.prototype,"toDictionary",{value:n,configurable:!0,enumerable:!1,writable:!0});Array.prototype.intersect||Object.defineProperty(Array.prototype,"intersect",{value:t,configurable:!0,enumerable:!1,writable:!0});Array.prototype.distinct||Object.defineProperty(Array.prototype,"distinct",{value:i,configurable:!0,enumerable:!1,writable:!0});Array.prototype.joinWithLastSeparator||Object.defineProperty(Array.prototype,"joinWithLastSeparator",{value:r,configurable:!0,enumerable:!1,writable:!0})})(t=n.Polyfills||(n.Polyfills={}))})(ExtensionCore||(ExtensionCore={}));ErrorBase=(function(){function n(n){Error.apply(this,arguments);this.name=this.constructor.prototype.name;this.message=n}return n})();ErrorBase.prototype=Error.prototype;var InvalidOperationError=(function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t})(ErrorBase),ArgumentError=(function(n){function t(t,i){var r=i?ExtensionCore.Resources.reasonMessage.format(i):"",u="'{0}'. {1}".format(
t,r);n.call(this,ExtensionCore.Resources.Validation.invalidArgument.format(u))}return __extends(t,n),t})(ErrorBase),AbstractMethodError=(function(n){function t(t,i){n.call(this,"cannot call abstract method {1} of class {0}. Make sure it is implemented in a derived class.".format(t,i))}return __extends(t,n),t})(ErrorBase),Resources=ExtensionCore.Resources,ExtensionCore;(function(n){var t;(function(n){var t;(function(n){"use strict";n.resourceHotspotHtmlTemplate="                                    <!-- ko if: resourceHotspot().valid -->                                        <div data-bind='pcHotSpot: resourceHotspot().selectable'>                                            <a style='margin-left: -10px; margin-top:-15px' data-bind='text: resourceHotspot().displayText'><\/a>                                        <\/div>                                    <!-- /ko -->                                    <!-- ko ifnot: resourceHotspot().valid -->                                        <div data-bind='text: resourceHotspot().displayText'><\/div>                                    <!-- /ko -->";
n.resourceHotspotListHtmlTemplate="                                     <!-- ko if: resourceHotspots().length -->                                        <div data-bind='foreach: resourceHotspots'>                                            <div data-bind='pcHotSpot: selectable'>                                                <a style='display:inline-block; margin-left:-10px; margin-top:-15px' data-bind='text: label' class='msportalfx-text-regular'><\/a>                                            <\/div>                                        <\/div>                                    <!-- /ko -->                                    <!--ko ifnot: resourceHotspots().length -->                                        <div data-bind='text: noItemsText'><\/div>                                    <!-- /ko -->"})(t=n.ResourceHotspot||(n.ResourceHotspot={}))})(t=n.UI||(n.UI={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(t){"use strict";function h(n,t,i){var u=i.createChildLifetime(
),r=MsPortalFx.ViewModels.Part.createSelectableViewModel(),f=n.name,e="hotspotId"+t().length;i.registerSelectable(u,e,r);r.selectedValue({detailBlade:n.detailBlade,detailBladeInputs:n.detailBladeInputs});t.push({label:ko.observable(f),selectable:r,lifetime:u})}function c(n,t,i,r,u){var f=function(n,t){return function(i){return{detailBlade:n,detailBladeInputs:{id:i.resourceId},openInContextPane:t}}};return{getQuickStartSelection:n?f(n,!0):null,getKeysSelection:t?f(t,!1):null,noResourceGroup:i||!1,noRbac:u||!1,noTags:r||!1}}function l(){return{enableRbac:!0,enableTags:!0,enableSupportEventLogs:!0,enableSupportHelpRequest:!n.ArmUtils.isAzureStack()}}function a(){return Array(n.Resources.Keyword.health,n.Resources.Keyword.metric,n.Resources.Keyword.monitor)}function v(){return Array(n.Resources.Keyword.health,n.Resources.Keyword.metric,n.Resources.Keyword.monitor)}function y(){return Array(n.Resources.Keyword.help)}function p(){return Array(n.Resources.Keyword.id,n.Resources.Keyword.health,
n.Resources.Keyword.location,n.Resources.Keyword.name,n.Resources.Keyword.migrate,n.Resources.Keyword.region,n.Resources.Keyword.status,n.Resources.Keyword.subscription)}function w(){return Array(n.Resources.Keyword.id,n.Resources.Keyword.essential,n.Resources.Keyword.health,n.Resources.Keyword.location,n.Resources.Keyword.name,n.Resources.Keyword.overview,n.Resources.Keyword.region,n.Resources.Keyword.status,n.Resources.Keyword.subscription,n.Resources.Keyword.summary)}function b(n){return n.toLowerCase().trim()==="standard_zrs"}function k(n){var t=f(n);return t!==undefined&&StringEx.equals(n,t,StringComparison.IgnoreCase)}function d(t){return n.Constants.lseriesVmSizes.some((function(n){return StringEx.equals(n,t,StringComparison.IgnoreCase)}))}function f(t){var r=undefined,i={};return i[n.Constants.VmSize.Basic_A0]=n.Constants.VmSize.Standard_DS1,i[n.Constants.VmSize.Basic_A1]=n.Constants.VmSize.Standard_DS1,i[n.Constants.VmSize.Basic_A2]=n.Constants.VmSize.Standard_DS2,i[n.Constants.
VmSize.Basic_A3]=n.Constants.VmSize.Standard_DS3,i[n.Constants.VmSize.Basic_A4]=n.Constants.VmSize.Standard_DS4,i[n.Constants.VmSize.A0]=n.Constants.VmSize.Standard_DS1,i[n.Constants.VmSize.A1]=n.Constants.VmSize.Standard_DS1,i[n.Constants.VmSize.A2]=n.Constants.VmSize.Standard_DS2,i[n.Constants.VmSize.A3]=n.Constants.VmSize.Standard_DS3,i[n.Constants.VmSize.A4]=n.Constants.VmSize.Standard_DS4,i[n.Constants.VmSize.A5]=n.Constants.VmSize.Standard_DS11,i[n.Constants.VmSize.A6]=n.Constants.VmSize.Standard_DS12,i[n.Constants.VmSize.A7]=n.Constants.VmSize.Standard_DS13,i[n.Constants.VmSize.A8]=undefined,i[n.Constants.VmSize.A9]=undefined,i[n.Constants.VmSize.A10]=undefined,i[n.Constants.VmSize.A11]=undefined,i[n.Constants.VmSize.A1_v2]=n.Constants.VmSize.Standard_DS1_v2,i[n.Constants.VmSize.A2_v2]=n.Constants.VmSize.Standard_DS2_v2,i[n.Constants.VmSize.A4_v2]=n.Constants.VmSize.Standard_DS3_v2,i[n.Constants.VmSize.A8_v2]=n.Constants.VmSize.Standard_DS4_v2,i[n.Constants.VmSize.A2m_v2]=undefined,
i[n.Constants.VmSize.A4m_v2]=undefined,i[n.Constants.VmSize.A8m_v2]=undefined,i[n.Constants.VmSize.Standard_D1]=n.Constants.VmSize.Standard_DS1,i[n.Constants.VmSize.Standard_D2]=n.Constants.VmSize.Standard_DS2,i[n.Constants.VmSize.Standard_D3]=n.Constants.VmSize.Standard_DS3,i[n.Constants.VmSize.Standard_D4]=n.Constants.VmSize.Standard_DS4,i[n.Constants.VmSize.Standard_D11]=n.Constants.VmSize.Standard_DS11,i[n.Constants.VmSize.Standard_D12]=n.Constants.VmSize.Standard_DS12,i[n.Constants.VmSize.Standard_D13]=n.Constants.VmSize.Standard_DS13,i[n.Constants.VmSize.Standard_D14]=n.Constants.VmSize.Standard_DS14,i[n.Constants.VmSize.Standard_D1_v2]=n.Constants.VmSize.Standard_DS1_v2,i[n.Constants.VmSize.Standard_D2_v2]=n.Constants.VmSize.Standard_DS2_v2,i[n.Constants.VmSize.Standard_D3_v2]=n.Constants.VmSize.Standard_DS3_v2,i[n.Constants.VmSize.Standard_D4_v2]=n.Constants.VmSize.Standard_DS4_v2,i[n.Constants.VmSize.Standard_D5_v2]=n.Constants.VmSize.Standard_DS5_v2,i[n.Constants.VmSize.Standard_D11_v2]=
n.Constants.VmSize.Standard_DS11_v2,i[n.Constants.VmSize.Standard_D12_v2]=n.Constants.VmSize.Standard_DS12_v2,i[n.Constants.VmSize.Standard_D13_v2]=n.Constants.VmSize.Standard_DS13_v2,i[n.Constants.VmSize.Standard_D14_v2]=n.Constants.VmSize.Standard_DS14_v2,i[n.Constants.VmSize.Standard_D15_v2]=n.Constants.VmSize.Standard_DS15_v2,i[n.Constants.VmSize.Standard_D2_v2_Promo]=n.Constants.VmSize.Standard_DS2_v2_Promo,i[n.Constants.VmSize.Standard_D3_v2_Promo]=n.Constants.VmSize.Standard_DS3_v2_Promo,i[n.Constants.VmSize.Standard_D4_v2_Promo]=n.Constants.VmSize.Standard_DS4_v2_Promo,i[n.Constants.VmSize.Standard_D5_v2_Promo]=n.Constants.VmSize.Standard_DS5_v2_Promo,i[n.Constants.VmSize.Standard_D11_v2_Promo]=n.Constants.VmSize.Standard_DS11_v2_Promo,i[n.Constants.VmSize.Standard_D12_v2_Promo]=n.Constants.VmSize.Standard_DS12_v2_Promo,i[n.Constants.VmSize.Standard_D13_v2_Promo]=n.Constants.VmSize.Standard_DS13_v2_Promo,i[n.Constants.VmSize.Standard_D14_v2_Promo]=n.Constants.VmSize.Standard_DS14_v2_Promo,
i[n.Constants.VmSize.Standard_DS1_v2]=n.Constants.VmSize.Standard_DS1_v2,i[n.Constants.VmSize.Standard_DS2_v2]=n.Constants.VmSize.Standard_DS2_v2,i[n.Constants.VmSize.Standard_DS3_v2]=n.Constants.VmSize.Standard_DS3_v2,i[n.Constants.VmSize.Standard_DS4_v2]=n.Constants.VmSize.Standard_DS4_v2,i[n.Constants.VmSize.Standard_DS5_v2]=n.Constants.VmSize.Standard_DS5_v2,i[n.Constants.VmSize.Standard_DS11_v2]=n.Constants.VmSize.Standard_DS11_v2,i[n.Constants.VmSize.Standard_DS12_v2]=n.Constants.VmSize.Standard_DS12_v2,i[n.Constants.VmSize.Standard_DS13_v2]=n.Constants.VmSize.Standard_DS13_v2,i[n.Constants.VmSize.Standard_DS14_v2]=n.Constants.VmSize.Standard_DS14_v2,i[n.Constants.VmSize.Standard_DS15_v2]=n.Constants.VmSize.Standard_DS15_v2,i[n.Constants.VmSize.Standard_DS2_v2_Promo]=n.Constants.VmSize.Standard_DS2_v2_Promo,i[n.Constants.VmSize.Standard_DS3_v2_Promo]=n.Constants.VmSize.Standard_DS3_v2_Promo,i[n.Constants.VmSize.Standard_DS4_v2_Promo]=n.Constants.VmSize.Standard_DS4_v2_Promo,i[n.Constants.
VmSize.Standard_DS5_v2_Promo]=n.Constants.VmSize.Standard_DS5_v2_Promo,i[n.Constants.VmSize.Standard_DS11_v2_Promo]=n.Constants.VmSize.Standard_DS11_v2_Promo,i[n.Constants.VmSize.Standard_DS12_v2_Promo]=n.Constants.VmSize.Standard_DS12_v2_Promo,i[n.Constants.VmSize.Standard_DS13_v2_Promo]=n.Constants.VmSize.Standard_DS13_v2_Promo,i[n.Constants.VmSize.Standard_DS14_v2_Promo]=n.Constants.VmSize.Standard_DS14_v2_Promo,i[n.Constants.VmSize.Standard_DS1]=n.Constants.VmSize.Standard_DS1,i[n.Constants.VmSize.Standard_DS2]=n.Constants.VmSize.Standard_DS2,i[n.Constants.VmSize.Standard_DS3]=n.Constants.VmSize.Standard_DS3,i[n.Constants.VmSize.Standard_DS4]=n.Constants.VmSize.Standard_DS4,i[n.Constants.VmSize.Standard_DS11]=n.Constants.VmSize.Standard_DS11,i[n.Constants.VmSize.Standard_DS12]=n.Constants.VmSize.Standard_DS12,i[n.Constants.VmSize.Standard_DS13]=n.Constants.VmSize.Standard_DS13,i[n.Constants.VmSize.Standard_DS14]=n.Constants.VmSize.Standard_DS14,i[n.Constants.VmSize.Standard_G1]=n.Constants.
VmSize.Standard_GS1,i[n.Constants.VmSize.Standard_G2]=n.Constants.VmSize.Standard_GS2,i[n.Constants.VmSize.Standard_G3]=n.Constants.VmSize.Standard_GS3,i[n.Constants.VmSize.Standard_G4]=n.Constants.VmSize.Standard_GS4,i[n.Constants.VmSize.Standard_G5]=n.Constants.VmSize.Standard_GS5,i[n.Constants.VmSize.Standard_GS1]=n.Constants.VmSize.Standard_GS1,i[n.Constants.VmSize.Standard_GS2]=n.Constants.VmSize.Standard_GS2,i[n.Constants.VmSize.Standard_GS3]=n.Constants.VmSize.Standard_GS3,i[n.Constants.VmSize.Standard_GS4]=n.Constants.VmSize.Standard_GS4,i[n.Constants.VmSize.Standard_GS5]=n.Constants.VmSize.Standard_GS5,i[n.Constants.VmSize.Standard_F1]=n.Constants.VmSize.Standard_F1s,i[n.Constants.VmSize.Standard_F2]=n.Constants.VmSize.Standard_F2s,i[n.Constants.VmSize.Standard_F4]=n.Constants.VmSize.Standard_F4s,i[n.Constants.VmSize.Standard_F8]=n.Constants.VmSize.Standard_F8s,i[n.Constants.VmSize.Standard_F16]=n.Constants.VmSize.Standard_F16s,i[n.Constants.VmSize.Standard_F1s]=n.Constants.VmSize.
Standard_F1s,i[n.Constants.VmSize.Standard_F2s]=n.Constants.VmSize.Standard_F2s,i[n.Constants.VmSize.Standard_F4s]=n.Constants.VmSize.Standard_F4s,i[n.Constants.VmSize.Standard_F8s]=n.Constants.VmSize.Standard_F8s,i[n.Constants.VmSize.Standard_F16s]=n.Constants.VmSize.Standard_F16s,i[n.Constants.VmSize.Standard_H8]=undefined,i[n.Constants.VmSize.Standard_H8m]=undefined,i[n.Constants.VmSize.Standard_H16]=undefined,i[n.Constants.VmSize.Standard_H16m]=undefined,i[n.Constants.VmSize.Standard_H16r]=undefined,i[n.Constants.VmSize.Standard_H16mr]=undefined,i[n.Constants.VmSize.Standard_NC6]=undefined,i[n.Constants.VmSize.Standard_NC12]=undefined,i[n.Constants.VmSize.Standard_NC24r]=undefined,i[n.Constants.VmSize.Standard_NV6]=undefined,i[n.Constants.VmSize.Standard_NV12]=undefined,i[n.Constants.VmSize.Standard_NV24]=undefined,i[n.Constants.VmSize.Standard_NV24]=undefined,i[n.Constants.VmSize.Standard_L4s]=n.Constants.VmSize.Standard_L4s,i[n.Constants.VmSize.Standard_L8s]=n.Constants.VmSize.Standard_L8s,
i[n.Constants.VmSize.Standard_L16s]=n.Constants.VmSize.Standard_L16s,i[n.Constants.VmSize.Standard_L32s]=n.Constants.VmSize.Standard_L32s,t&&(r=i[t]),r}function g(n){var t=new Date;return n&&n.toUpperCase().endsWith("-ARM")&&(n=n.substring(0,n.length-4)),n=n.substr(0,49),"{0}-{1}".format(n,e())}function e(){var t=new Date;return"{0}{1}{2}{3}{4}{5}".format(t.getFullYear(),n.Utilities.normalizeDateValue(t.getMonth()+1),n.Utilities.normalizeDateValue(t.getDate()),n.Utilities.normalizeDateValue(t.getHours()),n.Utilities.normalizeDateValue(t.getMinutes()),n.Utilities.normalizeDateValue(t.getSeconds()))}function nt(n){if(!MsPortalFx.isNullOrUndefined(n)){var t=n.toString();return t&&t.length===1?"0"+t:t}return""}function r(){return u||(u=MsPortalFx.Azure.getLocations().then((function(n){return i=n,n}),(function(n){MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"getLocations","Failed to load locations: {0}".format(FxImpl.Diagnostics.getLogFriendlyMessage(n)));u=null;throw n;}))),u}function o(t){var
f,u;return t?(f=MsPortalFx.replaceAll(t," ","").toLowerCase(),StringEx.equals(f,"global",StringComparison.IgnoreCase))?n.Resources.Region.global:i?(u=i[t]||i[f],u||(MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"getLocationDisplayNameUnsafe","Unknown location: {0}".format(t)),u=t),u):(MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"getLocationDisplayNameUnsafe","Invoked before getLocations() is loaded"),r(),t):n.Resources.unknown}function tt(n){return r().then((function(){return o(n)}))}function s(n){if(!i)return MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"getLocationInternalNameUnsafe","Invoked before getLocations() is loaded"),r(),n;var t=Object.keys(i).first((function(t){return i[t]===n}));return t||(MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"getLocationInternalNameUnsafe","Unknown location display name: {0}".format(n)),t=MsPortalFx.replaceAll(n," ","").toLowerCase()),t}function it(n){return r().then((function(){return s(n)}))}function rt(){return StringEx.startsWith(navigator.platform,
"win",StringComparison.IgnoreCase)}t.addHotspot=h;t.getResourceSummaryOptions=c;t.getCommonSettingListOptions=l;t.getDiagnosticsKeywords=a;t.getDiagnosticsLogsKeywords=v;t.getQuickstartKeywords=y;t.getPropertiesKeywords=p;t.getSummaryKeywords=w;t.doesStorageAccountSupportTypePremiumDisks=b;t.doesVMSizeSupportPremiumDisks=k;t.isSizeLSeries=d;t.getSuggestedVMSizeForPremiumDisk=f;t.getDeploymentName=g;t.getFormattedDateTimeString=e;t.normalizeDateValue=nt;var i=null,u=null;t.getLocations=r;t.getLocationDisplayNameUnsafe=o;t.getLocationDisplayName=tt;t.getLocationInternalNameUnsafe=s;t.getLocationInternalName=it;t.isClientPlatformWindows=rt})(t=n.Utilities||(n.Utilities={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(t){var i;(function(t){"use strict";var i=(function(t){function i(n,i){t.call(this,i);this._id=ko.observable();this._properties=[];this._lifeTimeManager=n}return __extends(i,t),i.prototype.onInputsSet=function(t){var i=this;return this._id(t.id),Q.all([this.
_getFetchEntityPromise(),n.Utilities.getLocations()]).spread((function(n){i._resource=n;i._properties.length=0;i._addProperties();i._populateProperties()}))},i.prototype._getFetchEntityPromise=function(){throw new Error("This method is abstract");},i.prototype._addProperties=function(){throw new Error("This method is abstract");},i.prototype._getResourceEditBlade=function(){return undefined},i.prototype._addIdProperty=function(){this._properties.push(new MsFxProperties.CopyFieldProperty(this._lifeTimeManager,ClientResources.Properties.resourceIdLabel,this._resource.id))},i.prototype._addLocationProperty=function(){var t=this;this._properties.push(new MsFxProperties.TextProperty(ClientResources.ResourceSummary.location,ko.pureComputed((function(){return n.Utilities.getLocationDisplayNameUnsafe(t._resource.location())}))))},i.prototype._populateProperties=function(){var n=this,t=FxResourceTypes.parseResourceDescriptor(this._resource.id()).subscription;MsPortalFx.Azure.getSubscriptionInfo(t).
then((function(i){n._addIdProperty();n._addLocationProperty();n._properties.push(new MsFxProperties.CopyFieldProperty(n._lifeTimeManager,{label:ClientResources.ResourceSummary.subscriptionNameLabel,value:i.displayName,editBlade:n._getResourceEditBlade()}));n._properties.push(new MsFxProperties.CopyFieldProperty(n._lifeTimeManager,ClientResources.ResourceSummary.subscriptionIdLabel,t))})).finally((function(){n.setProperties(n._properties)}))},i})(MsPortalFx.ViewModels.Parts.Properties.ViewModel);t.PropertiesBladeBaseViewModel=i})(i=t.PropertiesViewModels||(t.PropertiesViewModels={}))})(t=n.UI||(n.UI={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(t){var i;(function(t){"use strict";function u(t){if(!t){var r="The provided provisioning state was {0}.".format(t);return n.Utilities.Telemetry.isNewEvent(r)&&Diagnostics.Log.writeEntry(1,"ProvisioningStateHelper.getProvisioningStateEnum",r),i.Unknown}switch(t.toLowerCase()){case i[i.Succeeded].toLowerCase():return i.Succeeded;case
i[i.Deleting].toLowerCase():return i.Deleting;case i[i.Failed].toLowerCase():return i.Failed;case i[i.Updating].toLowerCase():return i.Updating;default:return Diagnostics.Log.writeEntry(1,"ProvisioningStateHelper.getProvisioningStateEnum","An unexpected provisioning state was encountered: {0}.".format(t)),i.Unknown}}function f(n,t,r){r===void 0&&(r=!1);var u=null;switch(n){case i.Deleting:u=ClientResources.ProvisioningState.deleting;break;case i.Failed:u=ClientResources.ProvisioningState.failed;break;case i.Succeeded:u=ClientResources.ProvisioningState.succeeded;break;case i.Updating:u=ClientResources.ProvisioningState.updating;break;default:u=r?ClientResources.ProvisioningState.unknown:ClientResources.noContent}return t&&(u=u&&u.toLocaleLowerCase()),u}function o(n,t){t===void 0&&(t=!1);var i=u(n);return f(i,t)}function s(n){var t,h,c;if(v(n)){var a=n.constentStateDisplayTextObservable(),y=n.contentStateObservable(),f=null,o=null,l=n.provisioningStateObservable&&n.provisioningStateObservable(
)||i[i.Succeeded],s=n.uiStateObservable();if(MsPortalFx.isNullOrUndefined(s)&&(s=r.None),t=i.Succeeded,n.customProvisioningState&&Object.keys(n.customProvisioningState).length>0?(t=e(s,t),t===i.Succeeded&&(h=n.customProvisioningState[l],h&&(f=h.contentState,o=h.contentDisplayText))):l&&(t=u(l),t=e(s,t)),c=n.contentStateObservable(),MsPortalFx.isNullOrUndefined(c)&&(c=ContentState.None),t===i.Succeeded&&c===ContentState.Error)return;if(MsPortalFx.isNullOrUndefined(f))switch(t){case i.Deleting:f=FxViewModels.ContentState.Info;o=ClientResources.ProvisioningState.deleting;break;case i.Failed:f=FxViewModels.ContentState.Error;o=ClientResources.ProvisioningState.failed;break;case i.Updating:f=FxViewModels.ContentState.Info;o=ClientResources.ProvisioningState.updating;break;default:f=FxViewModels.ContentState.None;o=""}MsPortalFx.isNullOrUndefined(f)||(n.contentStateObservable(f),n.constentStateDisplayTextObservable(o))}}function h(n,t){var r=u(t);switch(r){case i.Failed:n.status(ClientResources.
ProvisioningState.failed);break;default:n.status(null)}}function c(n){var t=u(n);return t===i.Succeeded}function l(n){var t=u(n);return t===i.Failed}function a(n,i,r){if(!i)return ko.observable(t.UiState.None);var u=FxResourceTypes.parseResourceDescriptor(i);return i=FxResourceTypes.buildTopmostParentResourceIdFromDescriptor(u),i=FxResourceTypes.buildLowerCaseResourceId(i),n.has(i)?MsPortalFx.isNullOrUndefined(r)||n.get(i)(r):n.set(i,ko.observable(MsPortalFx.isNullOrUndefined(r)?t.UiState.None:r)),n.get(i)}function e(n,t){switch(n){case r.Deleting:return i.Deleting;case r.Updating:return i.Updating;case r.None:return t;default:return i.Unknown}}function v(n){if(n)if(n.contentStateObservable)if(n.constentStateDisplayTextObservable)if(n.uiStateObservable){if(MsPortalFx.isNullOrUndefined(n.contentStateObservable))return Diagnostics.Log.writeEntry(1,"ProvisioningStateHelper.validateContentStateOptions","UiStateObservable() was null or undefined, this is unexpected. Setting UiState to 'None'."),
n.uiStateObservable(r.None),!0}else return Diagnostics.Log.writeEntry(2,"ProvisioningStateHelper.validateContentStateOptions","UiStateObservable was null."),!1;else return Diagnostics.Log.writeEntry(2,"ProvisioningStateHelper.validateContentStateOptions","ConstentStateDisplayTextObservable was null."),!1;else return Diagnostics.Log.writeEntry(2,"ProvisioningStateHelper.validateContentStateOptions","ContentStateObservable was null."),!1;else return Diagnostics.Log.writeEntry(2,"ProvisioningStateHelper.validateContentStateOptions","Options was null."),!1;return!0}var i,r;(function(n){n[n.Deleting=0]="Deleting";n[n.Failed=1]="Failed";n[n.Succeeded=2]="Succeeded";n[n.Updating=3]="Updating";n[n.Unknown=4]="Unknown"})(t.ProvisioningState||(t.ProvisioningState={}));i=t.ProvisioningState,(function(n){n[n.Deleting=0]="Deleting";n[n.Updating=1]="Updating";n[n.None=2]="None"})(t.UiState||(t.UiState={}));r=t.UiState;t.getProvisioningStateEnum=u;t.getProvisioningStateString=f;t.getProvisioningStateDisplayName=
o;t.setContentState=s;t.setPartStatus=h;t.isSucceeded=c;t.isFailed=l;t.getSetUiStateMappedInstance=a})(i=t.ProvisioningStateHelper||(t.ProvisioningStateHelper={}))})(t=n.Utilities||(n.Utilities={}))})(ExtensionCore||(ExtensionCore={}));ProvisioningStateHelper=ExtensionCore.Utilities.ProvisioningStateHelper;Models=ExtensionCore.Models,(function(n){var t;(function(n){var t;(function(n){"use strict";var t=(function(n){function t(t){n.call(this);this.id=ko.observable();this.eventsOptions=ko.observable({});this.metricQuerySetting=ko.observable();this.metricsOptions=ko.observable({isDisabled:!1,disabledMessage:""});this._validateOptions(t);this._lifeTimeManager=t.container;this._getUiState=t.getUiState;this._getProvisioningState=t.getProvisioningState||null;this._customProvisioningState=t.customProvisioningState||null;this._entityView=t.entityCache.createView(t.container);this.subtitle(t.subtitle);this.icon(t.icon)}return __extends(t,n),t.prototype.onInputsSet=function(n){var t=this,r,i;return this.
id(n.id),r=MsPortalFx.ViewModels.Services.ResourceTypes.parseResourceDescriptor(this.id()),this.title(r.resource),i=Q.defer(),this._entityView.fetch({id:this.id()}).then((function(){t._lifeTimeManager.createChildLifetime();MsPortalFx.disposeDisposable(t._uiStateSubscribeLifetime);t._uiStateSubscribeLifetime=t._lifeTimeManager.createChildLifetime();t._provisioningStateObservable=t._getProvisioningStateObservable();t._uiStateObservable=t._getUIStateObservable();t._uiStateObservable.subscribeAndRun(t._uiStateSubscribeLifetime,(function(){t._updateBladeStatus()}));t._provisioningStateObservable&&t._provisioningStateObservable.subscribeAndRun(t._uiStateSubscribeLifetime,(function(){t._updateBladeStatus()}));i.resolve()})).catch((function(t){Diagnostics.Log.writeEntry(2,"AssetBladeBase.onInputsSet","Failed to get entity with id {0}.".format(n.id,FxImpl.Diagnostics.getLogFriendlyMessage(t)));i.reject(t)})),i.promise},t.prototype._getUIStateObservable=function(){var n=this._entityView&&this._entityView.
item&&this._entityView.item();return n&&this._getUiState?this._getUiState(n):null},t.prototype._getProvisioningStateObservable=function(){var n=this._entityView&&this._entityView.item&&this._entityView.item();return n&&this._getProvisioningState?this._getProvisioningState(n):null},t.prototype._updateBladeStatus=function(){var n={contentStateObservable:this.contentState,constentStateDisplayTextObservable:this.contentStateDisplayText,uiStateObservable:this._uiStateObservable,provisioningStateObservable:this._provisioningStateObservable,customProvisioningState:this._customProvisioningState};ProvisioningStateHelper.setContentState(n)},t.prototype._validateOptions=function(n){if(n)if(n.container)if(n.entityCache)if(n.getUiState)if(n.subtitle){if(!n.icon)throw new Error("AssetBladeBase: options.icon was null.");}else throw new Error("AssetBladeBase: options.subtitle was null.");else throw new Error("AssetBladeBase: options.uiState was null.");else throw new Error("AssetBladeBase: options.entityCache was null.");
else throw new Error("AssetBladeBase: options.container was null.");else throw new Error("AssetBladeBase: options was null.");},t})(MsPortalFx.ViewModels.Blade);n.AssetBladeBase=t})(t=n.BaseViewModels||(n.BaseViewModels={}))})(t=n.UI||(n.UI={}))})(ExtensionCore||(ExtensionCore={}));NotificationUtility=ExtensionCore.UI.NotificationsV3;FxDialogs=MsPortalFx.ViewModels.Dialogs,(function(n){var t;(function(t){var i;(function(t){"use strict";var i=(function(t){function i(n,i,r){var u=this;t.call(this);this._internalUiState=ProvisioningStateHelper.UiState.Deleting;this._lifeTimeManager=n;this._deleteAssetCommandStrings=i;this._uiDeleteStateMap=r;this.icon(MsPortalFx.Base.Images.Delete());this.enabled=ko.pureComputed((function(){return u.status()!==1}))}return __extends(i,t),i.prototype.onInputsSet=function(n){var t,i;return this._id=n.id,t=FxResourceTypes.parseResourceDescriptor(this._id),this._name=t.resource,this._deleteAssetCommandStrings.deleteConfirmationMessage.indexOf("{parent}")>=0&&(i={parent:
t.resources[t.resources.length-2]},this._deleteAssetCommandStrings.deleteConfirmationMessage=this._deleteAssetCommandStrings.deleteConfirmationMessage.format(i)),Q()},i.prototype.execute=function(){var n=new FxDialogs.MessageBox(this._deleteAssetCommandStrings.deleteConfirmationTitle,this._deleteAssetCommandStrings.deleteConfirmationMessage.format(this._name),FxDialogs.MessageBoxButtons.YesNo);this.dialog(n)},i.prototype.dialogClick=function(n){var t=this;n===6&&this._deleteAssetAction().finally((function(){return t.status(0)}));this.status(0)},i.prototype._deleteResource=function(){return n.ArmUtils.deleteResource(this._id,n.ArmUtils.getApiVersionByResourceId(this._id))},i.prototype._deleteAssetAction=function(){var i=this,t={name:this._name},r=new NotificationUtility.NotificationSettings(this._deleteAssetCommandStrings.notificationSuccessTitle,this._deleteAssetCommandStrings.notificationSuccessMessage.format(t),this._deleteAssetCommandStrings.notificationFailureTitle,this._deleteAssetCommandStrings.
notificationFailureMessage.format(t),this._deleteAssetCommandStrings.notificationInProgressTitle,this._deleteAssetCommandStrings.notificationInProgressMessage.format(t)),n;return r.assetInfo=this._getAssetTriplet(),this.status(1),this._getSetUiState(this._internalUiState),n=this._deleteResource(),n.finally((function(){i._getSetUiState(ProvisioningStateHelper.UiState.None);i.status(0)})),NotificationUtility.trackArmOperationState(r,n),n},i.prototype._getSetUiState=function(n){return ProvisioningStateHelper.getSetUiStateMappedInstance(this._uiDeleteStateMap,this._id,n)},i})(MsPortalFx.ViewModels.Command),r;t.DeleteChildResourceCommandBase=i;r=(function(n){function t(t,i,r,u,f){n.call(this,t,u,f);this._internalUiState=ProvisioningStateHelper.UiState.Deleting;this._assetTypeName=i;this._extensionName=r}return __extends(t,n),t.prototype._deleteResource=function(){var t=this;return n.prototype._deleteResource.call(this).then((function(){MsPortalFx.UI.AssetManager.notifyAssetDeleted(t._assetTypeName,
t._id)}))},t.prototype._getAssetTriplet=function(){return{assetId:this._id,assetType:this._assetTypeName,extensionName:this._extensionName}},t})(i);t.DeleteAssetCommandBase=r})(i=t.CommandViewModels||(t.CommandViewModels={}))})(t=n.UI||(n.UI={}))})(ExtensionCore||(ExtensionCore={}));SimpleButton=MsPortalFx.ViewModels.Controls.SimpleButton,(function(n){var t;(function(t){var i;(function(t){"use strict";var i=(function(t){function i(i,r,u){t.call(this,i);this.title=ko.observable();this.subtitle=ko.observable();this.descriptionOfFeature=ko.observable();this.helpUri=ko.observable();this.titleImageUri=ko.observable();this.contentState=ko.observable();this.contentStateDisplayText=ko.observable();this.icon=ko.observable();this.previewText=ko.observable(ClientResources.Enrollment.preview.format(n.Constants.links.previewSupplementalTerms));this.learnMoreText=ko.observable(ClientResources.Enrollment.learnMore);this.learnMoreLink=ko.observable();this.thankYou=ko.observable(ClientResources.Enrollment.Description.
thankYou);this.buttonDescription=ko.observable(ClientResources.Enrollment.Description.button);this._enrollButtonText=ko.observable(ClientResources.Enrollment.Button.signUp);this._enrollButtonDisabled=ko.observable(!1);this._id=ko.observable();this._featuresNotRegistered=ko.observableArray();this._statuses=ko.observableArray();this._isFetchingData=ko.observable(!0);this._isRegistered=ko.observable(!1);this._isPending=ko.observable(!1);this._container=i;this.title(u.bladeTitle);this.icon(u.icon);this.descriptionOfFeature(u.description);this.learnMoreLink(u.learnMoreLink);this._options=u;this._initializeComputed();this._initializeControls()}return __extends(i,t),i.prototype.onInputsSet=function(n){this._id(n.id);var t=MsPortalFx.ViewModels.Services.ResourceTypes.parseResourceDescriptor(n.id);return this.subtitle(t.resource),this._getStatus()},i.prototype._initializeControls=function(){var n=this;this.enrollButton=new SimpleButton.ViewModel(this._container,{text:this._enrollButtonText,primary:
!0,disabled:this._enrollButtonDisabled,onClick:function(){n._enrollButtonClickHandler(n)}})},i.prototype._getStatus=function(){var t=this,i=[];return this._options.features.forEach((function(r){i.push(n.ArmUtils.getPreviewFeatureRegistrationStatusById(t._id(),r).then((function(i){StringEx.equals(i,n.Constants.FeatureRegistrationState.notRegistered,StringComparison.IgnoreCase)&&t._featuresNotRegistered.push(r);t._statuses.push(i.toLocaleLowerCase())})).catch((function(n){MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"EnrollPreviewBaseViewModel._getStatus","Unexpected error encountered. Could not retrieve status on feature {0}. Reason: {1}".format(r.featureId,n));throw n;})))})),Q.all(i).then((function(){t._featuresNotRegistered().length>0||(t._statuses.indexOf(n.Constants.FeatureRegistrationState.pending.toLocaleLowerCase())>=0||t._statuses.indexOf(n.Constants.FeatureRegistrationState.registering.toLocaleLowerCase())>=0?(t._enrollButtonText(ClientResources.Enrollment.Button.approvalPending),t._enrollButtonDisabled(
!0),t._isPending(!0)):t._isRegistered(!0))})).finally((function(){t._isFetchingData(!1)}))},i.prototype._enrollButtonClickHandler=function(t){var r=this,u,i;t._isPending()||(this._enrollButtonDisabled(!0),u={assetId:this._id(),assetType:this._options.assetType,extensionName:this._options.extensionName},i=!0,this._featuresNotRegistered().forEach((function(f){n.ArmUtils.registerPreviewFeature(u,f.featureId,f.featureProvider,r._options.friendlyName,!0).then((function(n){i=i&&n;i?(r._enrollButtonText(ClientResources.Enrollment.Button.approvalPending),r._isPending(!0)):t._enrollButtonDisabled(!1)})).catch((function(n){t._enrollButtonDisabled(!1);throw n;}))})))},i.prototype._initializeComputed=function(){var n=this;this.showThankYou=ko.pureComputed((function(){return!n._isFetchingData()&&!n._isRegistered()&&n._isPending()}));this.showButtonDescription=ko.pureComputed((function(){return!n._isFetchingData()&&!n._isRegistered()&&!n._isPending()}));this.showButton=ko.pureComputed((function(){return!n._isFetchingData(
)&&!n._isRegistered()}))},i})(MsPortalFx.ViewModels.Forms.Form.ViewModel);t.EnrollPreviewBaseViewModel=i})(i=t.BaseViewModels||(t.BaseViewModels={}))})(t=n.UI||(n.UI={}))})(ExtensionCore||(ExtensionCore={}));ContentState=MsPortalFx.ViewModels.ContentState;FxToolbars=MsPortalFx.ViewModels.Toolbars,(function(n){var t;(function(t){var i;(function(t){"use strict";var i,r,u;(function(n){n[n.Read=0]="Read";n[n.Edit=1]="Edit";n[n.Saving=2]="Saving";n[n.SaveFailed=3]="SaveFailed";n[n.Loading=4]="Loading";n[n.Deleting=5]="Deleting";n[n.DeleteFailed=6]="DeleteFailed"})(t.FormState||(t.FormState={}));i=t.FormState,(function(n){n[n.Edit=0]="Edit";n[n.Save=1]="Save";n[n.Discard=2]="Discard"})(t.CommandContext||(t.CommandContext={}));r=t.CommandContext;u=(function(){function t(n,t,r){var u=this;this._container=n;this._caller=t;this._config=r;this._formState=ko.observable();this.operationInProgress=ko.observable(!1);this.isEditMode=ko.pureComputed((function(){if(u._config.isReadEditForm){var n=u._formState();
return n===i.Edit||n===i.Saving||n===i.SaveFailed?!0:!1}return!0}));this._validateConfig();this._initializeCommandBar();this._formState(i.Loading);this._formState.subscribe(this._container,(function(n){u._formStateChanged(n)}));this._resetFormState()}return t.prototype._resetFormState=function(){this._config.isReadEditForm?this._formState(i.Read):this._formStateChanged(i.Edit)},t.prototype.updateSaveButtonText=function(n){this._commandBarSaveButton.label(n)},t.prototype.setFormState=function(n){this._formState(n)},t.prototype._validateConfig=function(){var t=this._config.resourceId&&this._config.resourceId()||null,r,i,u,f;if(this._config.deleteOptions){if(r=this._config.deleteOptions.notificationSettings||null,!t||!r)throw new ArgumentError("ReadEditFormHelper._validateConfig - if deleteOptions is specified,                         both resourceId and notificationSetting must be specified");if(i=this._config.deleteOptions.customDeleteHandler||null,u=!i&&t&&n.ArmUtils.getApiVersionByResourceId(
t)||null,!i&&!u)throw new ArgumentError("ReadEditFormHelper._validateConfig - if deleteOptions is specified,                         either customDeleteHandler should be specified OR apiVersion returned by getApiVersionByResourceId must be valid");}if(f=this._config.writePermissions,f&&!t)throw new ArgumentError("ReadEditFormHelper._validateConfig - resourceId is required when permission checks are specified. resourceId is invalid or missing.");if(!this._caller.editScope){if(!this._config.saveAction)throw new ArgumentError("ReadEditFormHelper._validateConfig - saveAction must be specified for a non editscope form.");if(!this._config.discardActionCallback)throw new ArgumentError("ReadEditFormHelper._validateConfig - discardActionCallback must be specified for a non editscope form.");if(!this._config.canSave)throw new ArgumentError("ReadEditFormHelper._validateConfig - canSave must be specified for a non editscope form.");if(!this._config.canEdit)throw new ArgumentError("ReadEditFormHelper._validateConfig - canEdit must be specified for a non editscope form.");
if(!this._config.canDiscard)throw new ArgumentError("ReadEditFormHelper._validateConfig - canDiscard must be specified for a non editscope form.");}this._config.isReadEditForm=this._config.isReadEditForm?!0:!1;this._config.allowOperations||(this._config.allowOperations=ko.observable(!0))},t.prototype._initializeCommandBar=function(){var t=this,e,f,v,c,l;if(this._commandBarEditButton=new FxToolbars.CommandButton,this._commandBarSaveButton=new FxToolbars.CommandButton,this._commandBarDiscardButton=new FxToolbars.CommandButton,this._commandBarDeleteButton=new FxToolbars.DialogButton,e=ko.pureComputed((function(){return t._config.allowOperations()&&!t.operationInProgress()})),this._config.isReadEditForm&&(this._commandBarEditButton.label(n.Resources.Command.edit),this._commandBarEditButton.icon(MsPortalFx.Base.Images.Edit()),this._commandBarEditButton.commandContext(r.Edit),this._commandBarEditButton.command={canExecute:this._config.canEdit||e,execute:function(){return t._formState(i.Edit),Q(
)}}),this._commandBarDiscardButton.label(n.Resources.Command.discard),this._commandBarDiscardButton.icon(MsPortalFx.Base.Images.Discard()),this._commandBarDiscardButton.commandContext(r.Discard),this._commandBarDiscardButton.command={canExecute:this._config.canDiscard||ko.pureComputed((function(){var n=ko.unwrap(t._caller.editScope),i=e();return n&&!t._config.isReadEditForm&&(i=i&&n.dirty()&&!n.saving()),i})),execute:function(){if(t._config.discardActionCallback)t._config.discardActionCallback();else{var n=ko.unwrap(t._caller.editScope);n&&n.revertAll()}return t._resetFormState(),Q()}},this._commandBarSaveButton.label(n.Resources.Command.save),this._commandBarSaveButton.icon(MsPortalFx.Base.Images.Save()),this._commandBarSaveButton.commandContext(r.Save),this._commandBarSaveButton.command={canExecute:this._config.canSave||ko.pureComputed((function(){var n=ko.unwrap(t._caller.editScope),i=e()&&t._caller.valid();return n&&(i=i&&n.dirty()&&!n.saving()),i})),execute:function(){return t._config.
preSaveAction?t._config.preSaveAction().then((function(n){n&&t._performSave()})).catch((function(n){t._formState(i.SaveFailed);MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"EditFormOrchestrator._executeCommand","Unexpected error occurred in preSaveAction. Reason: {0}".format(FxImpl.Diagnostics.getLogFriendlyMessage(n)))})):t._performSave(),Q()}},f=this._config.resourceId&&this._config.resourceId()||null,this._config.deleteOptions){var o=this._config.deleteOptions.customDeleteHandler||null,y=!o&&n.ArmUtils.getApiVersionByResourceId(f)||null,p=!o&&this._config.deleteOptions.assetTriplet&&this._config.deleteOptions.assetTriplet()||null,u=this._config.deleteOptions.notificationSettings||null,h=FxResourceTypes.parseResourceDescriptor(f),a=h.resource,w=u.deleteConfirmationTitle,s=u.deleteConfirmationMessage.format(a);s.indexOf("{parent}")>=0&&(v={parent:h.resources[h.resources.length-2]},s=s.format(v));this._commandBarDeleteButton.label(n.Resources.Command.deleteCommand);this._commandBarDeleteButton.
icon(MsPortalFx.Base.Images.Delete());this._commandBarDeleteButton.dialogOptions=new MsPortalFx.ViewModels.Dialogs.MessageBox(w,s,MsPortalFx.ViewModels.Dialogs.MessageBoxButtons.YesNo);this._commandBarDeleteButton.command={canExecute:this._config.deleteOptions.canDelete||e,execute:function(r){if(r==6){t._formState(i.Deleting);var e=void 0,s={name:a},h=new NotificationUtility.NotificationSettings(u.notificationSuccessTitle,u.notificationSuccessMessage.format(s),u.notificationFailureTitle,u.notificationFailureMessage.format(s),u.notificationInProgressTitle,u.notificationInProgressMessage.format(s),p);e=o?o():n.ArmUtils.deleteResource(f,y);NotificationUtility.trackArmOperationState(h,e);Q(e).then((function(){return t._config.postDeleteAction?t._config.postDeleteAction():Q()})).then((function(){t._resetFormState()})).catch((function(){t._formState(i.DeleteFailed);t._config.deleteFailedAction&&t._config.deleteFailedAction()}))}return Q()}}}c=this._config.writePermissions;l=this._config.deleteOptions&&
this._config.deleteOptions.deletePermissions||null;c&&MsPortalFx.Base.Security.hasPermission(f,c).then((function(n){n||(t._config.isReadEditForm&&t._commandBarEditButton.unauthorized(),t._commandBarSaveButton.unauthorized(),t._commandBarDiscardButton.unauthorized())}));l&&MsPortalFx.Base.Security.hasPermission(f,l).then((function(n){n||t._commandBarDeleteButton.unauthorized()}))},t.prototype._performSave=function(){var n=this,t,r;return this._caller.valid()?(this._formState(i.Saving),t=void 0,this._config.saveAction?t=this._config.saveAction():(r=ko.unwrap(this._caller.editScope),r&&(t=r.saveChanges())),Q(t).then((function(){return n._config.postSaveAction?n._config.postSaveAction():Q()})).then((function(){n._resetFormState()})).catch((function(){n._formState(i.SaveFailed);n._config.saveFailedAction&&n._config.saveFailedAction()}))):Q()},t.prototype._formStateChanged=function(t){this._config.overwriteNoneContentState?this._config.overwriteNoneContentState():(this._caller.contentState(ContentState.
None),this._caller.contentStateDisplayText(""));switch(t){case i.Loading:this.operationInProgress(!0);this._setCommandBarItems({showEdit:!0,showSave:!1,showDiscard:!1,showDelete:!0});break;case i.Read:this.operationInProgress(!1);this._setCommandBarItems({showEdit:!0,showSave:!1,showDiscard:!1,showDelete:!0});break;case i.Edit:this.operationInProgress(!1);this._setCommandBarItems({showEdit:!1,showSave:!0,showDiscard:!0,showDelete:!0});break;case i.Saving:this.operationInProgress(!0);this._caller.contentState(ContentState.Info);this._caller.contentStateDisplayText(n.Resources.ContentState.updating);break;case i.SaveFailed:this.operationInProgress(!1);this._setCommandBarItems({showEdit:!1,showSave:!0,showDiscard:!0,showDelete:!0});this._caller.contentState(ContentState.Error);this._caller.contentStateDisplayText(n.Resources.ContentState.updateFailed);break;case i.Deleting:this.operationInProgress(!0);this._caller.contentState(ContentState.Info);this._caller.contentStateDisplayText(n.Resources.
ContentState.deleting);break;case i.DeleteFailed:this.operationInProgress(!1);this._setCommandBarItems({showEdit:!0,showSave:!1,showDiscard:!1,showDelete:!0});this._caller.contentState(ContentState.Error);this._caller.contentStateDisplayText(n.Resources.ContentState.deleteFailed);break;default:this.operationInProgress(!0);this._setCommandBarItems({showEdit:!1,showSave:!1,showDiscard:!1,showDelete:!1})}},t.prototype._setCommandBarItems=function(n){n.showDelete=!!(n.showDelete&&this._config.deleteOptions);n.showEdit=!!(n.showEdit&&this._config.isReadEditForm);var i=this._config.customToolbarButtonsOrOrder,t;i?t=i(n.showEdit?this._commandBarEditButton:null,n.showSave?this._commandBarSaveButton:null,n.showDiscard?this._commandBarDiscardButton:null,n.showDelete?this._commandBarDeleteButton:null,this.isEditMode()):(t=[],n.showEdit&&t.push(this._commandBarEditButton),n.showSave&&t.push(this._commandBarSaveButton),n.showDiscard&&t.push(this._commandBarDiscardButton),n.showDelete&&t.push(this._commandBarDeleteButton));
this._caller.commandBar.setItems(t)},t})();t.EditFormOrchestrator=u})(i=t.EditFormHelpers||(t.EditFormHelpers={}))})(t=n.UI||(n.UI={}))})(ExtensionCore||(ExtensionCore={}));FxResourceTypes=MsPortalFx.ViewModels.Services.ResourceTypes;Pickers=MsPortalFx.ViewModels.ParameterCollectionV3.Pickers,(function(n){var t;(function(t){var i;(function(t){"use strict";var i=(function(i){function r(n,r,u,f){var e=this;this._noneItem=ko.observable();this._dataNavigator=r.createNavigatorWithOptions(n,this._createNavigatorOptions());this._subscriptionId=ko.observable();this._location=ko.observable();this._resourceGroup=ko.observable();this._container=n;this._isFetchingComplete=ko.observable(!1);this._allowMultiSelect=f?f:!1;i.call(this,n,u,this._createPickerOptions());this.infoBoxViewModel=new MsPortalFx.ViewModels.Controls.InfoBox.ViewModel(n,u);this.parameterProvider.configFromCollector.subscribe(n,(function(n){n&&(MsPortalFx.isNullOrUndefined(n.createSynchronously)||MsPortalFx.Base.Diagnostics.Log.writeEntry(
1,"PickerPartViewModelBase","WARNING! Please use createOptions.createSynchronously instead."),n.createSynchronously||n.createOptions&&n.createOptions.createSynchronously||(n.displayFlags&t.PickerDisplayFlags.ShowCreateItem)===t.PickerDisplayFlags.ShowCreateItem?e.showCreateAction(!0):e.showCreateAction(!1),(n.displayFlags&t.PickerDisplayFlags.ShowNoneItem)===t.PickerDisplayFlags.ShowNoneItem&&e._noneItem(e._getNoneItem()))}))}return __extends(r,i),r.prototype._incomingDataReceived=function(){},r.prototype._getPickerBaseItem=function(){throw new Error("This method is abstract");},r.prototype._getCreateNewOptions=function(){throw new Error("This method is abstract. Implement this method in the derived class, and pass PickerInputs via supplyProviderConfig.");},r.prototype._mapItemsToDataModel=function(){throw new Error("This method is abstract");},r.prototype._getNoneItem=function(){throw new Error("This method is abstract. Implement this method in the derived class, and pass PickerInputs via supplyProviderConfig.");
},r.prototype._findIndexToInsertAt=function(n,t,i,r){for(var f,u=i;u<r;u++)if(f=n[u].item.name().localeCompareIgnoreCase(t.name()),f>=0)return u;return r},r.prototype._createNavigatorOptions=function(){var n=this;return{createMapping:function(t,i){var r=ko.observableArray();return n._noneItem.subscribe(t,(function(n){n&&r.unshift(n)})),i.subscribeArrayChanges(t,(function(t){var e=n._getPickerBaseItem(t),i,u,f,s;if(e!==null)if(i=r(),i.length===0)r.push(e);else{if(u=0,f=i.firstIndex((function(n){return n.disabled()===!0})),e.disabled())u=f>=0?n._findIndexToInsertAt(i,t,f,i.length):i.length;else{var h=void 0,c=!1,o=-1;t.id()&&(h=FxResourceTypes.parseResourceDescriptor(t.id()),c=h.resourceGroup.localeCompareIgnoreCase(n._resourceGroup())===0,o=i.firstIndex((function(t){if(!t.item.id())return!1;var i=FxResourceTypes.parseResourceDescriptor(t.item.id());return!t.disabled()&&i.resourceGroup.localeCompareIgnoreCase(n._resourceGroup())!==0})));c?(s=0,i.length>0&&!i[0].item.id()&&(s=1),u=o>=0?n._findIndexToInsertAt(
i,t,s,o):f>=0?n._findIndexToInsertAt(i,t,s,f):n._findIndexToInsertAt(i,t,s,i.length)):t.id()&&(u=o>=0?f>=0?n._findIndexToInsertAt(i,t,o,f):n._findIndexToInsertAt(i,t,o,i.length):f>=0?f:i.length)}u===i.length?r.push(e):u<i.length&&(i[u].item.id()===t.id()?r.replace(i[u],e):r.splice(u,0,e))}}),(function(n){r.remove((function(t){return t.item.id()===n.id()}))})),r}}},r.prototype._createPickerOptions=function(){var n=this;return{dataNavigator:this._dataNavigator,createNewOptions:this._getCreateNewOptions(),allowMultiSelect:this._allowMultiSelect,mapIncomingDataToDataModel:function(t){return t&&(n._incomingDataReceived(t),n._usage=t.usage),n._incomingData=t,t},loadPickerItems:function(t){n._pickerInputs=t;n._subscriptionId(t.subscriptionId);n._location(t.location);n._resourceGroup(t.resourceGroup);n._isFetchingComplete(!1);n._dataNavigator.setQuery(t).finally((function(){return n._isFetchingComplete(!0)}));var i=n.addNewGrid.getRowMetadata(n.addNewGrid.items()[0]);n._usage&&n._usage()&&n._incomingData.
usage().currentValue>=n._incomingData.usage().limit?(i.disabled(!0),n.showInfoBox(!0),n.infoBoxViewModel.text(n._cannotCreateQuotaMessageFormat.format(n._incomingData.usage().limit)),n.infoBoxViewModel.image(MsPortalFx.Base.Images.StatusBadge.Warning())):i&&n._incomingData&&n._incomingData.id&&!n._incomingData.id()&&i.selected(!0)},mapItemsToDataModel:function(t){return n._mapItemsToDataModel(t)},isItemInDataModel:function(n,t){return(t&&t.id&&t.id())?n.item.id()?n.item.id().localeCompareIgnoreCase(t.id())===0:!t.id():!1}}},r.prototype.createPickerResultsReactor=function(t){var i=this;ko.reactor(this._container,(function(){i._isFetchingComplete()&&!i.showInfoBox()&&(i.pickerGrid.items().length===0?(i.infoBoxViewModel.image(MsPortalFx.Base.Images.StatusBadge.Warning()),i._location()?n.Utilities.getLocationDisplayName(i._location()).then((function(r){i.infoBoxViewModel.text(n.Resources.Picker.noResultsWithLocation.format(t,r))})):i.infoBoxViewModel.text(n.Resources.Picker.noResults.format(t))):
(i.infoBoxViewModel.image(MsPortalFx.Base.Images.StatusBadge.Info()),i._location()?n.Utilities.getLocationDisplayName(i._location()).then((function(r){i.infoBoxViewModel.text(n.Resources.Picker.resultsWithLocation.format(t,r))})):i.infoBoxViewModel.text(n.Resources.Picker.results.format(t))),i.showInfoBox(!0),MsPortalFx.Base.Diagnostics.Log.writeEntry(0,"PickerResultsReactor","Picker found {0} items, location was: {1}, query details:'{2}'".format(i.pickerGrid.items().length.toString(),i._location(),FxImpl.Diagnostics.getLogFriendlyMessage(i._pickerInputs))))}))},r.prototype.isCorrectLocation=function(n){var i=this._pickerInputs&&this._pickerInputs.location,t;return i?(t=n&&n.location&&n.location(),t)?StringEx.equals(i,t,StringComparison.IgnoreCase):(MsPortalFx.Base.Diagnostics.Log.writeEntry(1,"PickerPartViewModelBaseInternal.isCorrectLocation","The location of item with id: {0}, was null, this is unexpected.".format(n&&n.id&&n.id())),!1):!0},r})(Pickers.PickerBase),r;t.PickerPartViewModelBaseInternal=
i;r=(function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t})(i);t.PickerPartViewModelBase=r})(i=t.BaseViewModels||(t.BaseViewModels={}))})(t=n.UI||(n.UI={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(t){var i;(function(t){"use strict";var i=(function(t){function i(n,i){var r=this;this._noneItem=ko.observable();this._container=n;this._items=ko.observableArray();this._isFetchingComplete=ko.observable(!1);t.call(this,n,i,this._createPickerOptions());this.pickerGrid.noRowsMessage(ClientResources.loading);this.infoBoxViewModel=new MsPortalFx.ViewModels.Controls.InfoBox.ViewModel(n,i);this.parameterProvider.configFromCollector.subscribe(n,(function(n){r._pickerInputs=n;n&&(n.showNoneItem&&r._noneItem(r._getNoneItem()),n.resourceNameForInfoBox&&n.locationForInfoBox&&!r.showInfoBox()&&r._createPickerResultsSubscription(n.resourceNameForInfoBox,n.locationForInfoBox))}))}return __extends(i,t),i.prototype._createPickerOptions=function(){var t=this;return{items:
this._items,mapIncomingDataToDataModel:function(n){return n},loadPickerItems:function(){t._isFetchingComplete(!1);n.ArmUtils.corsCollectionSupplier("GET",t._pickerInputs.query,null,null).then((function(n){var i,r;Array.isArray(n)&&(i=[],t._pickerInputs.showNoneItem&&!!t._noneItem()&&i.push(t._noneItem()),r=[],n.forEach((function(n){var u,f;t._pickerInputs.resourceIdToHide&&StringEx.equals(n.id,t._pickerInputs.resourceIdToHide,StringComparison.IgnoreCase)||(u={icon:ko.observable(t._pickerInputs.icon),title:ko.observable(n.name),item:{name:ko.observable(n.name),id:ko.observable(n.id),location:ko.observable(n.location)},subtitle:ko.observable(n.location)},t._pickerInputs.overrideItem&&t._pickerInputs.overrideItem(u,n),t._pickerInputs.filter?(f=t._pickerInputs.filter(n),f.valid?i.push(u):(u.disabled=ko.observable(!0),u.infoBalloon=new MsPortalFx.ViewModels.Controls.DockedBalloon.ViewModel(t._container),u.infoBalloon.content(f.message),r.push(u))):i.push(u))})),i=i.concat(r),t._items(i));t.pickerGrid.
noRowsMessage(ClientResources.noResults)})).finally((function(){t._isFetchingComplete(!0)}))},mapItemsToDataModel:function(n){return n[0].item},isItemInDataModel:function(n,t){return(t&&t.id&&t.id())?n.item.id()?n.item.id().localeCompareIgnoreCase(t.id())===0:!t.id():!1}}},i.prototype._getNoneItem=function(){return{icon:ko.observable(this._pickerInputs.icon),title:ko.observable(ClientResources.Text.none),item:{location:ko.observable(),id:ko.observable(),name:ko.observable()},subtitle:ko.observable("")}},i.prototype._createPickerResultsSubscription=function(t,i){var r=this;this._isFetchingComplete.subscribe(this._container,(function(){r._isFetchingComplete()&&!r.showInfoBox()&&(r.pickerGrid.items().length===0?(r.infoBoxViewModel.image(MsPortalFx.Base.Images.StatusBadge.Warning()),i?n.Utilities.getLocationDisplayName(i).then((function(i){r.infoBoxViewModel.text(n.Resources.Picker.noResultsWithLocation.format(t,i))})):r.infoBoxViewModel.text(n.Resources.Picker.noResults.format(t))):(r.infoBoxViewModel.
image(MsPortalFx.Base.Images.StatusBadge.Info()),i?n.Utilities.getLocationDisplayName(i).then((function(i){r.infoBoxViewModel.text(n.Resources.Picker.resultsWithLocation.format(t,i))})):r.infoBoxViewModel.text(n.Resources.Picker.results.format(t))),r.showInfoBox(!0))}))},i})(Pickers.PickerBase);t.ResourceSelectionPicker=i})(i=t.BaseViewModels||(t.BaseViewModels={}))})(t=n.UI||(n.UI={}))})(ExtensionCore||(ExtensionCore={}));MsFxProperties=MsPortalFx.ViewModels.Parts.Properties,(function(n){var t;(function(t){var i;(function(t){"use strict";var i=(function(t){function i(n,i,r,u,f){t.call(this,i,this._getOptionsV2(r,f),n);this._properties=[]}return __extends(i,t),i.prototype._getOptionsV2=function(t,i){var r=n.Utilities.getResourceSummaryOptions(t,i,!1);return $.extend({},r,{collapsed:!1,staticProperties:this._getOptionsProperties()})},i.prototype._getOptionsProperties=function(){return[]},i})(MsPortalFx.ViewModels.Parts.ResourceSummary.ViewModel2);t.ResourceSummaryBaseV2ViewModel=i})(i=t.ResourceSummary||
(t.ResourceSummary={}))})(t=n.UI||(n.UI={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(n){"use strict";function i(n,i,r,u){u||(u=3);var e=0,f=$.Deferred(),o=function(){n().done((function(n){var u=i(n);u.status===t.CompleteSuccess?f.resolve(u.response):u.status===t.CompleteFailure?f.reject(u.error):u.status===t.NotComplete&&setTimeout(o,r)})).fail((function(n){e++;e>u?f.reject(n):setTimeout(o,r*e)}))};return setTimeout(o,r),f.promise()}n.setPolling=i,(function(n){n[n.CompleteSuccess=0]="CompleteSuccess";n[n.CompleteFailure=1]="CompleteFailure";n[n.NotComplete=2]="NotComplete"})(n.PollStatus||(n.PollStatus={}));var t=n.PollStatus})(t=n.Utilities||(n.Utilities={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(n){"use strict";function i(n,i,r,u){var f=t.first((function(n){return n.queryCache===i}));f?(f.getParamsCallbacks.push(r),f.navigators.push(u)):(f={queryCache:i,getParamsCallbacks:[r],navigators:[u]},t.push(f));n.registerForDispose({dispose:function()
{f.getParamsCallbacks.remove(r);f.navigators.remove(u)}})}function r(n,i){var f=[],r,u;if(n.refreshAll((function(n){return i(n)&&f.push(n),!1})),f.forEach((function(t){return n.forceRemove(t)})),r=t.first((function(t){return t.queryCache===n})),r)for(u=0;u<r.getParamsCallbacks.length;u++)i(r.getParamsCallbacks[u]())&&r.navigators[u].resetNavigation()}var t=[];n.registerRemoteNavigatorForRefresh=i;n.refreshRemoteNavigators=r})(t=n.Utilities||(n.Utilities={}))})(ExtensionCore||(ExtensionCore={}));ApiVersions=ExtensionCore.Versions.ArmApiVersions,(function(n){var t;(function(t){"use strict";function i(t){var i="";switch(t){case n.Constants.StorageAccountTypeEnum.StandardZRS:i=n.Constants.StorageAccountType.StandardZoneRedundant;break;case n.Constants.StorageAccountTypeEnum.StandardLRS:i=n.Constants.StorageAccountType.StandardLocallyRedundant;break;case n.Constants.StorageAccountTypeEnum.StandardGRS:i=n.Constants.StorageAccountType.StandardGeoRedundant;break;case n.Constants.StorageAccountTypeEnum.
StandardRAGRS:i=n.Constants.StorageAccountType.StandardReadAccessGeoRedundant;break;case n.Constants.StorageAccountTypeEnum.PremiumLRS:i=n.Constants.StorageAccountType.PremiumLocallyRedundant;break;default:MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"StorageAccount","Unknown storage account type enum '{0}'".format(t))}return i}function r(t){var i=-1;switch(t){case n.Constants.StorageAccountType.StandardZoneRedundant:i=n.Constants.StorageAccountTypeEnum.StandardZRS;break;case n.Constants.StorageAccountType.StandardLocallyRedundant:i=n.Constants.StorageAccountTypeEnum.StandardLRS;break;case n.Constants.StorageAccountType.StandardGeoRedundant:i=n.Constants.StorageAccountTypeEnum.StandardGRS;break;case n.Constants.StorageAccountType.StandardReadAccessGeoRedundant:i=n.Constants.StorageAccountTypeEnum.StandardRAGRS;break;case n.Constants.StorageAccountType.PremiumLocallyRedundant:i=n.Constants.StorageAccountTypeEnum.PremiumLRS;break;default:MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"StorageAccount",
"Unknown storage account type '{0}'".format(t))}return i}function u(t){var i="";switch(t){case n.Constants.StorageAccountTypeEnum.StandardGRS:i=n.Resources.StorageAccount.Type.StandardGeoRedundant.name;break;case n.Constants.StorageAccountTypeEnum.StandardLRS:i=n.Resources.StorageAccount.Type.StandardLocallyRedundant.name;break;case n.Constants.StorageAccountTypeEnum.StandardRAGRS:i=n.Resources.StorageAccount.Type.StandardReadAccessGeoRedundant.name;break;case n.Constants.StorageAccountTypeEnum.StandardZRS:i=n.Resources.StorageAccount.Type.StandardZoneRedundant.name;break;case n.Constants.StorageAccountTypeEnum.PremiumLRS:i=n.Resources.StorageAccount.Type.PremiumLocallyRedundant.name;break;default:MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"StorageAccount","Unknown AccountType '{0}'".format(t))}return i}function f(t,i){var r="{0}/subscriptions/{1}/providers/Microsoft.Storage/checkNameAvailability?api-version={2}".format(n.ArmUtils.endpoint,i,ApiVersions.getInstance().storageAccountXCoolVersionOnly);
return n.ArmUtils.corsDataSupplier("POST",r,null,ko.toJSON({name:t,type:"Microsoft.Storage/storageAccounts"})).then((function(n){return n.nameAvailable?{valid:!0,message:""}:{valid:!1,message:n.message}}),(function(n){MsPortalFx.Base.Diagnostics.Log.writeEntry(2,"StorageHelper.validateStorageAccountName","Failed to validate storage account name: {0}".format(FxImpl.Diagnostics.getLogFriendlyMessage(n)));throw n;}))}function e(n){var t=null;return n&&(n=n.replace(/http:\/\//gi,""),n=n.replace(/https:\/\//gi,""),t=n.split(".")[0]),t}t.convertStorageTypeEnumToSpecId=i;t.getStorageAccountEnum=r;t.getStorageAccountTypeDisplayName=u;t.validateStorageAccountName=f;t.getStorageAccountName=e})(t=n.Utilities||(n.Utilities={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(t){"use strict";function i(t,i,r){var u=n.ArmUtils.endpoint+"/subscriptions/{0}/providers/{1}/locations/{2}/usages{3}".format(t,i,r,ArmApiVersions.getInstance().usages);return n.ArmUtils.corsCollectionSupplier("GET",
u,null,null)}function r(t,i){var r=n.ArmUtils.endpoint+"/subscriptions/{0}/providers/{1}/usages{2}".format(t,i,ArmApiVersions.getInstance().usages);return n.ArmUtils.corsCollectionSupplier("GET",r,null,null)}t.ListUsages=i;t.ListUsagesNoLocation=r})(t=n.Utilities||(n.Utilities={}))})(ExtensionCore||(ExtensionCore={}));PortalFxTelemetry=MsPortalFx.Base.Diagnostics.Telemetry,(function(n){var t;(function(n){var t;(function(n){"use strict";function e(n){c(n);var r=h(n);u(r)&&PortalFxTelemetry.trace({extension:t[n.extension],source:n.entityEnum[n.entityNumber],action:i[n.action],name:n.eventEnum[n.eventNumber],data:r})}function u(n){return!(r.get(n)||!r.set(n,!0))}function o(n){return window&&window.sessionStorage&&window.sessionStorage.getItem(n)}function s(n,t){var i=window&&window.sessionStorage;i&&n&&i.setItem(n,t)}function h(n){var r="Extension:_{0}|SourceEntity:_{1}|Priority:_{2}|Action:_{3}|EventName:_{4}",u;return r=r.format(t[n.extension],n.entityEnum[n.entityNumber],n.priority.toString(
),i[n.action],n.eventEnum[n.eventNumber]),n.details&&(u="{0}|Details:_{1}",r=u.format(r,n.details)),r}function c(n){var t,i;if(n)if(MsPortalFx.isNullOrUndefined(n.extension))throw new Error("validateTelemetryEvent: event.extension was null or undefined.");else if(n.entityEnum&&Object.keys(n.entityEnum).length)if(MsPortalFx.isNullOrUndefined(n.entityNumber))throw new Error("validateTelemetryEvent: event.entityNumber was null or undefined.");else if(MsPortalFx.isNullOrUndefined(n.priority))throw new Error("validateTelemetryEvent: event.priority was null or undefined.");else if(MsPortalFx.isNullOrUndefined(n.action))throw new Error("validateTelemetryEvent: event.action was null or undefined.");else if(n.eventEnum&&Object.keys(n.eventEnum).length){if(MsPortalFx.isNullOrUndefined(n.eventNumber))throw new Error("validateTelemetryEvent: event.eventNumber was null or undefined.");}else throw new Error("validateTelemetryEvent: event.eventEnum was null, undefined, or empty. 'event.eventEnum' should be a valid enum.");
else throw new Error("validateTelemetryEvent: event.entityEnum was null, undefined, or empty. 'event.entityEnum' should be a valid enum.");else throw new Error("validateTelemetryEvent: The event was null or undefined.");if(t=n.entityEnum[n.entityNumber],!t)throw new Error("validateTelemetryEvent: the entityEnum did not have a value for the entityNumber {0}.".format(n.entityNumber.toString()));if(i=n.eventEnum[n.eventNumber],!i)throw new Error("validateTelemetryEvent: the eventEnum did not have a value for the eventNumber {0}.".format(n.eventNumber.toString()));}var r=new MsPortalFx.Map,t,f,i;(function(n){n[n.Compute=0]="Compute";n[n.Network=1]="Network";n[n.Storage=2]="Storage"})(n.Extension||(n.Extension={}));t=n.Extension,(function(n){n[n.One=1]="One";n[n.Two=2]="Two";n[n.Three=3]="Three";n[n.Four=4]="Four"})(n.Priority||(n.Priority={}));f=n.Priority,(function(n){n[n.Create=0]="Create";n[n.Add=1]="Add";n[n.Read=2]="Read";n[n.Update=3]="Update";n[n.Delete=4]="Delete";n[n.Information=5]="Information"})
(n.Action||(n.Action={}));i=n.Action;n.writeTelemetryEvent=e;n.isNewEvent=u;n.getSessionItem=o;n.setSessionItem=s})(t=n.Telemetry||(n.Telemetry={}))})(t=n.Utilities||(n.Utilities={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(n){"use strict";function i(n,t){return n+Math.floor(Math.random()*(t-n+1))}function r(n,t){MsPortalFx.Data.DataSet.mergeWithoutAtomization({value:n},{value:t})}function u(n){var i=t(ko.toJS(n));return ko.isObservable(n)&&!ko.isObservable(i)&&(i=ko.observable(i)),i}function f(n){return n&&n.value&&Array.isArray(n.value)?n.value:n}function e(n){if(!n)return"";if(n.responseJSON&&n.responseJSON.Message)return n.responseJSON&&n.responseJSON.Message;if(n.responseJSON&&n.responseJSON.message)return n.responseJSON&&n.responseJSON.message;var t;try{if(t=n.responseText&&JSON.parse(n.responseText).Message,t)return t}catch(i){}try{if(t=n.responseText&&JSON.parse(n.responseText).message,t)return t}catch(i){}return""}function o(n){n=n||"";var t=n.split("//"),
r=t.length?t.last():"",i=r.split("/");return i.splice(0,1),i.join("/")}function s(n){return n&&typeof n=="function"}function t(n){var i,r,u;if(Array.isArray(ko.utils.unwrapObservable(n)))i=ko.observableArray(ko.utils.unwrapObservable(n).map((function(n){return t(n)})));else if(MsPortalFx.isObject(n)){i={};for(r in n)n.hasOwnProperty(r)&&(u=t(n[r]),i[r]=ko.isObservable(u)?u:ko.observable(u))}else i=n;return i}function h(n){var t=[];return n&&(t=n.map((function(n){return n.subscriptionId}))),t}function c(n,t){var i=!0;return t.some((function(t){return t=t.replace(/\s+/g,""),i=StringEx.equals(n,t,StringComparison.IgnoreCase)})),i}n.getRandomInteger=i;n.merge=r;n.cloneObservable=u;n.parseValueArray=f;n.getXhrError=e;n.getUrlPath=o;n.isFunction=s;n.mapItemIntoObservableProperties=t;n.mapSubscriptionIds=h;n.checkLocationIsSupportedForResource=c;var l=(function(){function n(){}return n.fwLinkFormat="http://go.microsoft.com/fwlink/?LinkId={0}",n.InstallCmdInterface=n.fwLinkFormat.format(403207),n.InstallPsCmdlets=
n.fwLinkFormat.format(403208),n.ConnectToVM=n.fwLinkFormat.format(403209),n.ConnectToVMLinux=n.fwLinkFormat.format(800659),n.ControlTraffic=n.fwLinkFormat.format(403210),n.AddStorage=n.fwLinkFormat.format(403211),n.EnableHighAvailability=n.fwLinkFormat.format(403212),n.LoadBalance=n.fwLinkFormat.format(403213),n.CaptureVM=n.fwLinkFormat.format(403214),n.VNets=n.fwLinkFormat.format(403215),n.Tutorials=n.fwLinkFormat.format(403216),n.FAQ=n.fwLinkFormat.format(403217),n.RestAPI=n.fwLinkFormat.format(403218),n.SupportForums=n.fwLinkFormat.format(403219),n.IpAddress=n.fwLinkFormat.format(511928),n.BrowseInfo=n.fwLinkFormat.format(536418),n.DockerRemoteAccess=n.fwLinkFormat.format(617074),n.LearnMoreStorageLimits=n.fwLinkFormat.format(619876),n.DisabledStandardDSizeSpec=n.fwLinkFormat.format(518557),n.DisabledGodzillaSizeSpec=n.fwLinkFormat.format(521857),n.LearnMoreRedeployVm=n.fwLinkFormat.format(734090),n.LearnMorePasswordResetWindows=n.fwLinkFormat.format(798632),n.LearnMorePasswordResetLinux=
n.fwLinkFormat.format(798633),n.ApplicationGatewayLearnMoreSla=n.fwLinkFormat.format(799732),n.ContainerServiceConnect=n.fwLinkFormat.format(830197),n.ContainerServiceManageDCOS=n.fwLinkFormat.format(830198),n.ContainerServiceManageAutomationDCOS=n.fwLinkFormat.format(835773),n.ContainerServiceManageSwarm=n.fwLinkFormat.format(830199),n.ContainerServiceManageK8=n.fwLinkFormat.format(835772),n.ContainerServiceLearnIntroduction=n.fwLinkFormat.format(830201),n.ContainerServiceLearnVideo=n.fwLinkFormat.format(830202),n.ContainerServiceApplicationEndpoints=n.fwLinkFormat.format(834315),n.ContainerServiceConnectToMaster=n.fwLinkFormat.format(834314),n.ScaleSetManagedDisks=n.fwLinkFormat.format(848516),n})();n.FwLinks=l})(t=n.Utilities||(n.Utilities={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(t){"use strict";t.DateFormatOption={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};t.sizeSuffixes=[{base10name:"B",base2name:
"B"},{base10name:"KB",base2name:"KiB"},{base10name:"MB",base2name:"MiB"},{base10name:"GB",base2name:"GiB"},{base10name:"TB",base2name:"TiB"},{base10name:"PB",base2name:"PiB"},{base10name:"EB",base2name:"EiB"},{base10name:"ZB",base2name:"ZiB"},{base10name:"YB",base2name:"YiB"}];var i=(function(){function i(){}return i.addCommas=function(n){for(var i=n.split("."),t=i[0],u=i.length>1?"."+i[1]:"",r=/(\d+)(\d{3})/;r.test(t);)t=t.replace(r,"$1,$2");return t+u},i.roundNumber=function(n,t){return n%1!=0?parseFloat(n.toFixed(t)):n},i.getFileSizeFormat=function(n,t,i,r,u){return r===void 0&&(r=10),u===void 0&&(u=!1),this.getFileSizeFormatBase(n,t,i,r,u)},i.getFileSizeFormatBase=function(r,u,f,e,o){var l;f===void 0&&(f=n.Constants.Formatter.DefaultPrecision);e===void 0&&(e=10);o===void 0&&(o=!1);var h=e==2?1024:1e3,c=u&&$.map(t.sizeSuffixes,(function(n){return n.base10name})).indexOf(u)||0,s=c,a=r||0;return r&&r>=h&&(s=Math.floor(Math.log(r)/Math.log(h)),a=r/Math.pow(h,s),s=c+s,s=s<t.sizeSuffixes.length?
s:t.sizeSuffixes.length-1),l=h===1024?t.sizeSuffixes[s].base2name:t.sizeSuffixes[s].base10name,o&&(l=t.sizeSuffixes[s].base10name),{value:i.roundNumber(a,f),unitName:t.sizeSuffixes[s].base10name,unitDisplayName:l,conversionValue:Math.pow(h,c-s)}},i})();t.Formatters=i})(t=n.Utilities||(n.Utilities={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(){"use strict"})(t=n.Models||(n.Models={}))})(ExtensionCore||(ExtensionCore={}));fxWriteEntry=MsPortalFx.Base.Diagnostics.Log.writeEntry;MsPortalFx.Base.Diagnostics.Log.writeEntry=writeEntry,(function(n){var t;(function(t){"use strict";function r(t){if(t){if(t.migrationState)return t.migrationState.displayStatus();if(t.powerState)return t.powerState.displayStatus();if(t.provisionState)return t.provisionState.displayStatus()}return n.Resources.VM.Status.unknown}function u(t){if(t)switch(t.toUpperCase()){case n.Constants.VMStatus.Creating:return ClientResources.VM.Status.creating;case n.Constants.VMStatus.Deallocating:return ClientResources.
VM.Status.deallocating;case n.Constants.VMStatus.Deallocated:return ClientResources.VM.Status.deallocated;case n.Constants.VMStatus.Deleting:return ClientResources.VM.Status.deleting;case n.Constants.VMStatus.Failed:return ClientResources.VM.Status.failed;case n.Constants.VMStatus.Running:return ClientResources.VM.Status.running;case n.Constants.VMStatus.Starting:return ClientResources.VM.Status.starting;case n.Constants.VMStatus.Stopped:return ClientResources.VM.Status.stopped;case n.Constants.VMStatus.Stopping:return ClientResources.VM.Status.stopping;case n.Constants.VMStatus.Updating:return ClientResources.VM.Status.updating;case n.Constants.ProvisioningState.Succeeded:return ClientResources.ProvisioningState.succeeded}return null}function o(n){var t=f(n);return u(t)||r(n)}function f(t){var i=n.Constants.VMStatus.Unknown,r;if(t)if(t.migrationState)i=n.Constants.VMStatus.Updating;else if(t.provisionState){switch(t.provisionState.getPrimaryStatus()){case n.Constants.ProvisioningState.
Creating:i=n.Constants.VMStatus.Creating;break;case n.Constants.ProvisioningState.Deleting:i=n.Constants.VMStatus.Deleting;break;case n.Constants.ProvisioningState.Failed:i=n.Constants.VMStatus.Failed;break;case n.Constants.ProvisioningState.Succeeded:if(t.powerState)switch(t.powerState.getPrimaryStatus()){case n.Constants.VMPowerState.Running:i=n.Constants.VMStatus.Running;break;case n.Constants.VMPowerState.Stopped:i=n.Constants.VMStatus.Stopped;break;case n.Constants.VMPowerState.Deallocated:i=n.Constants.VMStatus.Deallocated;break;case n.Constants.VMPowerState.Starting:i=n.Constants.VMStatus.Starting}break;case n.Constants.ProvisioningState.Updating:if(i=n.Constants.VMStatus.Updating,t.powerState)switch(t.powerState.getPrimaryStatus()){case n.Constants.VMPowerState.Deallocating:i=n.Constants.VMStatus.Deallocating;break;case n.Constants.VMPowerState.Running:i=n.Constants.VMStatus.Running;break;case n.Constants.VMPowerState.Starting:i=n.Constants.VMStatus.Starting;break;case n.Constants.
VMPowerState.Stopping:i=n.Constants.VMStatus.Stopping}}i===n.Constants.VMStatus.Unknown&&(r=FxImpl.Diagnostics.getLogFriendlyMessage(t),n.Utilities.Telemetry.isNewEvent(r)&&MsPortalFx.Base.Diagnostics.Log.writeEntry(1,"calculateVMAggregatedStatus","Failed to match the VM aggregated status: {0}".format(r)))}return i}var i,e;t.getDefaultVMDisplayStatus=r;t.getVMDisplayStatusFromCode=u;t.getVMDisplayStatus=o;t.calculateVMAggregatedStatus=f;i=(function(){function n(n){this.displayStatus=n.displayStatus;this.level=n.level;this.message=n.message;this.time=n.time;this.code=n.code;this.codes=ko.observableArray(n.code().split("/"))}return n.prototype.getPrimaryStatus=function(){return this.codes().length>1?this.codes()[1].toUpperCase():null},n})();t.ExtendedInstanceViewStatus=i;e=(function(){function t(t,r){var u=this;ko.reactor(t,(function(){for(var t,e=r&&r()||[],f=0;f<e.length;f++){t=new i(e[f]);switch(t.codes.peek()[0].toUpperCase()){case n.Constants.VMPowerState.StatusPrefix:u.powerState=t;break
case n.Constants.ProvisioningState.StatusPrefix:u.provisionState=t;break;case n.Constants.OsState.StatusPrefix:u.osState=t;break;case n.Constants.MigrationPhase.StatusPrefix:u.migrationState=t;break;default:MsPortalFx.Base.Diagnostics.Log.writeEntry(1,"VirtualMachine","Warning: {0} is not a recognized instance status view prefix. Instance Status: {1}".format(t.codes()[0].toString(),FxImpl.Diagnostics.getLogFriendlyMessage(t.displayStatus())))}}u.powerState||(u.powerState=new i({displayStatus:ko.observable(ClientResources.VM.Status.unknown),code:ko.observable(""),level:ko.observable(""),message:ko.observable(""),time:ko.observable(new Date)}));u.provisionState||(u.provisionState=new i({displayStatus:ko.observable(ClientResources.VM.Status.unknown),code:ko.observable(""),level:ko.observable(""),message:ko.observable(""),time:ko.observable(new Date)}));u.osState||(u.osState=new i({displayStatus:ko.observable(ClientResources.VM.Status.unknown),code:ko.observable(""),level:ko.observable(""),
message:ko.observable(""),time:ko.observable(new Date)}))}))}return t})();t.ExtendedInstanceViewStatuses=e})(t=n.Utilities||(n.Utilities={}))})(ExtensionCore||(ExtensionCore={})),(function(n){var t;(function(t){"use strict";function r(n,t){return new MsPortalFx.ViewModels.CustomValidation("",function(i){var r={valid:!0,message:undefined};return n&&n()&&n().length>0&&StringEx.isStringInArray(i,n(),StringComparison.IgnoreCase)&&(r.valid=!1,r.message=t),Q(r)})}function u(n,t){return new MsPortalFx.ViewModels.CustomValidation("",function(i){var r={valid:!0,message:undefined};return n&&n()&&n().length>0&&n().first((function(n){return n===+i?(r.valid=!1,r.message=t,!0):!1})),Q(r)})}function f(n,t){return new MsPortalFx.ViewModels.CustomValidation("",function(i){var r={valid:!1,message:undefined},u=+i;return u>=n&&u<=t?r.valid=!0:r.message=ClientResources.Validation.isInRange.format(n.toString(),t.toString()),Q(r)})}function e(t,i,r,u){return new MsPortalFx.ViewModels.CustomValidation("",function(f)
{var o=Q.defer(),h={valid:!0,message:undefined},e=t(),s;return e&&e.subscriptionId&&e.resourceGroup&&r&&u&&f?(s=Q.defer(),MsPortalFx.isNullOrUndefined(i())?n.ArmCommonApi.checkResourceGroupExists(e.subscriptionId,e.resourceGroup).then((function(n){i(!n)})).catch((function(n){Diagnostics.Log.writeEntry(1,"GeneralValidators.checkNameValidationPickerCreate","Failed to validate that the resource group exists. Subscription id was: {0}, resource group name was: {1}, reason: {2}".format(e.subscriptionId,e.subscriptionId,FxImpl.Diagnostics.getLogFriendlyMessage(n)));i(!1)})).finally((function(){s.resolve()})):s.resolve(),s.promise.then((function(){n.Validation.checkNameAvailability(f,ko.observable(e.subscriptionId),{name:e.resourceGroup,isNew:i()},r,u).then((function(n){o.resolve(n)})).catch((function(){o.resolve(h)}))}))):o.resolve(h),o.promise})}function o(n,t,r,u){var f=t();return i(n,ko.observable(f&&f.subscriptionId||null),r,u.providerName,u.resourceType)}function s(n,t,r,u,f,e,o){var h=r&&r.value()&&
r.value().subscriptionId,s=u&&u.value(),c=s&&s.value&&s.value.name,l=s&&s.createNew,a={name:c,isNew:l};return i(t(n),ko.observable(h),a,f,e,o)}function i(t,i,r,u,f,e){var c;e===void 0&&(e=null);var o={valid:!0,message:undefined},s=Q.defer(),h=i(),l=e||ClientResources.uniqueResourceNameValidation;return t&&h&&r&&!r.isNew&&r.name?(c="{0}/{1}".format(u,f),n.ArmCommonApi.checkNameAvailabilityInResourceGroup(h,r.name,c,t).then((function(n){o.valid=n;o.valid||(o.message=l);s.resolve(o)})).catch((function(){s.resolve(o)}))):s.resolve(o),s.promise}t.publicIpDomainNameLabelRegex="^$|^[a-z][a-z0-9-]{1,61}[a-z0-9]$";t.resourceGroupNameRegEx="^[0-9a-zA-Z()._-]+[0-9a-zA-Z()_-]$";t.sharedKeyRegEx="^[a-zA-Z0-9]*$";t.trafficManagerEndpointNameRegEx="^[^<>*%&:\\?+/]{1,260}$";t.getUniqueNameValidation=r;t.getUniqueNumber=u;t.getIsInRangeNumber=f;t.checkNameValidationForPickerCreate=e;t.checkNameAvailabilityCreate=o;t.checkNameAvailabilityForSelectorValue=s;t.checkNameAvailability=i})(t=n.Validation||(n.Validation=
{}))})(ExtensionCore||(ExtensionCore={}))